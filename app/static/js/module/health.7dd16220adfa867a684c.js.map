{"version":3,"sources":["webpack:///static/js/module/health.7dd16220adfa867a684c.js","webpack:///./src/module/health/health.js","webpack:///./src/common/js/mui.js?6ba8","webpack:///App.vue?f165","webpack:///./src/module/health/App.vue","webpack:///./src/module/health/App.vue?9ded"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","template","components","App","1","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_stringify","_stringify2","_defineProperty","_defineProperty2","_getPrototypeOf","_getPrototypeOf2","_setPrototypeOf","_setPrototypeOf2","_typeof2","_typeof3","mui","document","undefined","readyRE","idSelectorRE","classSelectorRE","tagSelectorRE","translateRE","translateMatrixRE","$","selector","context","wrap","isArrayLike","slice","call","ready","trim","test","found","getElementById","RegExp","$1","qsa","e","dom","fn","uuid","data","extend","options","name","src","copy","copyIsArray","clone","target","arguments","i","length","deep","isFunction","this","isPlainObject","isArray","noop","filter","type","String","class2type","toString","Array","object","isWindow","window","isObject","Object","prototype","isEmptyObject","o","p","value","getElementsByClassName","getElementsByTagName","querySelectorAll","callback","readyState","addEventListener","buffer","ms","run","timer","cancel","lastStart","now","apply","lastEnd","later","stop","each","elements","hasOwnProperty","every","idx","key","focus","element","os","ios","setTimeout","trigger","eventType","eventData","dispatchEvent","CustomEvent","detail","bubbles","cancelable","getStyles","property","styles","ownerDocument","defaultView","getComputedStyle","getPropertyValue","parseTranslate","translateString","position","result","match","split","x","parseFloat","y","z","parseTranslateMatrix","matrix","is3D","push","hooks","addAction","hook","index","sort","a","b","doAction","handle","when","f","r","m","d","id","clearTimeout","Date","toLowerCase","JSON","parseJSON","parse","detect","ua","funcs","wechat","version","replace","android","isBadAndroid","navigator","appVersion","iphone","ipad","func","userAgent","plus","body","classList","add","stream","isTouchable","EVENT_START","EVENT_MOVE","EVENT_END","EVENT_CANCEL","EVENT_CLICK","_mid","delegates","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","returnTrue","returnFalse","compatible","event","currentTarget","predicate","sourceMethod","mid","delegateFns","delegateFn","callbackObjs","handlerQueue","selectorAlls","indexOf","disabled","contains","parentNode","matches","callbacks","handlers","handler","tagName","gesture","isPropagationStopped","findDelegateFn","delegateCallbacks","filterFn","preventDefaultException","on","isAddEventListener","delegateEvents","delegateCallbackObjs","delegateFnArray","delegateCallback","href","off","splice","forEach","removeEventListener","bind","targets","targetHandles","registerTarget","founds","isFound","targetHandle","isReset","isContinue","setPrototypeOf","proto","params","evt","createEvent","initEvent","Event","Function","to","partial","bound","args","concat","documentElement","HTMLElement","defineProperty","get","update","classes","self","className","join","ret","remove","toggle","item","requestAnimationFrame","lastTime","webkitRequestAnimationFrame","currTime","getTime","timeToCall","Math","max","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","FastClick","querySelector","targetElement","click","clickEvent","touch","activeElement","blur","changedTouches","initMouseEvent","screenX","screenY","clientX","clientY","forwardedTouchEvent","propagationStopped","CLASS_FOCUSIN","CLASS_BAR_TAB","CLASS_BAR_FOOTER","CLASS_BAR_FOOTER_SECONDARY","CLASS_BAR_FOOTER_SECONDARY_TAB","webview","currentWebview","children","readOnly","isFooter","scrollTop","scrollHeight","scrollLeft","scrollTo","namespace","classNamePrefix","classSelectorPrefix","classSelector","eventName","gestures","session","addGesture","round","abs","sqrt","atan2","atan","getDistance","p1","p2","props","getScale","starts","moves","getAngle","PI","getDirection","getRotation","start","end","getVelocity","deltaTime","stoped","gestureConfig","hasParent","node","parent","uniqueArray","results","values","val","getMultiCenter","touches","touchesLength","pageX","pageY","multiTouch","pinch","copySimpleTouchData","timestamp","center","deltaX","deltaY","calDelta","offset","offsetDelta","prevDelta","prevTouch","calTouchData","firstTouch","firstMultiTouch","offsetCenter","angle","distance","offsetDirection","scale","rotation","calIntervalTouchData","CAL_INTERVAL","velocity","velocityX","velocityY","direction","last","lastInterval","v","targetIds","convertTouches","getTouches","allTouches","targetTouches","changedTargetTouches","sessionTarget","identifier","changedTouchesLength","isFirst","isFinal","handleTouchEvent","popover","tab","offcanvas","modal","isScrolling","scrollingTimeout","flickStartTime","flickStart","flick","flickMaxTime","flickMinDistince","flickTime","flickDistanceX","flickDistanceY","swipe","swipeMaxTime","swipeMinDistince","lockDirection","startDirection","drag","fingers","lastTarget","lastTapTime","tapMaxDistance","tapMaxTime","doubletap","tapMaxInterval","holdTimeout","holdThreshold","hold","lastScale","scaleDiff","minRotationAngle","handleScroll","wrapper","iframe","location","localStorage","getItem","onload","setInterval","_scrollTop","scrollY","setItem","global","tap","longtap","initGlobal","inits","init","isInit","repeat","addInit","subpages","createIframe","createElement","top","bottom","style","url","appendChild","osObj","defaultOptions","swipeBack","preloadPages","preloadLimit","keyEventBind","backbutton","menubutton","titleConfig","height","backgroundColor","bottomBorderColor","title","text","left","width","color","align","family","size","weight","fontSrc","back","image","base64Data","imgSrc","sprite","defaultShow","autoShow","duration","aniShow","extras","show","waitingOptions","showOptions","windowOptions","scalable","bounce","plusReady","fire","evalJS","receive","triggerPreload","preloaded","list","timeChecked","openWindow","nShow","nWaiting","webviewCache","webviews","getWebviewById","createNew","afterShowMethodName","Error","waitingConfig","waiting","nativeUI","showWaiting","createWindow","showWebview","close","openWindowWithTitle","tid","view","nativeObj","View","dock","drawRect","_b","parseInt","_title","drawText","_back","backClick","_backImage","right","bitmap","Bitmap","loadBase64Data","load","drawBitmap","setTouchEventRect","interceptTouchEvent","append","isCreate","preload","getURL","create","subpage","subpageId","subWebview","preloads","first","shift","closeAll","closeOpened","opened","len","openedWebview","open_open","createWindows","option","appendWebview","runtime","appid","statusBarBackground","setStatusBarBackground","display","supportStatusbarOffset","addBack","history","beforeback","action","_popover","offCanvas","previewImage","getPreviewImage","isShown","closePopup","__back__first","wobj","canBack","quit","toast","hide","menu","__back","__menu","pullRefreshOptions","pullRefresh","hasPulldown","down","hasPullup","up","container","$container","upOptions","webviewId","downOptions","jsonType","htmlType","rscript","scriptTypeRE","xmlTypeRE","blankRE","ajaxSettings","beforeSend","success","error","complete","xhr","protocol","XMLHttpRequest","accepts","script","json","xml","html","timeout","processData","cache","ajaxBeforeSend","settings","ajaxSuccess","ajaxComplete","ajaxError","status","serialize","traditional","scope","array","hash","serializeData","contentType","headers","param","toUpperCase","appendQuery","query","mimeToDataType","mime","parseArguments","dataType","ajax","abortTimeout","setHeader","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","onreadystatechange","isLocal","responseText","getResponseHeader","eval","responseXML","statusText","abort","xhrFields","async","open","username","password","send","k","encodeURIComponent","post","getJSON","parts","response","div","innerHTML","selectorDiv","childs","originAnchor","crossDomain","net","urlAnchor","host","box","getBoundingClientRect","pageYOffset","clientTop","pageXOffset","clientLeft","scroll","distaince","animationFrame","cb","isQueued","initializing","fnTest","xyz","Class","prop","_super","tmp","constructor","callee","CLASS_PULL_TOP_POCKET","CLASS_PULL_BOTTOM_POCKET","CLASS_PULL","CLASS_PULL_LOADING","CLASS_PULL_CAPTION","CLASS_PULL_CAPTION_DOWN","CLASS_PULL_CAPTION_REFRESH","CLASS_PULL_CAPTION_NOMORE","CLASS_ICON","CLASS_SPINNER","CLASS_ICON_PULLDOWN","CLASS_BLOCK","CLASS_HIDDEN","CLASS_VISIBILITY","CLASS_LOADING_UP","CLASS_LOADING_DOWN","CLASS_LOADING","pocketHtml","PullRefresh","scrollX","indicators","deceleration","contentinit","contentdown","contentover","contentrefresh","auto","contentnomore","_init","_initPocket","_initPulldownRefresh","pulldown","pullPocket","topPocket","pullCaption","topCaption","pullLoading","topLoading","_initPullupRefresh","bottomPocket","bottomCaption","bottomLoading","scroller","_createPocket","insertBefore","firstChild","clazz","iconClass","pocket","_resetPullDownLoading","loading","webkitTransition","webkitTransform","webkitAnimation","_setCaptionClass","isPulldown","caption","_setCaption","reset","lastTitle","CLASS_SCROLL","CLASS_SCROLLBAR","CLASS_INDICATOR","CLASS_SCROLLBAR_VERTICAL","CLASS_SCROLLBAR_HORIZONTAL","CLASS_ACTIVE","ease","quadratic","circular","outCirc","outCubic","Scroll","scrollerStyle","stopped","startX","startY","hardwareAccelerated","fixedBadAndorid","momentum","snapX","snap","bounceTime","bounceEasing","scrollTime","scrollEasing","directionLockThreshold","parallaxElement","parallaxRatio","translateZ","refresh","_initParallax","_initIndicators","_initEvent","parallaxStyle","parallaxHeight","offsetHeight","parallaxImgStyle","indicator","_createScrollBar","listenX","listenY","Indicator","_initSnap","currentPage","pages","snaps","n","leftX","rightX","offsetLeft","offsetWidth","_getSnapX","maxScrollX","min","wrapperWidth","_gotoPage","_nearestSnap","nearestX","detach","segmentedControl","_handleIndicatorScrollend","map","fade","_handleIndicatorScrollstart","_handleIndicatorRefresh","handleEvent","resetPosition","_start","_drag","_flick","_end","transitionTimer","_transitionEnd","_scrollend","_resize","moved","needReset","_transitionTime","isInTransition","pos","setTranslate","reLayout","_getDirectionByAngle","innerHeight","isPreventDefault","isReturn","absDeltaX","absDeltaY","hasHorizontalScroll","hasVerticalScroll","newX","newY","maxScrollY","_updateTranslate","_clearRequestAnimationFrame","time","easing","momentumX","_momentum","destination","momentumY","wrapperHeight","that","resizeTimeout","resizePolling","transitionTime","_transitionTimingFunction","transitionTimingFunction","_translate","lastX","lastY","scrollbar","scrollbarY","scrollbarIndicatorY","scrollbarX","scrollbarIndicatorX","_preventDefaultException","exceptions","_reLayout","scrollerWidth","scrollerHeight","items","itemLength","current","lowerMargin","wrapperSize","speed","_getTranslateStr","setStopped","parallaxY","updatePosition","paddingLeft","paddingRight","paddingTop","paddingBottom","clientWidth","clientHeight","_reInit","groups","scrollToBottom","gotoPage","destroy","getAttribute","setAttribute","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","visible","fadeTimeout","delay","scrollApis","scrollApi","_options","_scrollbottom","pullupLoading","pulldownLoading","endPulldownToRefresh","endPullupToRefresh","finished","disablePullupToRefresh","enablePullupToRefresh","pullRefreshApi","autoY","CLASS_SLIDER","CLASS_SLIDER_GROUP","CLASS_SLIDER_LOOP","CLASS_ACTION_PREVIOUS","CLASS_ACTION_NEXT","CLASS_SLIDER_ITEM","SELECTOR_SLIDER_ITEM","SELECTOR_SLIDER_PROGRESS_BAR","Slider","interval","slideTime","progressBar","progressBarWidth","progressBarStyle","_initTimer","_triggerSlide","slideNumber","_fixedSlideNumber","loop","lastSlideNumber","lastPage","_handleSlide","temps","_slideNumber","indicatorWrap","number","innerText","controlItems","_handleTabShow","gotoItem","tabNumber","_handleIndicatorTap","slidershowTimer","slider","nextItem","page","_getScroll","_getPage","isFlick","_gotoItem","prevItem","getSlideNumber","sliderElement","__NWin_Enable__","CLASS_PLUS_PULLREFRESH","PlusPullRefresh","_initPulldownRefreshEvent","scrollInterval","isScroll","attrWebviewId","removeAttribute","setBounce","changeoffset","setStyle","_pulldownLoading","childWebview","_endPulldownToRefresh","endPullToRefresh","isLoading","CLASS_OFF_CANVAS_LEFT","CLASS_OFF_CANVAS_RIGHT","CLASS_ACTION_BACKDROP","CLASS_OFF_CANVAS_WRAP","CLASS_SLIDE_IN","CLASS_TRANSITIONING","SELECTOR_INNER_WRAP","OffCanvas","dragThresholdX","slideIn","offCanvasLefts","offCanvasRights","offCanvasLeft","offCanvasRight","offCanvasRightWidth","offCanvasLeftWidth","offCanvasLeftSlideIn","offCanvasRightSlideIn","backdrop","offsetX","lastTranslateX","_dispatchEvent","isDragging","offCanvasWidth","getTranslateX","_initOffCanvasVisible","updateTranslate","ratio","openPercentage","visibility","percentage","setTranslateX","leftShowing","rightShowing","zIndex","percent","zoomOutScale","zoomInScale","zoomInOpacity","webkitTransformOrigin","shown","directionOrOffCanvas","findOffCanvasContainer","_container","offCanvasApis","offCanvasApi","CLASS_ACTION","CLASS_MODAL","CLASS_POPOVER","CLASS_POPOVER_ARROW","CLASS_ACTION_POPOVER","CLASS_BACKDROP","CLASS_BAR_POPOVER","CLASS_BAR_BACKDROP","CLASS_BOTTOM","removeBackdropTimer","onPopoverShown","onPopoverHidden","removeBackdrop","removeChild","togglePopover","anchor","state","isActionSheet","calPosition","wWidth","innerWidth","wHeight","pWidth","pHeight","aWidth","aHeight","arrow","arrowSize","pTop","pLeft","diff","arrowLeft","defaultPadding","createMask","mask","_show","_remove","CLASS_CONTROL_ITEM","CLASS_SEGMENTED_CONTROL","CLASS_SEGMENTED_CONTROL_VERTICAL","CLASS_CONTROL_CONTENT","CLASS_TAB_BAR","CLASS_TAB_ITEM","targetTab","activeTab","activeBodies","targetBody","isLastActive","activeBody","contents","_contents","CLASS_SWITCH","CLASS_SWITCH_HANDLE","CLASS_DRAGGING","CLASS_DISABLED","SELECTOR_SWITCH_HANDLE","Toggle","toggleWidth","handleWidth","handleX","swiperight","webkitTransitionDuration","lastChanged","initialState","isActive","animate","isChanged","switchApis","switchApi","toggleEvents","isRemove","method","cell","CLASS_SELECTED","CLASS_GRID_VIEW","CLASS_RADIO_VIEW","CLASS_TABLE_VIEW_CELL","CLASS_COLLAPSE_CONTENT","CLASS_TOGGLE","CLASS_BTN","CLASS_SLIDER_HANDLE","CLASS_SLIDER_LEFT","CLASS_SLIDER_RIGHT","SELECTOR_SLIDER_HANDLE","SELECTOR_SLIDER_LEFT","SELECTOR_SLIDER_RIGHT","SELECTOR_SELECTED","SELECTOR_BUTTON","overFactor","isMoved","isOpened","openedActions","progress","sliderHandle","sliderActionLeft","sliderActionRight","buttonsLeft","buttonsRight","sliderDirection","sliderRequestAnimationFrame","translateX","sliderActionLeftWidth","sliderActionRightWidth","toggleActive","pow","buttonRight","_buttonOffset","buttonOffset","buttonLeft","isDisabled","selected","swipeoutClose","link","dragend","swipeleft","translate","actionsWidth","isToggle","buttons","newTranslate","button","swipeoutOpen","swipeoutAction","swipeoutWidth","radioOrCheckboxClick","input","checked","isExpand","ul","collapse","alert","message","btnValue","confirm","btnArray","prompt","defaultText","durations","long","short","isVisible","verticalAlign","CLASS_POPUP","CLASS_POPUP_BACKDROP","CLASS_POPUP_IN","CLASS_POPUP_OUT","CLASS_POPUP_INNER","CLASS_POPUP_TITLE","CLASS_POPUP_TEXT","CLASS_POPUP_INPUT","CLASS_POPUP_BUTTONS","CLASS_POPUP_BUTTON","CLASS_POPUP_BUTTON_BOLD","popupStack","createInput","placeholder","createInner","extra","createButtons","btns","createPopup","popupElement","removePopupElement","popup","pop","createAlert","createConfirm","createPrompt","closePopups","CLASS_PROGRESSBAR","CLASS_PROGRESSBAR_IN","CLASS_PROGRESSBAR_OUT","CLASS_PROGRESSBAR_INFINITE","SELECTOR_PROGRESSBAR","_findProgressbar","progressbars","progressbar","showProgressbar","_progressbar","setProgressbar","hideProgressbar","span","progressbarApis","progressbarApi","mui_plugin_progressbar","setOptions","setProgress","CLASS_ICON_CLEAR","CLASS_ICON_SPEECH","CLASS_ICON_SEARCH","CLASS_ICON_PASSWORD","CLASS_INPUT_ROW","CLASS_PLACEHOLDER","CLASS_TOOLTIP","SELECTOR_ICON_CLOSE","SELECTOR_ICON_SPEECH","SELECTOR_ICON_PASSWORD","SELECTOR_PLACEHOLDER","SELECTOR_TOOLTIP","findRow","Input","actions","sliderActionClass","sliderActionSelector","clearActionClass","clearActionSelector","speechActionClass","speechActionSelector","searchActionClass","searchActionSelector","passwordActionClass","passwordActionSelector","initAction","initElementEvent","row","sliderAction","createAction","searchAction","speechAction","speechActionClick","clearAction","clearActionClick","passwordAction","passwordActionClick","actionClass","actionSelector","nextSibling","tooltip","showTip","tooltipWidth","distince","scaleWidth","setPlaceholder","oldValue","speech","startRecognize","engine","s","stopRecognize","inputApis","inputApi","rgbaRegex","getColor","colorStr","Transparent","scrollby","scrollByElem","isNativeScroll","_style","_bgColor","_R","_G","_B","_A","lastOpacity","_bufferFn","alpha","destory","mui_plugin_transparent","transparent","transparentApis","transparentApi","touchSupport","tapEventName","changeEventName","holderClassName","plusClassSelector","minusClassSelector","inputClassSelector","Numbox","holder","step","minus","checkValue","getValue","isNaN","setOption","setValue","numbox","optionsText","STATE_RESET","STATE_LOADING","loadingText","loadingIcon","loadingIconPosition","Button","isInput","resetHTML","setState","setHtml","buttonApis","buttonApi","mui_plugin_button","2","53","_mui","_mui2","isMore","img","methods","More","97","103","109","__vue_exports__","__vue_options__","__vue_template__","render","staticRenderFns","116","_vm","_h","$createElement","_c","_self","attrs","_m","_v","staticClass","_e"],"mappings":"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","file":"static/js/module/health.7dd16220adfa867a684c.js","sourcesContent":["webpackJsonp([4,0],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(13);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(109);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\t\n\tvar _stringify = __webpack_require__(14);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _defineProperty = __webpack_require__(15);\n\t\n\tvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\t\n\tvar _getPrototypeOf = __webpack_require__(9);\n\t\n\tvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\t\n\tvar _setPrototypeOf = __webpack_require__(16);\n\t\n\tvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\t\n\tvar _typeof2 = __webpack_require__(10);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar mui = function (document, undefined) {\n\t\tvar readyRE = /complete|loaded|interactive/;\n\t\tvar idSelectorRE = /^#([\\w-]+)$/;\n\t\tvar classSelectorRE = /^\\.([\\w-]+)$/;\n\t\tvar tagSelectorRE = /^[\\w-]+$/;\n\t\tvar translateRE = /translate(?:3d)?\\((.+?)\\)/;\n\t\tvar translateMatrixRE = /matrix(3d)?\\((.+?)\\)/;\n\t\n\t\tvar $ = function $(selector, context) {\n\t\t\tcontext = context || document;\n\t\t\tif (!selector) return wrap();\n\t\t\tif ((typeof selector === 'undefined' ? 'undefined' : (0, _typeof3.default)(selector)) === 'object') if ($.isArrayLike(selector)) {\n\t\t\t\treturn wrap($.slice.call(selector), null);\n\t\t\t} else {\n\t\t\t\treturn wrap([selector], null);\n\t\t\t}\n\t\t\tif (typeof selector === 'function') return $.ready(selector);\n\t\t\tif (typeof selector === 'string') {\n\t\t\t\ttry {\n\t\t\t\t\tselector = selector.trim();\n\t\t\t\t\tif (idSelectorRE.test(selector)) {\n\t\t\t\t\t\tvar found = document.getElementById(RegExp.$1);\n\t\t\t\t\t\treturn wrap(found ? [found] : []);\n\t\t\t\t\t}\n\t\t\t\t\treturn wrap($.qsa(selector, context), selector);\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\t\t\treturn wrap();\n\t\t};\n\t\n\t\tvar wrap = function wrap(dom, selector) {\n\t\t\tdom = dom || [];\n\t\t\t(0, _setPrototypeOf2.default)(dom, $.fn);\n\t\t\tdom.selector = selector || '';\n\t\t\treturn dom;\n\t\t};\n\t\n\t\t$.uuid = 0;\n\t\n\t\t$.data = {};\n\t\n\t\t$.extend = function () {\n\t\t\tvar options,\n\t\t\t    name,\n\t\t\t    src,\n\t\t\t    copy,\n\t\t\t    copyIsArray,\n\t\t\t    clone,\n\t\t\t    target = arguments[0] || {},\n\t\t\t    i = 1,\n\t\t\t    length = arguments.length,\n\t\t\t    deep = false;\n\t\n\t\t\tif (typeof target === \"boolean\") {\n\t\t\t\tdeep = target;\n\t\n\t\t\t\ttarget = arguments[i] || {};\n\t\t\t\ti++;\n\t\t\t}\n\t\n\t\t\tif ((typeof target === 'undefined' ? 'undefined' : (0, _typeof3.default)(target)) !== \"object\" && !$.isFunction(target)) {\n\t\t\t\ttarget = {};\n\t\t\t}\n\t\n\t\t\tif (i === length) {\n\t\t\t\ttarget = this;\n\t\t\t\ti--;\n\t\t\t}\n\t\n\t\t\tfor (; i < length; i++) {\n\t\t\t\tif ((options = arguments[i]) != null) {\n\t\t\t\t\tfor (name in options) {\n\t\t\t\t\t\tsrc = target[name];\n\t\t\t\t\t\tcopy = options[name];\n\t\n\t\t\t\t\t\tif (target === copy) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (deep && copy && ($.isPlainObject(copy) || (copyIsArray = $.isArray(copy)))) {\n\t\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\t\tclone = src && $.isArray(src) ? src : [];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclone = src && $.isPlainObject(src) ? src : {};\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\ttarget[name] = $.extend(deep, clone, copy);\n\t\t\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn target;\n\t\t};\n\t\n\t\t$.noop = function () {};\n\t\n\t\t$.slice = [].slice;\n\t\n\t\t$.filter = [].filter;\n\t\n\t\t$.type = function (obj) {\n\t\t\treturn obj == null ? String(obj) : class2type[{}.toString.call(obj)] || \"object\";\n\t\t};\n\t\n\t\t$.isArray = Array.isArray || function (object) {\n\t\t\treturn object instanceof Array;\n\t\t};\n\t\n\t\t$.isArrayLike = function (obj) {\n\t\t\tvar length = !!obj && \"length\" in obj && obj.length;\n\t\t\tvar type = $.type(obj);\n\t\t\tif (type === \"function\" || $.isWindow(obj)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn type === \"array\" || length === 0 || typeof length === \"number\" && length > 0 && length - 1 in obj;\n\t\t};\n\t\n\t\t$.isWindow = function (obj) {\n\t\t\treturn obj != null && obj === obj.window;\n\t\t};\n\t\n\t\t$.isObject = function (obj) {\n\t\t\treturn $.type(obj) === \"object\";\n\t\t};\n\t\n\t\t$.isPlainObject = function (obj) {\n\t\t\treturn $.isObject(obj) && !$.isWindow(obj) && (0, _getPrototypeOf2.default)(obj) === Object.prototype;\n\t\t};\n\t\n\t\t$.isEmptyObject = function (o) {\n\t\t\tfor (var p in o) {\n\t\t\t\tif (p !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\n\t\t$.isFunction = function (value) {\n\t\t\treturn $.type(value) === \"function\";\n\t\t};\n\t\n\t\t$.qsa = function (selector, context) {\n\t\t\tcontext = context || document;\n\t\t\treturn $.slice.call(classSelectorRE.test(selector) ? context.getElementsByClassName(RegExp.$1) : tagSelectorRE.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector));\n\t\t};\n\t\n\t\t$.ready = function (callback) {\n\t\t\tif (readyRE.test(document.readyState)) {\n\t\t\t\tcallback($);\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\t\tcallback($);\n\t\t\t\t}, false);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\n\t\t$.buffer = function (fn, ms, context) {\n\t\t\tvar timer;\n\t\t\tvar lastStart = 0;\n\t\t\tvar lastEnd = 0;\n\t\t\tvar ms = ms || 150;\n\t\n\t\t\tfunction run() {\n\t\t\t\tif (timer) {\n\t\t\t\t\ttimer.cancel();\n\t\t\t\t\ttimer = 0;\n\t\t\t\t}\n\t\t\t\tlastStart = $.now();\n\t\t\t\tfn.apply(context || this, arguments);\n\t\t\t\tlastEnd = $.now();\n\t\t\t}\n\t\n\t\t\treturn $.extend(function () {\n\t\t\t\tif (!lastStart || lastEnd >= lastStart && $.now() - lastEnd > ms || lastEnd < lastStart && $.now() - lastStart > ms * 8) {\n\t\t\t\t\t\trun();\n\t\t\t\t\t} else {\n\t\t\t\t\tif (timer) {\n\t\t\t\t\t\ttimer.cancel();\n\t\t\t\t\t}\n\t\t\t\t\ttimer = $.later(run, ms, null, arguments);\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tstop: function stop() {\n\t\t\t\t\tif (timer) {\n\t\t\t\t\t\ttimer.cancel();\n\t\t\t\t\t\ttimer = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\n\t\t$.each = function (elements, callback, hasOwnProperty) {\n\t\t\tif (!elements) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tif (typeof elements.length === 'number') {\n\t\t\t\t[].every.call(elements, function (el, idx) {\n\t\t\t\t\treturn callback.call(el, idx, el) !== false;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfor (var key in elements) {\n\t\t\t\t\tif (hasOwnProperty) {\n\t\t\t\t\t\tif (elements.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\t$.focus = function (element) {\n\t\t\tif ($.os.ios) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\telement.focus();\n\t\t\t\t}, 10);\n\t\t\t} else {\n\t\t\t\telement.focus();\n\t\t\t}\n\t\t};\n\t\n\t\t$.trigger = function (element, eventType, eventData) {\n\t\t\telement.dispatchEvent(new CustomEvent(eventType, {\n\t\t\t\tdetail: eventData,\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t}));\n\t\t\treturn this;\n\t\t};\n\t\n\t\t$.getStyles = function (element, property) {\n\t\t\tvar styles = element.ownerDocument.defaultView.getComputedStyle(element, null);\n\t\t\tif (property) {\n\t\t\t\treturn styles.getPropertyValue(property) || styles[property];\n\t\t\t}\n\t\t\treturn styles;\n\t\t};\n\t\n\t\t$.parseTranslate = function (translateString, position) {\n\t\t\tvar result = translateString.match(translateRE || '');\n\t\t\tif (!result || !result[1]) {\n\t\t\t\tresult = ['', '0,0,0'];\n\t\t\t}\n\t\t\tresult = result[1].split(\",\");\n\t\t\tresult = {\n\t\t\t\tx: parseFloat(result[0]),\n\t\t\t\ty: parseFloat(result[1]),\n\t\t\t\tz: parseFloat(result[2])\n\t\t\t};\n\t\t\tif (position && result.hasOwnProperty(position)) {\n\t\t\t\treturn result[position];\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\n\t\t$.parseTranslateMatrix = function (translateString, position) {\n\t\t\tvar matrix = translateString.match(translateMatrixRE);\n\t\t\tvar is3D = matrix && matrix[1];\n\t\t\tif (matrix) {\n\t\t\t\tmatrix = matrix[2].split(\",\");\n\t\t\t\tif (is3D === \"3d\") matrix = matrix.slice(12, 15);else {\n\t\t\t\t\tmatrix.push(0);\n\t\t\t\t\tmatrix = matrix.slice(4, 7);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmatrix = [0, 0, 0];\n\t\t\t}\n\t\t\tvar result = {\n\t\t\t\tx: parseFloat(matrix[0]),\n\t\t\t\ty: parseFloat(matrix[1]),\n\t\t\t\tz: parseFloat(matrix[2])\n\t\t\t};\n\t\t\tif (position && result.hasOwnProperty(position)) {\n\t\t\t\treturn result[position];\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\t$.hooks = {};\n\t\t$.addAction = function (type, hook) {\n\t\t\tvar hooks = $.hooks[type];\n\t\t\tif (!hooks) {\n\t\t\t\thooks = [];\n\t\t\t}\n\t\t\thook.index = hook.index || 1000;\n\t\t\thooks.push(hook);\n\t\t\thooks.sort(function (a, b) {\n\t\t\t\treturn a.index - b.index;\n\t\t\t});\n\t\t\t$.hooks[type] = hooks;\n\t\t\treturn $.hooks[type];\n\t\t};\n\t\t$.doAction = function (type, callback) {\n\t\t\tif ($.isFunction(callback)) {\n\t\t\t\t$.each($.hooks[type], callback);\n\t\t\t} else {\n\t\t\t\t$.each($.hooks[type], function (index, hook) {\n\t\t\t\t\treturn !hook.handle();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\n\t\t$.later = function (fn, when, context, data) {\n\t\t\twhen = when || 0;\n\t\t\tvar m = fn;\n\t\t\tvar d = data;\n\t\t\tvar f;\n\t\t\tvar r;\n\t\n\t\t\tif (typeof fn === 'string') {\n\t\t\t\tm = context[fn];\n\t\t\t}\n\t\n\t\t\tf = function f() {\n\t\t\t\tm.apply(context, $.isArray(d) ? d : [d]);\n\t\t\t};\n\t\n\t\t\tr = setTimeout(f, when);\n\t\n\t\t\treturn {\n\t\t\t\tid: r,\n\t\t\t\tcancel: function cancel() {\n\t\t\t\t\tclearTimeout(r);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\t$.now = Date.now || function () {\n\t\t\treturn +new Date();\n\t\t};\n\t\tvar class2type = {};\n\t\t$.each(['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Object', 'Error'], function (i, name) {\n\t\t\tclass2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n\t\t});\n\t\tif (window.JSON) {\n\t\t\t$.parseJSON = JSON.parse;\n\t\t}\n\t\n\t\t$.fn = {\n\t\t\teach: function each(callback) {\n\t\t\t\t[].every.call(this, function (el, idx) {\n\t\t\t\t\treturn callback.call(el, idx, el) !== false;\n\t\t\t\t});\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn $;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t}\n\t\n\t\treturn $;\n\t}(document);\n\t\n\t(function ($, window) {\n\t\tfunction detect(ua) {\n\t\t\tthis.os = {};\n\t\t\tvar funcs = [function () {\n\t\t\t\tvar wechat = ua.match(/(MicroMessenger)\\/([\\d\\.]+)/i);\n\t\t\t\tif (wechat) {\n\t\t\t\t\tthis.os.wechat = {\n\t\t\t\t\t\tversion: wechat[2].replace(/_/g, '.')\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}, function () {\n\t\t\t\tvar android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n\t\t\t\tif (android) {\n\t\t\t\t\tthis.os.android = true;\n\t\t\t\t\tthis.os.version = android[2];\n\t\n\t\t\t\t\tthis.os.isBadAndroid = !/Chrome\\/\\d/.test(window.navigator.appVersion);\n\t\t\t\t}\n\t\t\t\treturn this.os.android === true;\n\t\t\t}, function () {\n\t\t\t\tvar iphone = ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\t\t\t\tif (iphone) {\n\t\t\t\t\tthis.os.ios = this.os.iphone = true;\n\t\t\t\t\tthis.os.version = iphone[2].replace(/_/g, '.');\n\t\t\t\t} else {\n\t\t\t\t\tvar ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n\t\t\t\t\tif (ipad) {\n\t\t\t\t\t\tthis.os.ios = this.os.ipad = true;\n\t\t\t\t\t\tthis.os.version = ipad[2].replace(/_/g, '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this.os.ios === true;\n\t\t\t}];\n\t\t\t[].every.call(funcs, function (func) {\n\t\t\t\treturn !func.call($);\n\t\t\t});\n\t\t}\n\t\tdetect.call($, navigator.userAgent);\n\t})(mui, window);\n\t\n\t(function ($, document) {\n\t\tfunction detect(ua) {\n\t\t\tthis.os = this.os || {};\n\t\t\tvar plus = ua.match(/Html5Plus/i);\n\t\t\tif (plus) {\n\t\t\t\tthis.os.plus = true;\n\t\t\t\t$(function () {\n\t\t\t\t\tdocument.body.classList.add('mui-plus');\n\t\t\t\t});\n\t\t\t\tif (ua.match(/StreamApp/i)) {\n\t\t\t\t\tthis.os.stream = true;\n\t\t\t\t\t$(function () {\n\t\t\t\t\t\tdocument.body.classList.add('mui-plus-stream');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdetect.call($, navigator.userAgent);\n\t})(mui, document);\n\t\n\t(function ($) {\n\t\tif ('ontouchstart' in window) {\n\t\t\t$.isTouchable = true;\n\t\t\t$.EVENT_START = 'touchstart';\n\t\t\t$.EVENT_MOVE = 'touchmove';\n\t\t\t$.EVENT_END = 'touchend';\n\t\t} else {\n\t\t\t$.isTouchable = false;\n\t\t\t$.EVENT_START = 'mousedown';\n\t\t\t$.EVENT_MOVE = 'mousemove';\n\t\t\t$.EVENT_END = 'mouseup';\n\t\t}\n\t\t$.EVENT_CANCEL = 'touchcancel';\n\t\t$.EVENT_CLICK = 'click';\n\t\n\t\tvar _mid = 1;\n\t\tvar delegates = {};\n\t\n\t\tvar eventMethods = {\n\t\t\tpreventDefault: 'isDefaultPrevented',\n\t\t\tstopImmediatePropagation: 'isImmediatePropagationStopped',\n\t\t\tstopPropagation: 'isPropagationStopped'\n\t\t};\n\t\n\t\tvar returnTrue = function returnTrue() {\n\t\t\treturn true;\n\t\t};\n\t\n\t\tvar returnFalse = function returnFalse() {\n\t\t\treturn false;\n\t\t};\n\t\n\t\tvar compatible = function compatible(event, target) {\n\t\t\tif (!event.detail) {\n\t\t\t\tevent.detail = {\n\t\t\t\t\tcurrentTarget: target\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tevent.detail.currentTarget = target;\n\t\t\t}\n\t\t\t$.each(eventMethods, function (name, predicate) {\n\t\t\t\tvar sourceMethod = event[name];\n\t\t\t\tevent[name] = function () {\n\t\t\t\t\tthis[predicate] = returnTrue;\n\t\t\t\t\treturn sourceMethod && sourceMethod.apply(event, arguments);\n\t\t\t\t};\n\t\t\t\tevent[predicate] = returnFalse;\n\t\t\t}, true);\n\t\t\treturn event;\n\t\t};\n\t\n\t\tvar mid = function mid(obj) {\n\t\t\treturn obj && (obj._mid || (obj._mid = _mid++));\n\t\t};\n\t\n\t\tvar delegateFns = {};\n\t\n\t\tvar delegateFn = function delegateFn(element, event, selector, callback) {\n\t\t\treturn function (e) {\n\t\t\t\tvar callbackObjs = delegates[element._mid][event];\n\t\t\t\tvar handlerQueue = [];\n\t\t\t\tvar target = e.target;\n\t\t\t\tvar selectorAlls = {};\n\t\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\t\tif (target === element) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (~['click', 'tap', 'doubletap', 'longtap', 'hold'].indexOf(event) && (target.disabled || target.classList.contains('mui-disabled'))) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tvar matches = {};\n\t\t\t\t\t$.each(callbackObjs, function (selector, callbacks) {\n\t\t\t\t\t\tselectorAlls[selector] || (selectorAlls[selector] = $.qsa(selector, element));\n\t\t\t\t\t\tif (selectorAlls[selector] && ~selectorAlls[selector].indexOf(target)) {\n\t\t\t\t\t\t\tif (!matches[selector]) {\n\t\t\t\t\t\t\t\tmatches[selector] = callbacks;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, true);\n\t\t\t\t\tif (!$.isEmptyObject(matches)) {\n\t\t\t\t\t\thandlerQueue.push({\n\t\t\t\t\t\t\telement: target,\n\t\t\t\t\t\t\thandlers: matches\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tselectorAlls = null;\n\t\t\t\te = compatible(e);\n\t\t\t\t$.each(handlerQueue, function (index, handler) {\n\t\t\t\t\ttarget = handler.element;\n\t\t\t\t\tvar tagName = target.tagName;\n\t\t\t\t\tif (event === 'tap' && tagName !== 'INPUT' && tagName !== 'TEXTAREA' && tagName !== 'SELECT') {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\t$.each(handler.handlers, function (index, handler) {\n\t\t\t\t\t\t$.each(handler, function (index, callback) {\n\t\t\t\t\t\t\tif (callback.call(target, e) === false) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, true);\n\t\t\t\t\t}, true);\n\t\t\t\t\tif (e.isPropagationStopped()) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}, true);\n\t\t\t};\n\t\t};\n\t\tvar findDelegateFn = function findDelegateFn(element, event) {\n\t\t\tvar delegateCallbacks = delegateFns[mid(element)];\n\t\t\tvar result = [];\n\t\t\tif (delegateCallbacks) {\n\t\t\t\tresult = [];\n\t\t\t\tif (event) {\n\t\t\t\t\tvar filterFn = function filterFn(fn) {\n\t\t\t\t\t\treturn fn.type === event;\n\t\t\t\t\t};\n\t\t\t\t\treturn delegateCallbacks.filter(filterFn);\n\t\t\t\t} else {\n\t\t\t\t\tresult = delegateCallbacks;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\n\t\n\t\t$.fn.on = function (event, selector, callback) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar element = this;\n\t\t\t\tmid(element);\n\t\t\t\tmid(callback);\n\t\t\t\tvar isAddEventListener = false;\n\t\t\t\tvar delegateEvents = delegates[element._mid] || (delegates[element._mid] = {});\n\t\t\t\tvar delegateCallbackObjs = delegateEvents[event] || (delegateEvents[event] = {});\n\t\t\t\tif ($.isEmptyObject(delegateCallbackObjs)) {\n\t\t\t\t\tisAddEventListener = true;\n\t\t\t\t}\n\t\t\t\tvar delegateCallbacks = delegateCallbackObjs[selector] || (delegateCallbackObjs[selector] = []);\n\t\t\t\tdelegateCallbacks.push(callback);\n\t\t\t\tif (isAddEventListener) {\n\t\t\t\t\tvar delegateFnArray = delegateFns[mid(element)];\n\t\t\t\t\tif (!delegateFnArray) {\n\t\t\t\t\t\tdelegateFnArray = [];\n\t\t\t\t\t}\n\t\t\t\t\tvar delegateCallback = delegateFn(element, event, selector, callback);\n\t\t\t\t\tdelegateFnArray.push(delegateCallback);\n\t\t\t\t\tdelegateCallback.i = delegateFnArray.length - 1;\n\t\t\t\t\tdelegateCallback.type = event;\n\t\t\t\t\tdelegateFns[mid(element)] = delegateFnArray;\n\t\t\t\t\telement.addEventListener(event, delegateCallback);\n\t\t\t\t\tif (event === 'tap') {\n\t\t\t\t\t\telement.addEventListener('click', function (e) {\n\t\t\t\t\t\t\tif (e.target) {\n\t\t\t\t\t\t\t\tvar tagName = e.target.tagName;\n\t\t\t\t\t\t\t\tif (!preventDefaultException.test(tagName)) {\n\t\t\t\t\t\t\t\t\tif (tagName === 'A') {\n\t\t\t\t\t\t\t\t\t\tvar href = e.target.href;\n\t\t\t\t\t\t\t\t\t\tif (!(href && ~href.indexOf('tel:'))) {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t$.fn.off = function (event, selector, callback) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar _mid = mid(this);\n\t\t\t\tif (!event) {\n\t\t\t\t\tdelegates[_mid] && delete delegates[_mid];\n\t\t\t\t} else if (!selector) {\n\t\t\t\t\tdelegates[_mid] && delete delegates[_mid][event];\n\t\t\t\t} else if (!callback) {\n\t\t\t\t\tdelegates[_mid] && delegates[_mid][event] && delete delegates[_mid][event][selector];\n\t\t\t\t} else {\n\t\t\t\t\tvar delegateCallbacks = delegates[_mid] && delegates[_mid][event] && delegates[_mid][event][selector];\n\t\t\t\t\t$.each(delegateCallbacks, function (index, delegateCallback) {\n\t\t\t\t\t\tif (mid(delegateCallback) === mid(callback)) {\n\t\t\t\t\t\t\tdelegateCallbacks.splice(index, 1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, true);\n\t\t\t\t}\n\t\t\t\tif (delegates[_mid]) {\n\t\t\t\t\tif (!delegates[_mid][event] || $.isEmptyObject(delegates[_mid][event])) {\n\t\t\t\t\t\tfindDelegateFn(this, event).forEach(function (fn) {\n\t\t\t\t\t\t\tthis.removeEventListener(fn.type, fn);\n\t\t\t\t\t\t\tdelete delegateFns[_mid][fn.i];\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfindDelegateFn(this).forEach(function (fn) {\n\t\t\t\t\t\tthis.removeEventListener(fn.type, fn);\n\t\t\t\t\t\tdelete delegateFns[_mid][fn.i];\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t})(mui);\n\t\n\t(function ($, window, document) {\n\t\t$.targets = {};\n\t\n\t\t$.targetHandles = [];\n\t\n\t\t$.registerTarget = function (target) {\n\t\n\t\t\ttarget.index = target.index || 1000;\n\t\n\t\t\t$.targetHandles.push(target);\n\t\n\t\t\t$.targetHandles.sort(function (a, b) {\n\t\t\t\treturn a.index - b.index;\n\t\t\t});\n\t\n\t\t\treturn $.targetHandles;\n\t\t};\n\t\twindow.addEventListener($.EVENT_START, function (event) {\n\t\t\tvar target = event.target;\n\t\t\tvar founds = {};\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tvar isFound = false;\n\t\t\t\t$.each($.targetHandles, function (index, targetHandle) {\n\t\t\t\t\tvar name = targetHandle.name;\n\t\t\t\t\tif (!isFound && !founds[name] && targetHandle.hasOwnProperty('handle')) {\n\t\t\t\t\t\t$.targets[name] = targetHandle.handle(event, target);\n\t\t\t\t\t\tif ($.targets[name]) {\n\t\t\t\t\t\t\tfounds[name] = true;\n\t\t\t\t\t\t\tif (targetHandle.isContinue !== true) {\n\t\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!founds[name]) {\n\t\t\t\t\t\t\tif (targetHandle.isReset !== false) $.targets[name] = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (isFound) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\twindow.addEventListener('click', function (event) {\n\t\t\tvar target = event.target;\n\t\t\tvar isFound = false;\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tif (target.tagName === 'A') {\n\t\t\t\t\t$.each($.targetHandles, function (index, targetHandle) {\n\t\t\t\t\t\tvar name = targetHandle.name;\n\t\t\t\t\t\tif (targetHandle.hasOwnProperty('handle')) {\n\t\t\t\t\t\t\tif (targetHandle.handle(event, target)) {\n\t\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (isFound) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t})(mui, window, document);\n\t\n\t(function (undefined) {\n\t\tif (String.prototype.trim === undefined) {\n\t\t\tString.prototype.trim = function () {\n\t\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t\t\t};\n\t\t}\n\t\tObject.setPrototypeOf = _setPrototypeOf2.default || function (obj, proto) {\n\t\t\tobj['__proto__'] = proto;\n\t\t\treturn obj;\n\t\t};\n\t})();\n\t\n\t(function () {\n\t\tif (typeof window.CustomEvent === 'undefined') {\n\t\t\tvar _CustomEvent = function _CustomEvent(event, params) {\n\t\t\t\tparams = params || {\n\t\t\t\t\tbubbles: false,\n\t\t\t\t\tcancelable: false,\n\t\t\t\t\tdetail: undefined\n\t\t\t\t};\n\t\t\t\tvar evt = document.createEvent('Events');\n\t\t\t\tvar bubbles = true;\n\t\t\t\tfor (var name in params) {\n\t\t\t\t\tname === 'bubbles' ? bubbles = !!params[name] : evt[name] = params[name];\n\t\t\t\t}\n\t\t\t\tevt.initEvent(event, bubbles, true);\n\t\t\t\treturn evt;\n\t\t\t};\n\t\n\t\t\t;\n\t\t\t_CustomEvent.prototype = window.Event.prototype;\n\t\t\twindow.CustomEvent = _CustomEvent;\n\t\t}\n\t})();\n\t\n\t\n\tFunction.prototype.bind = Function.prototype.bind || function (to) {\n\t\tvar partial = Array.prototype.splice.call(arguments, 1),\n\t\t    fn = this;\n\t\tvar bound = function bound() {\n\t\t\tvar args = partial.concat(Array.prototype.splice.call(arguments, 0));\n\t\n\t\t\tif (!(this instanceof bound)) {\n\t\t\t\treturn fn.apply(to, args);\n\t\t\t}\n\t\n\t\t\tfn.apply(this, args);\n\t\t};\n\t\n\t\tbound.prototype = fn.prototype;\n\t\treturn bound;\n\t};\n\t\n\t(function (document) {\n\t\tif (!(\"classList\" in document.documentElement) && _defineProperty2.default && typeof HTMLElement !== 'undefined') {\n\t\n\t\t\tObject.defineProperty(HTMLElement.prototype, 'classList', {\n\t\t\t\tget: function get() {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tfunction update(fn) {\n\t\t\t\t\t\treturn function (value) {\n\t\t\t\t\t\t\tvar classes = self.className.split(/\\s+/),\n\t\t\t\t\t\t\t    index = classes.indexOf(value);\n\t\n\t\t\t\t\t\t\tfn(classes, index, value);\n\t\t\t\t\t\t\tself.className = classes.join(\" \");\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar ret = {\n\t\t\t\t\t\tadd: update(function (classes, index, value) {\n\t\t\t\t\t\t\t~index || classes.push(value);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tremove: update(function (classes, index) {\n\t\t\t\t\t\t\t~index && classes.splice(index, 1);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttoggle: update(function (classes, index, value) {\n\t\t\t\t\t\t\t~index ? classes.splice(index, 1) : classes.push(value);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcontains: function contains(value) {\n\t\t\t\t\t\t\treturn !!~self.className.split(/\\s+/).indexOf(value);\n\t\t\t\t\t\t},\n\t\t\t\t\t\titem: function item(i) {\n\t\t\t\t\t\t\treturn self.className.split(/\\s+/)[i] || null;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tObject.defineProperty(ret, 'length', {\n\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\treturn self.className.split(/\\s+/).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t})(document);\n\t\n\t(function (window) {\n\t\tif (!window.requestAnimationFrame) {\n\t\t\tvar lastTime = 0;\n\t\t\twindow.requestAnimationFrame = window.webkitRequestAnimationFrame || function (callback, element) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16.7 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function () {\n\t\t\t\t\tcallback(currTime + timeToCall);\n\t\t\t\t}, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\twindow.cancelAnimationFrame = window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || function (id) {\n\t\t\t\tclearTimeout(id);\n\t\t\t};\n\t\t};\n\t})(window);\n\t\n\t(function ($, window, name) {\n\t\tif (!$.os.android && !$.os.ios) {\n\t\t\treturn;\n\t\t}\n\t\tif (window.FastClick) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar handle = function handle(event, target) {\n\t\t\tif (target.tagName === 'LABEL') {\n\t\t\t\tif (target.parentNode) {\n\t\t\t\t\ttarget = target.parentNode.querySelector('input');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (target && (target.type === 'radio' || target.type === 'checkbox')) {\n\t\t\t\tif (!target.disabled) {\n\t\t\t\t\treturn target;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\t$.registerTarget({\n\t\t\tname: name,\n\t\t\tindex: 40,\n\t\t\thandle: handle,\n\t\t\ttarget: false\n\t\t});\n\t\tvar dispatchEvent = function dispatchEvent(event) {\n\t\t\tvar targetElement = $.targets.click;\n\t\t\tif (targetElement) {\n\t\t\t\tvar clickEvent, touch;\n\t\n\t\t\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\t\t\tdocument.activeElement.blur();\n\t\t\t\t}\n\t\t\t\ttouch = event.detail.gesture.changedTouches[0];\n\t\n\t\t\t\tclickEvent = document.createEvent('MouseEvents');\n\t\t\t\tclickEvent.initMouseEvent('click', true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\t\t\tclickEvent.forwardedTouchEvent = true;\n\t\t\t\ttargetElement.dispatchEvent(clickEvent);\n\t\t\t\tevent.detail && event.detail.gesture.preventDefault();\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener('tap', dispatchEvent);\n\t\twindow.addEventListener('doubletap', dispatchEvent);\n\t\n\t\twindow.addEventListener('click', function (event) {\n\t\t\tif ($.targets.click) {\n\t\t\t\tif (!event.forwardedTouchEvent) {\n\t\t\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tevent.propagationStopped = true;\n\t\t\t\t\t}\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}, true);\n\t})(mui, window, 'click');\n\t(function ($, document) {\n\t\t$(function () {\n\t\t\tif (!$.os.ios) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar CLASS_FOCUSIN = 'mui-focusin';\n\t\t\tvar CLASS_BAR_TAB = 'mui-bar-tab';\n\t\t\tvar CLASS_BAR_FOOTER = 'mui-bar-footer';\n\t\t\tvar CLASS_BAR_FOOTER_SECONDARY = 'mui-bar-footer-secondary';\n\t\t\tvar CLASS_BAR_FOOTER_SECONDARY_TAB = 'mui-bar-footer-secondary-tab';\n\t\n\t\t\tdocument.addEventListener('focusin', function (e) {\n\t\t\t\tif ($.os.plus) {\n\t\t\t\t\tif (window.plus) {\n\t\t\t\t\t\tif (plus.webview.currentWebview().children().length > 0) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar target = e.target;\n\t\n\t\t\t\tif (target.tagName && (target.tagName === 'TEXTAREA' || target.tagName === 'INPUT' && (target.type === 'text' || target.type === 'search' || target.type === 'number'))) {\n\t\t\t\t\tif (target.disabled || target.readOnly) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\n\t\t\t\t\tvar isFooter = false;\n\t\t\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\t\t\tvar classList = target.classList;\n\t\t\t\t\t\tif (classList && classList.contains(CLASS_BAR_TAB) || classList.contains(CLASS_BAR_FOOTER) || classList.contains(CLASS_BAR_FOOTER_SECONDARY) || classList.contains(CLASS_BAR_FOOTER_SECONDARY_TAB)) {\n\t\t\t\t\t\t\tisFooter = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isFooter) {\n\t\t\t\t\t\tvar scrollTop = document.body.scrollHeight;\n\t\t\t\t\t\tvar scrollLeft = document.body.scrollLeft;\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\twindow.scrollTo(scrollLeft, scrollTop);\n\t\t\t\t\t\t}, 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdocument.addEventListener('focusout', function (e) {\n\t\t\t\tvar classList = document.body.classList;\n\t\t\t\tif (classList.contains(CLASS_FOCUSIN)) {\n\t\t\t\t\tclassList.remove(CLASS_FOCUSIN);\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\twindow.scrollTo(document.body.scrollLeft, document.body.scrollTop);\n\t\t\t\t\t}, 20);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t})(mui, document);\n\t\n\t(function ($) {\n\t\t$.namespace = 'mui';\n\t\t$.classNamePrefix = $.namespace + '-';\n\t\t$.classSelectorPrefix = '.' + $.classNamePrefix;\n\t\n\t\t$.className = function (className) {\n\t\t\treturn $.classNamePrefix + className;\n\t\t};\n\t\n\t\t$.classSelector = function (classSelector) {\n\t\t\treturn classSelector.replace(/\\./g, $.classSelectorPrefix);\n\t\t};\n\t\n\t\t$.eventName = function (event, module) {\n\t\t\treturn event + ($.namespace ? '.' + $.namespace : '') + (module ? '.' + module : '');\n\t\t};\n\t})(mui);\n\t\n\t(function ($, window) {\n\t\t$.gestures = {\n\t\t\tsession: {}\n\t\t};\n\t\n\t\t$.preventDefault = function (e) {\n\t\t\te.preventDefault();\n\t\t};\n\t\n\t\t$.stopPropagation = function (e) {\n\t\t\te.stopPropagation();\n\t\t};\n\t\n\t\t$.addGesture = function (gesture) {\n\t\t\treturn $.addAction('gestures', gesture);\n\t\t};\n\t\n\t\tvar round = Math.round;\n\t\tvar abs = Math.abs;\n\t\tvar sqrt = Math.sqrt;\n\t\tvar atan = Math.atan;\n\t\tvar atan2 = Math.atan2;\n\t\n\t\tvar getDistance = function getDistance(p1, p2, props) {\n\t\t\tif (!props) {\n\t\t\t\tprops = ['x', 'y'];\n\t\t\t}\n\t\t\tvar x = p2[props[0]] - p1[props[0]];\n\t\t\tvar y = p2[props[1]] - p1[props[1]];\n\t\t\treturn sqrt(x * x + y * y);\n\t\t};\n\t\n\t\tvar getScale = function getScale(starts, moves) {\n\t\t\tif (starts.length >= 2 && moves.length >= 2) {\n\t\t\t\tvar props = ['pageX', 'pageY'];\n\t\t\t\treturn getDistance(moves[1], moves[0], props) / getDistance(starts[1], starts[0], props);\n\t\t\t}\n\t\t\treturn 1;\n\t\t};\n\t\n\t\tvar getAngle = function getAngle(p1, p2, props) {\n\t\t\tif (!props) {\n\t\t\t\tprops = ['x', 'y'];\n\t\t\t}\n\t\t\tvar x = p2[props[0]] - p1[props[0]];\n\t\t\tvar y = p2[props[1]] - p1[props[1]];\n\t\t\treturn atan2(y, x) * 180 / Math.PI;\n\t\t};\n\t\n\t\tvar getDirection = function getDirection(x, y) {\n\t\t\tif (x === y) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tif (abs(x) >= abs(y)) {\n\t\t\t\treturn x > 0 ? 'left' : 'right';\n\t\t\t}\n\t\t\treturn y > 0 ? 'up' : 'down';\n\t\t};\n\t\n\t\tvar getRotation = function getRotation(start, end) {\n\t\t\tvar props = ['pageX', 'pageY'];\n\t\t\treturn getAngle(end[1], end[0], props) - getAngle(start[1], start[0], props);\n\t\t};\n\t\n\t\tvar getVelocity = function getVelocity(deltaTime, x, y) {\n\t\t\treturn {\n\t\t\t\tx: x / deltaTime || 0,\n\t\t\t\ty: y / deltaTime || 0\n\t\t\t};\n\t\t};\n\t\n\t\tvar detect = function detect(event, touch) {\n\t\t\tif ($.gestures.stoped) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$.doAction('gestures', function (index, gesture) {\n\t\t\t\tif (!$.gestures.stoped) {\n\t\t\t\t\tif ($.options.gestureConfig[gesture.name] !== false) {\n\t\t\t\t\t\tgesture.handle(event, touch);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\n\t\tvar hasParent = function hasParent(node, parent) {\n\t\t\twhile (node) {\n\t\t\t\tif (node == parent) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tnode = node.parentNode;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\tvar uniqueArray = function uniqueArray(src, key, sort) {\n\t\t\tvar results = [];\n\t\t\tvar values = [];\n\t\t\tvar i = 0;\n\t\n\t\t\twhile (i < src.length) {\n\t\t\t\tvar val = key ? src[i][key] : src[i];\n\t\t\t\tif (values.indexOf(val) < 0) {\n\t\t\t\t\tresults.push(src[i]);\n\t\t\t\t}\n\t\t\t\tvalues[i] = val;\n\t\t\t\ti++;\n\t\t\t}\n\t\n\t\t\tif (sort) {\n\t\t\t\tif (!key) {\n\t\t\t\t\tresults = results.sort();\n\t\t\t\t} else {\n\t\t\t\t\tresults = results.sort(function sortUniqueArray(a, b) {\n\t\t\t\t\t\treturn a[key] > b[key];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn results;\n\t\t};\n\t\tvar getMultiCenter = function getMultiCenter(touches) {\n\t\t\tvar touchesLength = touches.length;\n\t\t\tif (touchesLength === 1) {\n\t\t\t\treturn {\n\t\t\t\t\tx: round(touches[0].pageX),\n\t\t\t\t\ty: round(touches[0].pageY)\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tvar x = 0;\n\t\t\tvar y = 0;\n\t\t\tvar i = 0;\n\t\t\twhile (i < touchesLength) {\n\t\t\t\tx += touches[i].pageX;\n\t\t\t\ty += touches[i].pageY;\n\t\t\t\ti++;\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tx: round(x / touchesLength),\n\t\t\t\ty: round(y / touchesLength)\n\t\t\t};\n\t\t};\n\t\tvar multiTouch = function multiTouch() {\n\t\t\treturn $.options.gestureConfig.pinch;\n\t\t};\n\t\tvar copySimpleTouchData = function copySimpleTouchData(touch) {\n\t\t\tvar touches = [];\n\t\t\tvar i = 0;\n\t\t\twhile (i < touch.touches.length) {\n\t\t\t\ttouches[i] = {\n\t\t\t\t\tpageX: round(touch.touches[i].pageX),\n\t\t\t\t\tpageY: round(touch.touches[i].pageY)\n\t\t\t\t};\n\t\t\t\ti++;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttimestamp: $.now(),\n\t\t\t\tgesture: touch.gesture,\n\t\t\t\ttouches: touches,\n\t\t\t\tcenter: getMultiCenter(touch.touches),\n\t\t\t\tdeltaX: touch.deltaX,\n\t\t\t\tdeltaY: touch.deltaY\n\t\t\t};\n\t\t};\n\t\n\t\tvar calDelta = function calDelta(touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tvar center = touch.center;\n\t\t\tvar offset = session.offsetDelta || {};\n\t\t\tvar prevDelta = session.prevDelta || {};\n\t\t\tvar prevTouch = session.prevTouch || {};\n\t\n\t\t\tif (touch.gesture.type === $.EVENT_START || touch.gesture.type === $.EVENT_END) {\n\t\t\t\tprevDelta = session.prevDelta = {\n\t\t\t\t\tx: prevTouch.deltaX || 0,\n\t\t\t\t\ty: prevTouch.deltaY || 0\n\t\t\t\t};\n\t\n\t\t\t\toffset = session.offsetDelta = {\n\t\t\t\t\tx: center.x,\n\t\t\t\t\ty: center.y\n\t\t\t\t};\n\t\t\t}\n\t\t\ttouch.deltaX = prevDelta.x + (center.x - offset.x);\n\t\t\ttouch.deltaY = prevDelta.y + (center.y - offset.y);\n\t\t};\n\t\tvar calTouchData = function calTouchData(touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tvar touches = touch.touches;\n\t\t\tvar touchesLength = touches.length;\n\t\n\t\t\tif (!session.firstTouch) {\n\t\t\t\tsession.firstTouch = copySimpleTouchData(touch);\n\t\t\t}\n\t\n\t\t\tif (multiTouch() && touchesLength > 1 && !session.firstMultiTouch) {\n\t\t\t\tsession.firstMultiTouch = copySimpleTouchData(touch);\n\t\t\t} else if (touchesLength === 1) {\n\t\t\t\tsession.firstMultiTouch = false;\n\t\t\t}\n\t\n\t\t\tvar firstTouch = session.firstTouch;\n\t\t\tvar firstMultiTouch = session.firstMultiTouch;\n\t\t\tvar offsetCenter = firstMultiTouch ? firstMultiTouch.center : firstTouch.center;\n\t\n\t\t\tvar center = touch.center = getMultiCenter(touches);\n\t\t\ttouch.timestamp = $.now();\n\t\t\ttouch.deltaTime = touch.timestamp - firstTouch.timestamp;\n\t\n\t\t\ttouch.angle = getAngle(offsetCenter, center);\n\t\t\ttouch.distance = getDistance(offsetCenter, center);\n\t\n\t\t\tcalDelta(touch);\n\t\n\t\t\ttouch.offsetDirection = getDirection(touch.deltaX, touch.deltaY);\n\t\n\t\t\ttouch.scale = firstMultiTouch ? getScale(firstMultiTouch.touches, touches) : 1;\n\t\t\ttouch.rotation = firstMultiTouch ? getRotation(firstMultiTouch.touches, touches) : 0;\n\t\n\t\t\tcalIntervalTouchData(touch);\n\t\t};\n\t\tvar CAL_INTERVAL = 25;\n\t\tvar calIntervalTouchData = function calIntervalTouchData(touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tvar last = session.lastInterval || touch;\n\t\t\tvar deltaTime = touch.timestamp - last.timestamp;\n\t\t\tvar velocity;\n\t\t\tvar velocityX;\n\t\t\tvar velocityY;\n\t\t\tvar direction;\n\t\n\t\t\tif (touch.gesture.type != $.EVENT_CANCEL && (deltaTime > CAL_INTERVAL || last.velocity === undefined)) {\n\t\t\t\tvar deltaX = last.deltaX - touch.deltaX;\n\t\t\t\tvar deltaY = last.deltaY - touch.deltaY;\n\t\n\t\t\t\tvar v = getVelocity(deltaTime, deltaX, deltaY);\n\t\t\t\tvelocityX = v.x;\n\t\t\t\tvelocityY = v.y;\n\t\t\t\tvelocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n\t\t\t\tdirection = getDirection(deltaX, deltaY) || last.direction;\n\t\n\t\t\t\tsession.lastInterval = touch;\n\t\t\t} else {\n\t\t\t\tvelocity = last.velocity;\n\t\t\t\tvelocityX = last.velocityX;\n\t\t\t\tvelocityY = last.velocityY;\n\t\t\t\tdirection = last.direction;\n\t\t\t}\n\t\n\t\t\ttouch.velocity = velocity;\n\t\t\ttouch.velocityX = velocityX;\n\t\t\ttouch.velocityY = velocityY;\n\t\t\ttouch.direction = direction;\n\t\t};\n\t\tvar targetIds = {};\n\t\tvar convertTouches = function convertTouches(touches) {\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\t!touches['identifier'] && (touches['identifier'] = 0);\n\t\t\t}\n\t\t\treturn touches;\n\t\t};\n\t\tvar getTouches = function getTouches(event, touch) {\n\t\t\tvar allTouches = convertTouches($.slice.call(event.touches || [event]));\n\t\n\t\t\tvar type = event.type;\n\t\n\t\t\tvar targetTouches = [];\n\t\t\tvar changedTargetTouches = [];\n\t\n\t\t\tif ((type === $.EVENT_START || type === $.EVENT_MOVE) && allTouches.length === 1) {\n\t\t\t\ttargetIds[allTouches[0].identifier] = true;\n\t\t\t\ttargetTouches = allTouches;\n\t\t\t\tchangedTargetTouches = allTouches;\n\t\t\t\ttouch.target = event.target;\n\t\t\t} else {\n\t\t\t\tvar i = 0;\n\t\t\t\tvar targetTouches = [];\n\t\t\t\tvar changedTargetTouches = [];\n\t\t\t\tvar changedTouches = convertTouches($.slice.call(event.changedTouches || [event]));\n\t\n\t\t\t\ttouch.target = event.target;\n\t\t\t\tvar sessionTarget = $.gestures.session.target || event.target;\n\t\t\t\ttargetTouches = allTouches.filter(function (touch) {\n\t\t\t\t\treturn hasParent(touch.target, sessionTarget);\n\t\t\t\t});\n\t\n\t\t\t\tif (type === $.EVENT_START) {\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile (i < targetTouches.length) {\n\t\t\t\t\t\ttargetIds[targetTouches[i].identifier] = true;\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\ti = 0;\n\t\t\t\twhile (i < changedTouches.length) {\n\t\t\t\t\tif (targetIds[changedTouches[i].identifier]) {\n\t\t\t\t\t\tchangedTargetTouches.push(changedTouches[i]);\n\t\t\t\t\t}\n\t\t\t\t\tif (type === $.EVENT_END || type === $.EVENT_CANCEL) {\n\t\t\t\t\t\tdelete targetIds[changedTouches[i].identifier];\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\n\t\t\t\tif (!changedTargetTouches.length) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttargetTouches = uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true);\n\t\t\tvar touchesLength = targetTouches.length;\n\t\t\tvar changedTouchesLength = changedTargetTouches.length;\n\t\t\tif (type === $.EVENT_START && touchesLength - changedTouchesLength === 0) {\n\t\t\t\ttouch.isFirst = true;\n\t\t\t\t$.gestures.touch = $.gestures.session = {\n\t\t\t\t\ttarget: event.target\n\t\t\t\t};\n\t\t\t}\n\t\t\ttouch.isFinal = (type === $.EVENT_END || type === $.EVENT_CANCEL) && touchesLength - changedTouchesLength === 0;\n\t\n\t\t\ttouch.touches = targetTouches;\n\t\t\ttouch.changedTouches = changedTargetTouches;\n\t\t\treturn true;\n\t\t};\n\t\tvar handleTouchEvent = function handleTouchEvent(event) {\n\t\t\tvar touch = {\n\t\t\t\tgesture: event\n\t\t\t};\n\t\t\tvar touches = getTouches(event, touch);\n\t\t\tif (!touches) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcalTouchData(touch);\n\t\t\tdetect(event, touch);\n\t\t\t$.gestures.session.prevTouch = touch;\n\t\t\tif (event.type === $.EVENT_END && !$.isTouchable) {\n\t\t\t\t$.gestures.touch = $.gestures.session = {};\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener($.EVENT_START, handleTouchEvent);\n\t\twindow.addEventListener($.EVENT_MOVE, handleTouchEvent);\n\t\twindow.addEventListener($.EVENT_END, handleTouchEvent);\n\t\twindow.addEventListener($.EVENT_CANCEL, handleTouchEvent);\n\t\n\t\twindow.addEventListener($.EVENT_CLICK, function (e) {\n\t\t\tif (($.os.android || $.os.ios) && ($.targets.popover && e.target === $.targets.popover || $.targets.tab || $.targets.offcanvas || $.targets.modal)) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t}, true);\n\t\n\t\t$.isScrolling = false;\n\t\tvar scrollingTimeout = null;\n\t\twindow.addEventListener('scroll', function () {\n\t\t\t$.isScrolling = true;\n\t\t\tscrollingTimeout && clearTimeout(scrollingTimeout);\n\t\t\tscrollingTimeout = setTimeout(function () {\n\t\t\t\t$.isScrolling = false;\n\t\t\t}, 250);\n\t\t});\n\t})(mui, window);\n\t\n\t(function ($, name) {\n\t\tvar flickStartTime = 0;\n\t\tvar handle = function handle(event, touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tvar options = this.options;\n\t\t\tvar now = $.now();\n\t\t\tswitch (event.type) {\n\t\t\t\tcase $.EVENT_MOVE:\n\t\t\t\t\tif (now - flickStartTime > 300) {\n\t\t\t\t\t\tflickStartTime = now;\n\t\t\t\t\t\tsession.flickStart = touch.center;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\t\ttouch.flick = false;\n\t\t\t\t\tif (session.flickStart && options.flickMaxTime > now - flickStartTime && touch.distance > options.flickMinDistince) {\n\t\t\t\t\t\ttouch.flick = true;\n\t\t\t\t\t\ttouch.flickTime = now - flickStartTime;\n\t\t\t\t\t\ttouch.flickDistanceX = touch.center.x - session.flickStart.x;\n\t\t\t\t\t\ttouch.flickDistanceY = touch.center.y - session.flickStart.y;\n\t\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\n\t\t$.addGesture({\n\t\t\tname: name,\n\t\t\tindex: 5,\n\t\t\thandle: handle,\n\t\t\toptions: {\n\t\t\t\tflickMaxTime: 200,\n\t\t\t\tflickMinDistince: 10\n\t\t\t}\n\t\t});\n\t})(mui, 'flick');\n\t\n\t(function ($, name) {\n\t\tvar handle = function handle(event, touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tif (event.type === $.EVENT_END || event.type === $.EVENT_CANCEL) {\n\t\t\t\tvar options = this.options;\n\t\t\t\ttouch.swipe = false;\n\t\n\t\t\t\tif (touch.direction && options.swipeMaxTime > touch.deltaTime && touch.distance > options.swipeMinDistince) {\n\t\t\t\t\ttouch.swipe = true;\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t$.addGesture({\n\t\t\tname: name,\n\t\t\tindex: 10,\n\t\t\thandle: handle,\n\t\t\toptions: {\n\t\t\t\tswipeMaxTime: 300,\n\t\t\t\tswipeMinDistince: 18\n\t\t\t}\n\t\t});\n\t})(mui, 'swipe');\n\t\n\t(function ($, name) {\n\t\tvar handle = function handle(event, touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tswitch (event.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_MOVE:\n\t\t\t\t\tif (!touch.direction || !session.target) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (session.lockDirection && session.startDirection) {\n\t\t\t\t\t\tif (session.startDirection && session.startDirection !== touch.direction) {\n\t\t\t\t\t\t\tif (session.startDirection === 'up' || session.startDirection === 'down') {\n\t\t\t\t\t\t\t\ttouch.direction = touch.deltaY < 0 ? 'up' : 'down';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttouch.direction = touch.deltaX < 0 ? 'left' : 'right';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (!session.drag) {\n\t\t\t\t\t\tsession.drag = true;\n\t\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\n\t\t\t\t\t}\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\t\tif (session.drag && touch.isFinal) {\n\t\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\n\t\t$.addGesture({\n\t\t\tname: name,\n\t\t\tindex: 20,\n\t\t\thandle: handle,\n\t\t\toptions: {\n\t\t\t\tfingers: 1\n\t\t\t}\n\t\t});\n\t})(mui, 'drag');\n\t\n\t(function ($, name) {\n\t\tvar lastTarget;\n\t\tvar lastTapTime;\n\t\tvar handle = function handle(event, touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tvar options = this.options;\n\t\t\tswitch (event.type) {\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\t\tif (!touch.isFinal) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar target = session.target;\n\t\t\t\t\tif (!target || target.disabled || target.classList && target.classList.contains('mui-disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (touch.distance < options.tapMaxDistance && touch.deltaTime < options.tapMaxTime) {\n\t\t\t\t\t\tif ($.options.gestureConfig.doubletap && lastTarget && lastTarget === target) {\n\t\t\t\t\t\t\tif (lastTapTime && touch.timestamp - lastTapTime < options.tapMaxInterval) {\n\t\t\t\t\t\t\t\t$.trigger(target, 'doubletap', touch);\n\t\t\t\t\t\t\t\tlastTapTime = $.now();\n\t\t\t\t\t\t\t\tlastTarget = target;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.trigger(target, name, touch);\n\t\t\t\t\t\tlastTapTime = $.now();\n\t\t\t\t\t\tlastTarget = target;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\n\t\t$.addGesture({\n\t\t\tname: name,\n\t\t\tindex: 30,\n\t\t\thandle: handle,\n\t\t\toptions: {\n\t\t\t\tfingers: 1,\n\t\t\t\ttapMaxInterval: 300,\n\t\t\t\ttapMaxDistance: 5,\n\t\t\t\ttapMaxTime: 250\n\t\t\t}\n\t\t});\n\t})(mui, 'tap');\n\t\n\t(function ($, name) {\n\t\tvar timer;\n\t\tvar handle = function handle(event, touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tvar options = this.options;\n\t\t\tswitch (event.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(function () {\n\t\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t}, options.holdTimeout);\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_MOVE:\n\t\t\t\t\tif (touch.distance > options.holdThreshold) {\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\n\t\t$.addGesture({\n\t\t\tname: name,\n\t\t\tindex: 10,\n\t\t\thandle: handle,\n\t\t\toptions: {\n\t\t\t\tfingers: 1,\n\t\t\t\tholdTimeout: 500,\n\t\t\t\tholdThreshold: 2\n\t\t\t}\n\t\t});\n\t})(mui, 'longtap');\n\t\n\t(function ($, name) {\n\t\tvar timer;\n\t\tvar handle = function handle(event, touch) {\n\t\t\tvar session = $.gestures.session;\n\t\t\tvar options = this.options;\n\t\t\tswitch (event.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\tif ($.options.gestureConfig.hold) {\n\t\t\t\t\t\ttimer && clearTimeout(timer);\n\t\t\t\t\t\ttimer = setTimeout(function () {\n\t\t\t\t\t\t\ttouch.hold = true;\n\t\t\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t\t}, options.holdTimeout);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_MOVE:\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\t\tif (timer) {\n\t\t\t\t\t\tclearTimeout(timer) && (timer = null);\n\t\t\t\t\t\t$.trigger(session.target, 'release', touch);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\n\t\t$.addGesture({\n\t\t\tname: name,\n\t\t\tindex: 10,\n\t\t\thandle: handle,\n\t\t\toptions: {\n\t\t\t\tfingers: 1,\n\t\t\t\tholdTimeout: 0\n\t\t\t}\n\t\t});\n\t})(mui, 'hold');\n\t\n\t(function ($, name) {\n\t\tvar handle = function handle(event, touch) {\n\t\t\tvar options = this.options;\n\t\t\tvar session = $.gestures.session;\n\t\t\tswitch (event.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_MOVE:\n\t\t\t\t\tif ($.options.gestureConfig.pinch) {\n\t\t\t\t\t\tif (touch.touches.length < 2) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!session.pinch) {\n\t\t\t\t\t\t\tsession.pinch = true;\n\t\t\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t\tvar scale = touch.scale;\n\t\t\t\t\t\tvar rotation = touch.rotation;\n\t\t\t\t\t\tvar lastScale = typeof touch.lastScale === 'undefined' ? 1 : touch.lastScale;\n\t\t\t\t\t\tvar scaleDiff = 0.000000000001;\n\t\t\t\t\t\tif (scale > lastScale) {\n\t\t\t\t\t\t\tlastScale = scale - scaleDiff;\n\t\t\t\t\t\t\t$.trigger(session.target, name + 'out', touch);\n\t\t\t\t\t\t} else if (scale < lastScale) {\n\t\t\t\t\t\t\t\tlastScale = scale + scaleDiff;\n\t\t\t\t\t\t\t\t$.trigger(session.target, name + 'in', touch);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tif (Math.abs(rotation) > options.minRotationAngle) {\n\t\t\t\t\t\t\t$.trigger(session.target, 'rotate', touch);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\t\tif ($.options.gestureConfig.pinch && session.pinch && touch.touches.length === 2) {\n\t\t\t\t\t\tsession.pinch = false;\n\t\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\n\t\t$.addGesture({\n\t\t\tname: name,\n\t\t\tindex: 10,\n\t\t\thandle: handle,\n\t\t\toptions: {\n\t\t\t\tminRotationAngle: 0\n\t\t\t}\n\t\t});\n\t})(mui, 'pinch');\n\t\n\t(function ($) {\n\t\t$.global = $.options = {\n\t\t\tgestureConfig: {\n\t\t\t\ttap: true,\n\t\t\t\tdoubletap: false,\n\t\t\t\tlongtap: false,\n\t\t\t\thold: false,\n\t\t\t\tflick: true,\n\t\t\t\tswipe: true,\n\t\t\t\tdrag: true,\n\t\t\t\tpinch: false\n\t\t\t}\n\t\t};\n\t\n\t\t$.initGlobal = function (options) {\n\t\t\t$.options = $.extend(true, $.global, options);\n\t\t\treturn this;\n\t\t};\n\t\tvar inits = {};\n\t\n\t\t$.init = function (options) {\n\t\t\t$.options = $.extend(true, $.global, options || {});\n\t\t\t$.ready(function () {\n\t\t\t\t$.doAction('inits', function (index, init) {\n\t\t\t\t\tvar isInit = !!(!inits[init.name] || init.repeat);\n\t\t\t\t\tif (isInit) {\n\t\t\t\t\t\tinit.handle.call($);\n\t\t\t\t\t\tinits[init.name] = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn this;\n\t\t};\n\t\n\t\t$.addInit = function (init) {\n\t\t\treturn $.addAction('inits', init);\n\t\t};\n\t\n\t\t$.addInit({\n\t\t\tname: 'iframe',\n\t\t\tindex: 100,\n\t\t\thandle: function handle() {\n\t\t\t\tvar options = $.options;\n\t\t\t\tvar subpages = options.subpages || [];\n\t\t\t\tif (!$.os.plus && subpages.length) {\n\t\t\t\t\tcreateIframe(subpages[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tvar createIframe = function createIframe(options) {\n\t\t\tvar wrapper = document.createElement('div');\n\t\t\twrapper.className = 'mui-iframe-wrapper';\n\t\t\tvar styles = options.styles || {};\n\t\t\tif (typeof styles.top !== 'string') {\n\t\t\t\tstyles.top = '0px';\n\t\t\t}\n\t\t\tif (typeof styles.bottom !== 'string') {\n\t\t\t\tstyles.bottom = '0px';\n\t\t\t}\n\t\t\twrapper.style.top = styles.top;\n\t\t\twrapper.style.bottom = styles.bottom;\n\t\t\tvar iframe = document.createElement('iframe');\n\t\t\tiframe.src = options.url;\n\t\t\tiframe.id = options.id || options.url;\n\t\t\tiframe.name = iframe.id;\n\t\t\twrapper.appendChild(iframe);\n\t\t\tdocument.body.appendChild(wrapper);\n\t\n\t\t\t$.os.wechat && handleScroll(wrapper, iframe);\n\t\t};\n\t\n\t\tfunction handleScroll(wrapper, iframe) {\n\t\t\tvar key = 'MUI_SCROLL_POSITION_' + document.location.href + '_' + iframe.src;\n\t\t\tvar scrollTop = parseFloat(localStorage.getItem(key)) || 0;\n\t\t\tif (scrollTop) {\n\t\t\t\t(function (y) {\n\t\t\t\t\tiframe.onload = function () {\n\t\t\t\t\t\twindow.scrollTo(0, y);\n\t\t\t\t\t};\n\t\t\t\t})(scrollTop);\n\t\t\t}\n\t\t\tsetInterval(function () {\n\t\t\t\tvar _scrollTop = window.scrollY;\n\t\t\t\tif (scrollTop !== _scrollTop) {\n\t\t\t\t\tlocalStorage.setItem(key, _scrollTop + '');\n\t\t\t\t\tscrollTop = _scrollTop;\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t};\n\t\t$(function () {\n\t\t\tvar classList = document.body.classList;\n\t\t\tvar os = [];\n\t\t\tif ($.os.ios) {\n\t\t\t\tos.push({\n\t\t\t\t\tos: 'ios',\n\t\t\t\t\tversion: $.os.version\n\t\t\t\t});\n\t\t\t\tclassList.add('mui-ios');\n\t\t\t} else if ($.os.android) {\n\t\t\t\tos.push({\n\t\t\t\t\tos: 'android',\n\t\t\t\t\tversion: $.os.version\n\t\t\t\t});\n\t\t\t\tclassList.add('mui-android');\n\t\t\t}\n\t\t\tif ($.os.wechat) {\n\t\t\t\tos.push({\n\t\t\t\t\tos: 'wechat',\n\t\t\t\t\tversion: $.os.wechat.version\n\t\t\t\t});\n\t\t\t\tclassList.add('mui-wechat');\n\t\t\t}\n\t\t\tif (os.length) {\n\t\t\t\t$.each(os, function (index, osObj) {\n\t\t\t\t\tvar version = '';\n\t\t\t\t\tvar classArray = [];\n\t\t\t\t\tif (osObj.version) {\n\t\t\t\t\t\t$.each(osObj.version.split('.'), function (i, v) {\n\t\t\t\t\t\t\tversion = version + (version ? '-' : '') + v;\n\t\t\t\t\t\t\tclassList.add($.className(osObj.os + '-' + version));\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t})(mui);\n\t\n\t(function ($) {\n\t\tvar defaultOptions = {\n\t\t\tswipeBack: false,\n\t\t\tpreloadPages: [],\n\t\t\tpreloadLimit: 10,\n\t\t\tkeyEventBind: {\n\t\t\t\tbackbutton: true,\n\t\t\t\tmenubutton: true\n\t\t\t},\n\t\t\ttitleConfig: {\n\t\t\t\theight: \"44px\",\n\t\t\t\tbackgroundColor: \"#f7f7f7\",\n\t\t\t\tbottomBorderColor: \"#cccccc\",\n\t\t\t\ttitle: {\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\tposition: {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\"\n\t\t\t\t\t},\n\t\t\t\t\tstyles: {\n\t\t\t\t\t\tcolor: \"#000000\",\n\t\t\t\t\t\talign: \"center\",\n\t\t\t\t\t\tfamily: \"'Helvetica Neue',Helvetica,sans-serif\",\n\t\t\t\t\t\tsize: \"17px\",\n\t\t\t\t\t\tstyle: \"normal\",\n\t\t\t\t\t\tweight: \"normal\",\n\t\t\t\t\t\tfontSrc: \"\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tback: {\n\t\t\t\t\timage: {\n\t\t\t\t\t\tbase64Data: '',\n\t\t\t\t\t\timgSrc: '',\n\t\t\t\t\t\tsprite: {\n\t\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\theight: '100%'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\ttop: \"10px\",\n\t\t\t\t\t\t\tleft: \"10px\",\n\t\t\t\t\t\t\twidth: \"24px\",\n\t\t\t\t\t\t\theight: \"24px\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tvar defaultShow = {\n\t\t\tevent: \"titleUpdate\",\n\t\t\tautoShow: true,\n\t\t\tduration: 300,\n\t\t\taniShow: 'slide-in-right',\n\t\t\textras: {}\n\t\t};\n\t\n\t\tif ($.options.show) {\n\t\t\tdefaultShow = $.extend(true, defaultShow, $.options.show);\n\t\t}\n\t\n\t\t$.currentWebview = null;\n\t\n\t\t$.extend(true, $.global, defaultOptions);\n\t\t$.extend(true, $.options, defaultOptions);\n\t\n\t\t$.waitingOptions = function (options) {\n\t\t\treturn $.extend(true, {}, {\n\t\t\t\tautoShow: true,\n\t\t\t\ttitle: '',\n\t\t\t\tmodal: false\n\t\t\t}, options);\n\t\t};\n\t\n\t\t$.showOptions = function (options) {\n\t\t\treturn $.extend(true, {}, defaultShow, options);\n\t\t};\n\t\n\t\t$.windowOptions = function (options) {\n\t\t\treturn $.extend({\n\t\t\t\tscalable: false,\n\t\t\t\tbounce: \"\" }, options);\n\t\t};\n\t\n\t\t$.plusReady = function (callback) {\n\t\t\tif (window.plus) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tcallback();\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"plusready\", function () {\n\t\t\t\t\tcallback();\n\t\t\t\t}, false);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\n\t\t$.fire = function (webview, eventType, data) {\n\t\t\tif (webview) {\n\t\t\t\tif (typeof data === 'undefined') {\n\t\t\t\t\tdata = '';\n\t\t\t\t} else if (typeof data === 'boolean' || typeof data === 'number') {\n\t\t\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"',\" + data + \")\");\n\t\t\t\t\treturn;\n\t\t\t\t} else if ($.isPlainObject(data)) {\n\t\t\t\t\tdata = (0, _stringify2.default)(data || {}).replace(/\\'/g, '\\\\u0027').replace(/\\\\/g, '\\\\u005c');\n\t\t\t\t}\n\t\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"','\" + data + \"')\");\n\t\t\t}\n\t\t};\n\t\n\t\t$.receive = function (eventType, data) {\n\t\t\tif (eventType) {\n\t\t\t\ttry {\n\t\t\t\t\tif (data && typeof data === 'string') {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t\t$.trigger(document, eventType, data);\n\t\t\t}\n\t\t};\n\t\tvar triggerPreload = function triggerPreload(webview) {\n\t\t\tif (!webview.preloaded) {\n\t\t\t\t$.fire(webview, 'preload');\n\t\t\t\tvar list = webview.children();\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t\t$.fire(list[i], 'preload');\n\t\t\t\t}\n\t\t\t\twebview.preloaded = true;\n\t\t\t}\n\t\t};\n\t\tvar trigger = function trigger(webview, eventType, timeChecked) {\n\t\t\tif (timeChecked) {\n\t\t\t\tif (!webview[eventType + 'ed']) {\n\t\t\t\t\t$.fire(webview, eventType);\n\t\t\t\t\tvar list = webview.children();\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t\t\t$.fire(list[i], eventType);\n\t\t\t\t\t}\n\t\t\t\t\twebview[eventType + 'ed'] = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$.fire(webview, eventType);\n\t\t\t\tvar list = webview.children();\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t\t$.fire(list[i], eventType);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t$.openWindow = function (url, id, options) {\n\t\t\tif ((typeof url === 'undefined' ? 'undefined' : (0, _typeof3.default)(url)) === 'object') {\n\t\t\t\toptions = url;\n\t\t\t\turl = options.url;\n\t\t\t\tid = options.id || url;\n\t\t\t} else {\n\t\t\t\tif ((typeof id === 'undefined' ? 'undefined' : (0, _typeof3.default)(id)) === 'object') {\n\t\t\t\t\toptions = id;\n\t\t\t\t\tid = options.id || url;\n\t\t\t\t} else {\n\t\t\t\t\tid = id || url;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!$.os.plus) {\n\t\t\t\tif ($.os.ios || $.os.android) {\n\t\t\t\t\twindow.top.location.href = url;\n\t\t\t\t} else {\n\t\t\t\t\twindow.parent.location.href = url;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!window.plus) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\toptions = options || {};\n\t\t\tvar params = options.params || {};\n\t\t\tvar webview = null,\n\t\t\t    webviewCache = null,\n\t\t\t    nShow,\n\t\t\t    nWaiting;\n\t\n\t\t\tif ($.webviews[id]) {\n\t\t\t\twebviewCache = $.webviews[id];\n\t\n\t\t\t\tif (plus.webview.getWebviewById(id)) {\n\t\t\t\t\twebview = webviewCache.webview;\n\t\t\t\t}\n\t\t\t} else if (options.createNew !== true) {\n\t\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t\t}\n\t\n\t\t\tif (webview) {\n\t\t\t\tnShow = webviewCache ? webviewCache.show : defaultShow;\n\t\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\n\t\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function () {\n\t\t\t\t\ttriggerPreload(webview);\n\t\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t\t});\n\t\t\t\tif (webviewCache) {\n\t\t\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + (0, _stringify2.default)(params) + '\\')');\n\t\t\t\t}\n\t\t\t\treturn webview;\n\t\t\t} else {\n\t\t\t\tif (!url) {\n\t\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\n\t\t\t\t}\n\t\n\t\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\n\t\t\t\tif (waitingConfig.autoShow) {\n\t\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\n\t\t\t\t}\n\t\n\t\t\t\toptions = $.extend(options, {\n\t\t\t\t\tid: id,\n\t\t\t\t\turl: url\n\t\t\t\t});\n\t\n\t\t\t\twebview = $.createWindow(options);\n\t\n\t\t\t\tnShow = $.showOptions(options.show);\n\t\t\t\tif (nShow.autoShow) {\n\t\t\t\t\tvar showWebview = function showWebview() {\n\t\t\t\t\t\tif (nWaiting) {\n\t\t\t\t\t\t\tnWaiting.close();\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function () {}, nShow.extras);\n\t\t\t\t\t\toptions.afterShowMethodName && webview.evalJS(options.afterShowMethodName + '(\\'' + (0, _stringify2.default)(params) + '\\')');\n\t\t\t\t\t};\n\t\n\t\t\t\t\twebview.addEventListener(nShow.event, showWebview, false);\n\t\n\t\t\t\t\twebview.addEventListener(\"loaded\", function () {\n\t\t\t\t\t\ttriggerPreload(webview);\n\t\t\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn webview;\n\t\t};\n\t\n\t\t$.openWindowWithTitle = function (options, titleConfig) {\n\t\t\toptions = options || {};\n\t\t\tvar url = options.url;\n\t\t\tvar id = options.id || url;\n\t\n\t\t\tif (!$.os.plus) {\n\t\t\t\tif ($.os.ios || $.os.android) {\n\t\t\t\t\twindow.top.location.href = url;\n\t\t\t\t} else {\n\t\t\t\t\twindow.parent.location.href = url;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!window.plus) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar params = options.params || {};\n\t\t\tvar webview = null,\n\t\t\t    webviewCache = null,\n\t\t\t    nShow,\n\t\t\t    nWaiting;\n\t\n\t\t\tif ($.webviews[id]) {\n\t\t\t\twebviewCache = $.webviews[id];\n\t\n\t\t\t\tif (plus.webview.getWebviewById(id)) {\n\t\t\t\t\twebview = webviewCache.webview;\n\t\t\t\t}\n\t\t\t} else if (options.createNew !== true) {\n\t\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t\t}\n\t\n\t\t\tif (webview) {\n\t\t\t\tnShow = webviewCache ? webviewCache.show : defaultShow;\n\t\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\n\t\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function () {\n\t\t\t\t\ttriggerPreload(webview);\n\t\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t\t});\n\t\t\t\tif (webviewCache) {\n\t\t\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + (0, _stringify2.default)(params) + '\\')');\n\t\t\t\t}\n\t\t\t\treturn webview;\n\t\t\t} else {\n\t\t\t\tif (!url) {\n\t\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\n\t\t\t\t}\n\t\n\t\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\n\t\t\t\tif (waitingConfig.autoShow) {\n\t\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\n\t\t\t\t}\n\t\n\t\t\t\toptions = $.extend(options, {\n\t\t\t\t\tid: id,\n\t\t\t\t\turl: url\n\t\t\t\t});\n\t\n\t\t\t\twebview = $.createWindow(options);\n\t\n\t\t\t\tif (titleConfig) {\n\t\t\t\t\t$.extend(true, $.options.titleConfig, titleConfig);\n\t\t\t\t\tvar tid = $.options.titleConfig.id ? $.options.titleConfig.id : id + \"_title\";\n\t\t\t\t\tvar view = new plus.nativeObj.View(tid, {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\theight: $.options.titleConfig.height,\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tdock: \"top\",\n\t\t\t\t\t\tposition: \"dock\"\n\t\t\t\t\t});\n\t\t\t\t\tview.drawRect($.options.titleConfig.backgroundColor);\n\t\t\t\t\tvar _b = parseInt($.options.titleConfig.height) - 1;\n\t\t\t\t\tview.drawRect($.options.titleConfig.bottomBorderColor, {\n\t\t\t\t\t\ttop: _b + \"px\",\n\t\t\t\t\t\tleft: \"0px\"\n\t\t\t\t\t});\n\t\t\t\t\tif ($.options.titleConfig.title.text) {\n\t\t\t\t\t\tvar _title = $.options.titleConfig.title;\n\t\t\t\t\t\tview.drawText(_title.text, _title.position, _title.styles);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar _back = $.options.titleConfig.back;\n\t\t\t\t\tvar backClick = null;\n\t\n\t\t\t\t\tvar _backImage = _back.image;\n\t\t\t\t\tif (_backImage.base64Data || _backImage.imgSrc) {\n\t\t\t\t\t\tbackClick = {\n\t\t\t\t\t\t\tleft: parseInt(_backImage.position.left),\n\t\t\t\t\t\t\tright: parseInt(_backImage.position.left) + parseInt(_backImage.position.width)\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar bitmap = new plus.nativeObj.Bitmap(id + \"_back\");\n\t\t\t\t\t\tif (_backImage.base64Data) {\n\t\t\t\t\t\t\tbitmap.loadBase64Data(_backImage.base64Data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbitmap.load(_backImage.imgSrc);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tview.drawBitmap(bitmap, _backImage.sprite, _backImage.position);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tview.setTouchEventRect({\n\t\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\"\n\t\t\t\t\t});\n\t\t\t\t\tview.interceptTouchEvent(true);\n\t\t\t\t\tview.addEventListener(\"click\", function (e) {\n\t\t\t\t\t\tvar x = e.clientX;\n\t\n\t\t\t\t\t\tif (backClick && x > backClick.left && x < backClick.right) {\n\t\t\t\t\t\t\tif (_back.click && $.isFunction(_back.click)) {\n\t\t\t\t\t\t\t\t_back.click();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twebview.evalJS(\"mui&&mui.back();\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, false);\n\t\t\t\t\twebview.append(view);\n\t\t\t\t}\n\t\n\t\t\t\tnShow = $.showOptions(options.show);\n\t\t\t\tif (nShow.autoShow) {\n\t\t\t\t\twebview.addEventListener(nShow.event, function () {\n\t\t\t\t\t\tif (nWaiting) {\n\t\t\t\t\t\t\tnWaiting.close();\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function () {}, nShow.extras);\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn webview;\n\t\t};\n\t\n\t\t$.createWindow = function (options, isCreate) {\n\t\t\tif (!window.plus) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar id = options.id || options.url;\n\t\t\tvar webview;\n\t\t\tif (options.preload) {\n\t\t\t\tif ($.webviews[id] && $.webviews[id].webview.getURL()) {\n\t\t\t\t\twebview = $.webviews[id].webview;\n\t\t\t\t} else {\n\t\t\t\t\tif (options.createNew !== true) {\n\t\t\t\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (!webview) {\n\t\t\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), $.extend({\n\t\t\t\t\t\t\tpreload: true\n\t\t\t\t\t\t}, options.extras));\n\t\t\t\t\t\tif (options.subpages) {\n\t\t\t\t\t\t\t$.each(options.subpages, function (index, subpage) {\n\t\t\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\n\t\t\t\t\t\t\t\tif (subpageId) {\n\t\t\t\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\n\t\t\t\t\t\t\t\t\tif (!subWebview) {\n\t\t\t\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), $.extend({\n\t\t\t\t\t\t\t\t\t\t\tpreload: true\n\t\t\t\t\t\t\t\t\t\t}, subpage.extras));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\twebview.append(subWebview);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t$.webviews[id] = {\n\t\t\t\t\twebview: webview,\n\t\t\t\t\tpreload: true,\n\t\t\t\t\tshow: $.showOptions(options.show),\n\t\t\t\t\tafterShowMethodName: options.afterShowMethodName };\n\t\n\t\t\t\tvar preloads = $.data.preloads;\n\t\t\t\tvar index = preloads.indexOf(id);\n\t\t\t\tif (~index) {\n\t\t\t\t\tpreloads.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tpreloads.push(id);\n\t\t\t\tif (preloads.length > $.options.preloadLimit) {\n\t\t\t\t\tvar first = $.data.preloads.shift();\n\t\t\t\t\tvar webviewCache = $.webviews[first];\n\t\t\t\t\tif (webviewCache && webviewCache.webview) {\n\t\t\t\t\t\t$.closeAll(webviewCache.webview);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdelete $.webviews[first];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (isCreate !== false) {\n\t\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), options.extras);\n\t\t\t\t\tif (options.subpages) {\n\t\t\t\t\t\t$.each(options.subpages, function (index, subpage) {\n\t\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\n\t\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\n\t\t\t\t\t\t\tif (!subWebview) {\n\t\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), subpage.extras);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twebview.append(subWebview);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn webview;\n\t\t};\n\t\n\t\t$.preload = function (options) {\n\t\t\tif (!options.preload) {\n\t\t\t\toptions.preload = true;\n\t\t\t}\n\t\t\treturn $.createWindow(options);\n\t\t};\n\t\n\t\t$.closeOpened = function (webview) {\n\t\t\tvar opened = webview.opened();\n\t\t\tif (opened) {\n\t\t\t\tfor (var i = 0, len = opened.length; i < len; i++) {\n\t\t\t\t\tvar openedWebview = opened[i];\n\t\t\t\t\tvar open_open = openedWebview.opened();\n\t\t\t\t\tif (open_open && open_open.length > 0) {\n\t\t\t\t\t\t$.closeOpened(openedWebview);\n\t\n\t\t\t\t\t\topenedWebview.close(\"none\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (openedWebview.parent() !== webview) {\n\t\t\t\t\t\t\topenedWebview.close('none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t$.closeAll = function (webview, aniShow) {\n\t\t\t$.closeOpened(webview);\n\t\t\tif (aniShow) {\n\t\t\t\twebview.close(aniShow);\n\t\t\t} else {\n\t\t\t\twebview.close();\n\t\t\t}\n\t\t};\n\t\n\t\t$.createWindows = function (options) {\n\t\t\t$.each(options, function (index, option) {\n\t\t\t\t$.createWindow(option, false);\n\t\t\t});\n\t\t};\n\t\n\t\t$.appendWebview = function (options) {\n\t\t\tif (!window.plus) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar id = options.id || options.url;\n\t\t\tvar webview;\n\t\t\tif (!$.webviews[id]) {\n\t\t\t\tif (!plus.webview.getWebviewById(id)) {\n\t\t\t\t\twebview = plus.webview.create(options.url, id, options.styles, options.extras);\n\t\t\t\t}\n\t\n\t\t\t\tplus.webview.currentWebview().append(webview);\n\t\n\t\t\t\t$.webviews[id] = options;\n\t\t\t}\n\t\t\treturn webview;\n\t\t};\n\t\n\t\t$.webviews = {};\n\t\n\t\t$.data.preloads = [];\n\t\n\t\t$.plusReady(function () {\n\t\t\t$.currentWebview = plus.webview.currentWebview();\n\t\t});\n\t\t$.addInit({\n\t\t\tname: '5+',\n\t\t\tindex: 100,\n\t\t\thandle: function handle() {\n\t\t\t\tvar options = $.options;\n\t\t\t\tvar subpages = options.subpages || [];\n\t\t\t\tif ($.os.plus) {\n\t\t\t\t\t$.plusReady(function () {\n\t\t\t\t\t\t$.each(subpages, function (index, subpage) {\n\t\t\t\t\t\t\t$.appendWebview(subpage);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tif (plus.webview.currentWebview() === plus.webview.getWebviewById(plus.runtime.appid)) {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\ttriggerPreload(plus.webview.currentWebview());\n\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ($.os.ios && $.options.statusBarBackground) {\n\t\t\t\t\t\t\tplus.navigator.setStatusBarBackground($.options.statusBarBackground);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($.os.android && parseFloat($.os.version) < 4.4) {\n\t\t\t\t\t\t\tif (plus.webview.currentWebview().parent() == null) {\n\t\t\t\t\t\t\t\tdocument.addEventListener(\"resume\", function () {\n\t\t\t\t\t\t\t\t\tvar body = document.body;\n\t\t\t\t\t\t\t\t\tbody.style.display = 'none';\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\tbody.style.display = '';\n\t\t\t\t\t\t\t\t\t}, 10);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {}\n\t\t\t}\n\t\t});\n\t\twindow.addEventListener('preload', function () {\n\t\t\tvar webviews = $.options.preloadPages || [];\n\t\t\t$.plusReady(function () {\n\t\t\t\t$.each(webviews, function (index, webview) {\n\t\t\t\t\t$.createWindow($.extend(webview, {\n\t\t\t\t\t\tpreload: true\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\t$.supportStatusbarOffset = function () {\n\t\t\treturn $.os.plus && $.os.ios && parseFloat($.os.version) >= 7;\n\t\t};\n\t\t$.ready(function () {\n\t\t\tif ($.supportStatusbarOffset()) {\n\t\t\t\tdocument.body.classList.add('mui-statusbar');\n\t\t\t}\n\t\t});\n\t})(mui);\n\t\n\t(function ($, window) {\n\t\t$.addBack = function (back) {\n\t\t\treturn $.addAction('backs', back);\n\t\t};\n\t\n\t\t$.addBack({\n\t\t\tname: 'browser',\n\t\t\tindex: 100,\n\t\t\thandle: function handle() {\n\t\t\t\tif (window.history.length > 1) {\n\t\t\t\t\twindow.history.back();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\n\t\t$.back = function () {\n\t\t\tif (typeof $.options.beforeback === 'function') {\n\t\t\t\tif ($.options.beforeback() === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$.doAction('backs');\n\t\t};\n\t\twindow.addEventListener('tap', function (e) {\n\t\t\tvar action = $.targets.action;\n\t\t\tif (action && action.classList.contains('mui-action-back')) {\n\t\t\t\t$.back();\n\t\t\t\t$.targets.action = false;\n\t\t\t}\n\t\t});\n\t\twindow.addEventListener('swiperight', function (e) {\n\t\t\tvar detail = e.detail;\n\t\t\tif ($.options.swipeBack === true && Math.abs(detail.angle) < 3) {\n\t\t\t\t$.back();\n\t\t\t}\n\t\t});\n\t})(mui, window);\n\t\n\t(function ($, window) {\n\t\tif ($.os.plus && $.os.android) {\n\t\t\t$.addBack({\n\t\t\t\tname: 'mui',\n\t\t\t\tindex: 5,\n\t\t\t\thandle: function handle() {\n\t\t\t\t\tif ($.targets._popover && $.targets._popover.classList.contains('mui-active')) {\n\t\t\t\t\t\t$($.targets._popover).popover('hide');\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar offCanvas = document.querySelector('.mui-off-canvas-wrap.mui-active');\n\t\t\t\t\tif (offCanvas) {\n\t\t\t\t\t\t$(offCanvas).offCanvas('close');\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tvar previewImage = $.isFunction($.getPreviewImage) && $.getPreviewImage();\n\t\t\t\t\tif (previewImage && previewImage.isShown()) {\n\t\t\t\t\t\tpreviewImage.close();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn $.closePopup();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\t$.__back__first = null;\n\t\n\t\t$.addBack({\n\t\t\tname: '5+',\n\t\t\tindex: 10,\n\t\t\thandle: function handle() {\n\t\t\t\tif (!window.plus) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar wobj = plus.webview.currentWebview();\n\t\t\t\tvar parent = wobj.parent();\n\t\t\t\tif (parent) {\n\t\t\t\t\tparent.evalJS('mui&&mui.back();');\n\t\t\t\t} else {\n\t\t\t\t\twobj.canBack(function (e) {\n\t\t\t\t\t\tif (e.canBack) {\n\t\t\t\t\t\t\twindow.history.back();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (wobj.id === plus.runtime.appid) {\n\t\t\t\t\t\t\t\tif (!$.__back__first) {\n\t\t\t\t\t\t\t\t\t$.__back__first = new Date().getTime();\n\t\t\t\t\t\t\t\t\tmui.toast('再按一次退出应用');\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t$.__back__first = null;\n\t\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (new Date().getTime() - $.__back__first < 2000) {\n\t\t\t\t\t\t\t\t\t\tplus.runtime.quit();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (wobj.preload) {\n\t\t\t\t\t\t\t\t\twobj.hide(\"auto\");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$.closeAll(wobj);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\n\t\t$.menu = function () {\n\t\t\tvar menu = document.querySelector('.mui-action-menu');\n\t\t\tif (menu) {\n\t\t\t\t$.trigger(menu, $.EVENT_START);\n\t\t\t\t$.trigger(menu, 'tap');\n\t\t\t} else {\n\t\t\t\tif (window.plus) {\n\t\t\t\t\tvar wobj = $.currentWebview;\n\t\t\t\t\tvar parent = wobj.parent();\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tparent.evalJS('mui&&mui.menu();');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar __back = function __back() {\n\t\t\t$.back();\n\t\t};\n\t\tvar __menu = function __menu() {\n\t\t\t$.menu();\n\t\t};\n\t\n\t\t$.plusReady(function () {\n\t\t\tif ($.options.keyEventBind.backbutton) {\n\t\t\t\tplus.key.addEventListener('backbutton', __back, false);\n\t\t\t}\n\t\t\tif ($.options.keyEventBind.menubutton) {\n\t\t\t\tplus.key.addEventListener('menubutton', __menu, false);\n\t\t\t}\n\t\t});\n\t\n\t\t$.addInit({\n\t\t\tname: 'keyEventBind',\n\t\t\tindex: 1000,\n\t\t\thandle: function handle() {\n\t\t\t\t$.plusReady(function () {\n\t\t\t\t\tif (!$.options.keyEventBind.backbutton) {\n\t\t\t\t\t\tplus.key.removeEventListener('backbutton', __back);\n\t\t\t\t\t}\n\t\t\t\t\tif (!$.options.keyEventBind.menubutton) {\n\t\t\t\t\t\tplus.key.removeEventListener('menubutton', __menu);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t})(mui, window);\n\t\n\t(function ($) {\n\t\t$.addInit({\n\t\t\tname: 'pullrefresh',\n\t\t\tindex: 1000,\n\t\t\thandle: function handle() {\n\t\t\t\tvar options = $.options;\n\t\t\t\tvar pullRefreshOptions = options.pullRefresh || {};\n\t\t\t\tvar hasPulldown = pullRefreshOptions.down && pullRefreshOptions.down.hasOwnProperty('callback');\n\t\t\t\tvar hasPullup = pullRefreshOptions.up && pullRefreshOptions.up.hasOwnProperty('callback');\n\t\t\t\tif (hasPulldown || hasPullup) {\n\t\t\t\t\tvar container = pullRefreshOptions.container;\n\t\t\t\t\tif (container) {\n\t\t\t\t\t\tvar $container = $(container);\n\t\t\t\t\t\tif ($container.length === 1) {\n\t\t\t\t\t\t\tif ($.os.plus && $.os.android) {\n\t\t\t\t\t\t\t\t$.plusReady(function () {\n\t\t\t\t\t\t\t\t\tvar webview = plus.webview.currentWebview();\n\t\t\t\t\t\t\t\t\tif (hasPullup) {\n\t\t\t\t\t\t\t\t\t\tvar upOptions = {};\n\t\t\t\t\t\t\t\t\t\tupOptions.up = pullRefreshOptions.up;\n\t\t\t\t\t\t\t\t\t\tupOptions.webviewId = webview.id || webview.getURL();\n\t\t\t\t\t\t\t\t\t\t$container.pullRefresh(upOptions);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (hasPulldown) {\n\t\t\t\t\t\t\t\t\t\tvar parent = webview.parent();\n\t\t\t\t\t\t\t\t\t\tvar id = webview.id || webview.getURL();\n\t\t\t\t\t\t\t\t\t\tif (parent) {\n\t\t\t\t\t\t\t\t\t\t\tif (!hasPullup) {\n\t\t\t\t\t\t\t\t\t\t\t\t$container.pullRefresh({\n\t\t\t\t\t\t\t\t\t\t\t\t\twebviewId: id\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvar downOptions = {\n\t\t\t\t\t\t\t\t\t\t\t\twebviewId: id\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tdownOptions.down = $.extend({}, pullRefreshOptions.down);\n\t\t\t\t\t\t\t\t\t\t\tdownOptions.down.callback = '_CALLBACK';\n\t\n\t\t\t\t\t\t\t\t\t\t\tparent.evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + (0, _stringify2.default)(downOptions) + \"')\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t})(mui);\n\t\n\t(function ($, window, undefined) {\n\t\n\t\tvar jsonType = 'application/json';\n\t\tvar htmlType = 'text/html';\n\t\tvar rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n\t\tvar scriptTypeRE = /^(?:text|application)\\/javascript/i;\n\t\tvar xmlTypeRE = /^(?:text|application)\\/xml/i;\n\t\tvar blankRE = /^\\s*$/;\n\t\n\t\t$.ajaxSettings = {\n\t\t\ttype: 'GET',\n\t\t\tbeforeSend: $.noop,\n\t\t\tsuccess: $.noop,\n\t\t\terror: $.noop,\n\t\t\tcomplete: $.noop,\n\t\t\tcontext: null,\n\t\t\txhr: function xhr(protocol) {\n\t\t\t\treturn new window.XMLHttpRequest();\n\t\t\t},\n\t\t\taccepts: {\n\t\t\t\tscript: 'text/javascript, application/javascript, application/x-javascript',\n\t\t\t\tjson: jsonType,\n\t\t\t\txml: 'application/xml, text/xml',\n\t\t\t\thtml: htmlType,\n\t\t\t\ttext: 'text/plain'\n\t\t\t},\n\t\t\ttimeout: 0,\n\t\t\tprocessData: true,\n\t\t\tcache: true\n\t\t};\n\t\tvar ajaxBeforeSend = function ajaxBeforeSend(xhr, settings) {\n\t\t\tvar context = settings.context;\n\t\t\tif (settings.beforeSend.call(context, xhr, settings) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\t\tvar ajaxSuccess = function ajaxSuccess(data, xhr, settings) {\n\t\t\tsettings.success.call(settings.context, data, 'success', xhr);\n\t\t\tajaxComplete('success', xhr, settings);\n\t\t};\n\t\n\t\tvar ajaxError = function ajaxError(error, type, xhr, settings) {\n\t\t\tsettings.error.call(settings.context, xhr, type, error);\n\t\t\tajaxComplete(type, xhr, settings);\n\t\t};\n\t\n\t\tvar ajaxComplete = function ajaxComplete(status, xhr, settings) {\n\t\t\tsettings.complete.call(settings.context, xhr, status);\n\t\t};\n\t\n\t\tvar serialize = function serialize(params, obj, traditional, scope) {\n\t\t\tvar type,\n\t\t\t    array = $.isArray(obj),\n\t\t\t    hash = $.isPlainObject(obj);\n\t\t\t$.each(obj, function (key, value) {\n\t\t\t\ttype = $.type(value);\n\t\t\t\tif (scope) {\n\t\t\t\t\tkey = traditional ? scope : scope + '[' + (hash || type === 'object' || type === 'array' ? key : '') + ']';\n\t\t\t\t}\n\t\n\t\t\t\tif (!scope && array) {\n\t\t\t\t\tparams.add(value.name, value.value);\n\t\t\t\t} else if (type === \"array\" || !traditional && type === \"object\") {\n\t\t\t\t\t\tserialize(params, value, traditional, key);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.add(key, value);\n\t\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tvar serializeData = function serializeData(options) {\n\t\t\tif (options.processData && options.data && typeof options.data !== \"string\") {\n\t\t\t\tvar contentType = options.contentType;\n\t\t\t\tif (!contentType && options.headers) {\n\t\t\t\t\tcontentType = options.headers['Content-Type'];\n\t\t\t\t}\n\t\t\t\tif (contentType && ~contentType.indexOf(jsonType)) {\n\t\t\t\t\toptions.data = (0, _stringify2.default)(options.data);\n\t\t\t\t} else {\n\t\t\t\t\toptions.data = $.param(options.data, options.traditional);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (options.data && (!options.type || options.type.toUpperCase() === 'GET')) {\n\t\t\t\toptions.url = appendQuery(options.url, options.data);\n\t\t\t\toptions.data = undefined;\n\t\t\t}\n\t\t};\n\t\tvar appendQuery = function appendQuery(url, query) {\n\t\t\tif (query === '') {\n\t\t\t\treturn url;\n\t\t\t}\n\t\t\treturn (url + '&' + query).replace(/[&?]{1,2}/, '?');\n\t\t};\n\t\tvar mimeToDataType = function mimeToDataType(mime) {\n\t\t\tif (mime) {\n\t\t\t\tmime = mime.split(';', 2)[0];\n\t\t\t}\n\t\t\treturn mime && (mime === htmlType ? 'html' : mime === jsonType ? 'json' : scriptTypeRE.test(mime) ? 'script' : xmlTypeRE.test(mime) && 'xml') || 'text';\n\t\t};\n\t\tvar parseArguments = function parseArguments(url, data, success, dataType) {\n\t\t\tif ($.isFunction(data)) {\n\t\t\t\tdataType = success, success = data, data = undefined;\n\t\t\t}\n\t\t\tif (!$.isFunction(success)) {\n\t\t\t\tdataType = success, success = undefined;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\turl: url,\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: success,\n\t\t\t\tdataType: dataType\n\t\t\t};\n\t\t};\n\t\t$.ajax = function (url, options) {\n\t\t\tif ((typeof url === 'undefined' ? 'undefined' : (0, _typeof3.default)(url)) === \"object\") {\n\t\t\t\toptions = url;\n\t\t\t\turl = undefined;\n\t\t\t}\n\t\t\tvar settings = options || {};\n\t\t\tsettings.url = url || settings.url;\n\t\t\tfor (var key in $.ajaxSettings) {\n\t\t\t\tif (settings[key] === undefined) {\n\t\t\t\t\tsettings[key] = $.ajaxSettings[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tserializeData(settings);\n\t\t\tvar dataType = settings.dataType;\n\t\n\t\t\tif (settings.cache === false || (!options || options.cache !== true) && 'script' === dataType) {\n\t\t\t\tsettings.url = appendQuery(settings.url, '_=' + $.now());\n\t\t\t}\n\t\t\tvar mime = settings.accepts[dataType && dataType.toLowerCase()];\n\t\t\tvar headers = {};\n\t\t\tvar setHeader = function setHeader(name, value) {\n\t\t\t\theaders[name.toLowerCase()] = [name, value];\n\t\t\t};\n\t\t\tvar protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol;\n\t\t\tvar xhr = settings.xhr(settings);\n\t\t\tvar nativeSetHeader = xhr.setRequestHeader;\n\t\t\tvar abortTimeout;\n\t\n\t\t\tsetHeader('X-Requested-With', 'XMLHttpRequest');\n\t\t\tsetHeader('Accept', mime || '*/*');\n\t\t\tif (!!(mime = settings.mimeType || mime)) {\n\t\t\t\tif (mime.indexOf(',') > -1) {\n\t\t\t\t\tmime = mime.split(',', 2)[0];\n\t\t\t\t}\n\t\t\t\txhr.overrideMimeType && xhr.overrideMimeType(mime);\n\t\t\t}\n\t\t\tif (settings.contentType || settings.contentType !== false && settings.data && settings.type.toUpperCase() !== 'GET') {\n\t\t\t\tsetHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\n\t\t\t}\n\t\t\tif (settings.headers) {\n\t\t\t\tfor (var name in settings.headers) {\n\t\t\t\t\tsetHeader(name, settings.headers[name]);\n\t\t\t\t}\n\t\t\t}\n\t\t\txhr.setRequestHeader = setHeader;\n\t\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\txhr.onreadystatechange = $.noop;\n\t\t\t\t\tclearTimeout(abortTimeout);\n\t\t\t\t\tvar result,\n\t\t\t\t\t    error = false;\n\t\t\t\t\tvar isLocal = protocol === 'file:';\n\t\t\t\t\tif (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304 || xhr.status === 0 && isLocal && xhr.responseText) {\n\t\t\t\t\t\tdataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\n\t\t\t\t\t\tresult = xhr.responseText;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (dataType === 'script') {\n\t\t\t\t\t\t\t\t(1, eval)(result);\n\t\t\t\t\t\t\t} else if (dataType === 'xml') {\n\t\t\t\t\t\t\t\tresult = xhr.responseXML;\n\t\t\t\t\t\t\t} else if (dataType === 'json') {\n\t\t\t\t\t\t\t\tresult = blankRE.test(result) ? null : $.parseJSON(result);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\terror = e;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\tajaxError(error, 'parsererror', xhr, settings);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tajaxSuccess(result, xhr, settings);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar status = xhr.status ? 'error' : 'abort';\n\t\t\t\t\t\tvar statusText = xhr.statusText || null;\n\t\t\t\t\t\tif (isLocal) {\n\t\t\t\t\t\t\tstatus = 'error';\n\t\t\t\t\t\t\tstatusText = '404';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tajaxError(statusText, status, xhr, settings);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (ajaxBeforeSend(xhr, settings) === false) {\n\t\t\t\txhr.abort();\n\t\t\t\tajaxError(null, 'abort', xhr, settings);\n\t\t\t\treturn xhr;\n\t\t\t}\n\t\n\t\t\tif (settings.xhrFields) {\n\t\t\t\tfor (var name in settings.xhrFields) {\n\t\t\t\t\txhr[name] = settings.xhrFields[name];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tvar async = 'async' in settings ? settings.async : true;\n\t\n\t\t\txhr.open(settings.type.toUpperCase(), settings.url, async, settings.username, settings.password);\n\t\n\t\t\tfor (var name in headers) {\n\t\t\t\tif (headers.hasOwnProperty(name)) {\n\t\t\t\t\tnativeSetHeader.apply(xhr, headers[name]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (settings.timeout > 0) {\n\t\t\t\tabortTimeout = setTimeout(function () {\n\t\t\t\t\txhr.onreadystatechange = $.noop;\n\t\t\t\t\txhr.abort();\n\t\t\t\t\tajaxError(null, 'timeout', xhr, settings);\n\t\t\t\t}, settings.timeout);\n\t\t\t}\n\t\t\txhr.send(settings.data ? settings.data : null);\n\t\t\treturn xhr;\n\t\t};\n\t\n\t\t$.param = function (obj, traditional) {\n\t\t\tvar params = [];\n\t\t\tparams.add = function (k, v) {\n\t\t\t\tthis.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n\t\t\t};\n\t\t\tserialize(params, obj, traditional);\n\t\t\treturn params.join('&').replace(/%20/g, '+');\n\t\t};\n\t\t$.get = function () {\n\t\t\treturn $.ajax(parseArguments.apply(null, arguments));\n\t\t};\n\t\n\t\t$.post = function () {\n\t\t\tvar options = parseArguments.apply(null, arguments);\n\t\t\toptions.type = 'POST';\n\t\t\treturn $.ajax(options);\n\t\t};\n\t\n\t\t$.getJSON = function () {\n\t\t\tvar options = parseArguments.apply(null, arguments);\n\t\t\toptions.dataType = 'json';\n\t\t\treturn $.ajax(options);\n\t\t};\n\t\n\t\t$.fn.load = function (url, data, success) {\n\t\t\tif (!this.length) return this;\n\t\t\tvar self = this,\n\t\t\t    parts = url.split(/\\s/),\n\t\t\t    selector,\n\t\t\t    options = parseArguments(url, data, success),\n\t\t\t    callback = options.success;\n\t\t\tif (parts.length > 1) options.url = parts[0], selector = parts[1];\n\t\t\toptions.success = function (response) {\n\t\t\t\tif (selector) {\n\t\t\t\t\tvar div = document.createElement('div');\n\t\t\t\t\tdiv.innerHTML = response.replace(rscript, \"\");\n\t\t\t\t\tvar selectorDiv = document.createElement('div');\n\t\t\t\t\tvar childs = div.querySelectorAll(selector);\n\t\t\t\t\tif (childs && childs.length > 0) {\n\t\t\t\t\t\tfor (var i = 0, len = childs.length; i < len; i++) {\n\t\t\t\t\t\t\tselectorDiv.appendChild(childs[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tself[0].innerHTML = selectorDiv.innerHTML;\n\t\t\t\t} else {\n\t\t\t\t\tself[0].innerHTML = response;\n\t\t\t\t}\n\t\t\t\tcallback && callback.apply(self, arguments);\n\t\t\t};\n\t\t\t$.ajax(options);\n\t\t\treturn this;\n\t\t};\n\t})(mui, window);\n\t\n\t(function ($) {\n\t\tvar originAnchor = document.createElement('a');\n\t\toriginAnchor.href = window.location.href;\n\t\t$.plusReady(function () {\n\t\t\t$.ajaxSettings = $.extend($.ajaxSettings, {\n\t\t\t\txhr: function xhr(settings) {\n\t\t\t\t\tif (settings.crossDomain) {\n\t\t\t\t\t\treturn new plus.net.XMLHttpRequest();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (originAnchor.protocol !== 'file:') {\n\t\t\t\t\t\tvar urlAnchor = document.createElement('a');\n\t\t\t\t\t\turlAnchor.href = settings.url;\n\t\t\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\t\t\tsettings.crossDomain = originAnchor.protocol + '//' + originAnchor.host !== urlAnchor.protocol + '//' + urlAnchor.host;\n\t\t\t\t\t\tif (settings.crossDomain) {\n\t\t\t\t\t\t\treturn new plus.net.XMLHttpRequest();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn new window.XMLHttpRequest();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t})(mui);\n\t\n\t(function ($, window, undefined) {\n\t\t$.offset = function (element) {\n\t\t\tvar box = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t};\n\t\t\tif ((0, _typeof3.default)(element.getBoundingClientRect) !== undefined) {\n\t\t\t\tbox = element.getBoundingClientRect();\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttop: box.top + window.pageYOffset - element.clientTop,\n\t\t\t\tleft: box.left + window.pageXOffset - element.clientLeft\n\t\t\t};\n\t\t};\n\t})(mui, window);\n\t\n\t(function ($, window) {\n\t\t$.scrollTo = function (scrollTop, duration, callback) {\n\t\t\tduration = duration || 1000;\n\t\t\tvar scroll = function scroll(duration) {\n\t\t\t\tif (duration <= 0) {\n\t\t\t\t\twindow.scrollTo(0, scrollTop);\n\t\t\t\t\tcallback && callback();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar distaince = scrollTop - window.scrollY;\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\twindow.scrollTo(0, window.scrollY + distaince / duration * 10);\n\t\t\t\t\tscroll(duration - 10);\n\t\t\t\t}, 16.7);\n\t\t\t};\n\t\t\tscroll(duration);\n\t\t};\n\t\t$.animationFrame = function (cb) {\n\t\t\tvar args, isQueued, context;\n\t\t\treturn function () {\n\t\t\t\targs = arguments;\n\t\t\t\tcontext = this;\n\t\t\t\tif (!isQueued) {\n\t\t\t\t\tisQueued = true;\n\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\tcb.apply(context, args);\n\t\t\t\t\t\tisQueued = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t})(mui, window);\n\t(function ($) {\n\t\tvar initializing = false,\n\t\t    fnTest = /xyz/.test(function () {\n\t\t\txyz;\n\t\t}) ? /\\b_super\\b/ : /.*/;\n\t\n\t\tvar Class = function Class() {};\n\t\tClass.extend = function (prop) {\n\t\t\tvar _super = this.prototype;\n\t\t\tinitializing = true;\n\t\t\tvar prototype = new this();\n\t\t\tinitializing = false;\n\t\t\tfor (var name in prop) {\n\t\t\t\tprototype[name] = typeof prop[name] == \"function\" && typeof _super[name] == \"function\" && fnTest.test(prop[name]) ? function (name, fn) {\n\t\t\t\t\treturn function () {\n\t\t\t\t\t\tvar tmp = this._super;\n\t\n\t\t\t\t\t\tthis._super = _super[name];\n\t\n\t\t\t\t\t\tvar ret = fn.apply(this, arguments);\n\t\t\t\t\t\tthis._super = tmp;\n\t\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t};\n\t\t\t\t}(name, prop[name]) : prop[name];\n\t\t\t}\n\t\t\tfunction Class() {\n\t\t\t\tif (!initializing && this.init) this.init.apply(this, arguments);\n\t\t\t}\n\t\t\tClass.prototype = prototype;\n\t\t\tClass.prototype.constructor = Class;\n\t\t\tClass.extend = arguments.callee;\n\t\t\treturn Class;\n\t\t};\n\t\t$.Class = Class;\n\t})(mui);\n\t(function ($, document, undefined) {\n\t\tvar CLASS_PULL_TOP_POCKET = 'mui-pull-top-pocket';\n\t\tvar CLASS_PULL_BOTTOM_POCKET = 'mui-pull-bottom-pocket';\n\t\tvar CLASS_PULL = 'mui-pull';\n\t\tvar CLASS_PULL_LOADING = 'mui-pull-loading';\n\t\tvar CLASS_PULL_CAPTION = 'mui-pull-caption';\n\t\tvar CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\n\t\tvar CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\n\t\tvar CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\n\t\n\t\tvar CLASS_ICON = 'mui-icon';\n\t\tvar CLASS_SPINNER = 'mui-spinner';\n\t\tvar CLASS_ICON_PULLDOWN = 'mui-icon-pulldown';\n\t\n\t\tvar CLASS_BLOCK = 'mui-block';\n\t\tvar CLASS_HIDDEN = 'mui-hidden';\n\t\tvar CLASS_VISIBILITY = 'mui-visibility';\n\t\n\t\tvar CLASS_LOADING_UP = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\n\t\tvar CLASS_LOADING_DOWN = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\n\t\tvar CLASS_LOADING = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_SPINNER;\n\t\n\t\tvar pocketHtml = ['<div class=\"' + CLASS_PULL + '\">', '<div class=\"{icon}\"></div>', '<div class=\"' + CLASS_PULL_CAPTION + '\">{contentrefresh}</div>', '</div>'].join('');\n\t\n\t\tvar PullRefresh = {\n\t\t\tinit: function init(element, options) {\n\t\t\t\tthis._super(element, $.extend(true, {\n\t\t\t\t\tscrollY: true,\n\t\t\t\t\tscrollX: false,\n\t\t\t\t\tindicators: true,\n\t\t\t\t\tdeceleration: 0.003,\n\t\t\t\t\tdown: {\n\t\t\t\t\t\theight: 50,\n\t\t\t\t\t\tcontentinit: '下拉可以刷新',\n\t\t\t\t\t\tcontentdown: '下拉可以刷新',\n\t\t\t\t\t\tcontentover: '释放立即刷新',\n\t\t\t\t\t\tcontentrefresh: '正在刷新...'\n\t\t\t\t\t},\n\t\t\t\t\tup: {\n\t\t\t\t\t\theight: 50,\n\t\t\t\t\t\tauto: false,\n\t\t\t\t\t\tcontentinit: '上拉显示更多',\n\t\t\t\t\t\tcontentdown: '上拉显示更多',\n\t\t\t\t\t\tcontentrefresh: '正在加载...',\n\t\t\t\t\t\tcontentnomore: '没有更多数据了',\n\t\t\t\t\t\tduration: 300\n\t\t\t\t\t}\n\t\t\t\t}, options));\n\t\t\t},\n\t\t\t_init: function _init() {\n\t\t\t\tthis._super();\n\t\t\t\tthis._initPocket();\n\t\t\t},\n\t\t\t_initPulldownRefresh: function _initPulldownRefresh() {\n\t\t\t\tthis.pulldown = true;\n\t\t\t\tthis.pullPocket = this.topPocket;\n\t\t\t\tthis.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\t\tthis.pullPocket.classList.add(CLASS_VISIBILITY);\n\t\t\t\tthis.pullCaption = this.topCaption;\n\t\t\t\tthis.pullLoading = this.topLoading;\n\t\t\t},\n\t\t\t_initPullupRefresh: function _initPullupRefresh() {\n\t\t\t\tthis.pulldown = false;\n\t\t\t\tthis.pullPocket = this.bottomPocket;\n\t\t\t\tthis.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\t\tthis.pullPocket.classList.add(CLASS_VISIBILITY);\n\t\t\t\tthis.pullCaption = this.bottomCaption;\n\t\t\t\tthis.pullLoading = this.bottomLoading;\n\t\t\t},\n\t\t\t_initPocket: function _initPocket() {\n\t\t\t\tvar options = this.options;\n\t\t\t\tif (options.down && options.down.hasOwnProperty('callback')) {\n\t\t\t\t\tthis.topPocket = this.scroller.querySelector('.' + CLASS_PULL_TOP_POCKET);\n\t\t\t\t\tif (!this.topPocket) {\n\t\t\t\t\t\tthis.topPocket = this._createPocket(CLASS_PULL_TOP_POCKET, options.down, CLASS_LOADING_DOWN);\n\t\t\t\t\t\tthis.wrapper.insertBefore(this.topPocket, this.wrapper.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tthis.topLoading = this.topPocket.querySelector('.' + CLASS_PULL_LOADING);\n\t\t\t\t\tthis.topCaption = this.topPocket.querySelector('.' + CLASS_PULL_CAPTION);\n\t\t\t\t}\n\t\t\t\tif (options.up && options.up.hasOwnProperty('callback')) {\n\t\t\t\t\tthis.bottomPocket = this.scroller.querySelector('.' + CLASS_PULL_BOTTOM_POCKET);\n\t\t\t\t\tif (!this.bottomPocket) {\n\t\t\t\t\t\tthis.bottomPocket = this._createPocket(CLASS_PULL_BOTTOM_POCKET, options.up, CLASS_LOADING);\n\t\t\t\t\t\tthis.scroller.appendChild(this.bottomPocket);\n\t\t\t\t\t}\n\t\t\t\t\tthis.bottomLoading = this.bottomPocket.querySelector('.' + CLASS_PULL_LOADING);\n\t\t\t\t\tthis.bottomCaption = this.bottomPocket.querySelector('.' + CLASS_PULL_CAPTION);\n\t\n\t\t\t\t\tthis.wrapper.addEventListener('scrollbottom', this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_createPocket: function _createPocket(clazz, options, iconClass) {\n\t\t\t\tvar pocket = document.createElement('div');\n\t\t\t\tpocket.className = clazz;\n\t\t\t\tpocket.innerHTML = pocketHtml.replace('{contentrefresh}', options.contentinit).replace('{icon}', iconClass);\n\t\t\t\treturn pocket;\n\t\t\t},\n\t\t\t_resetPullDownLoading: function _resetPullDownLoading() {\n\t\t\t\tvar loading = this.pullLoading;\n\t\t\t\tif (loading) {\n\t\t\t\t\tthis.pullCaption.innerHTML = this.options.down.contentdown;\n\t\t\t\t\tloading.style.webkitTransition = \"\";\n\t\t\t\t\tloading.style.webkitTransform = \"\";\n\t\t\t\t\tloading.style.webkitAnimation = \"\";\n\t\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_setCaptionClass: function _setCaptionClass(isPulldown, caption, title) {\n\t\t\t\tif (!isPulldown) {\n\t\t\t\t\tswitch (title) {\n\t\t\t\t\t\tcase this.options.up.contentdown:\n\t\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase this.options.up.contentrefresh:\n\t\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase this.options.up.contentnomore:\n\t\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t_setCaption: function _setCaption(title, reset) {\n\t\t\t\tif (this.loading) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar options = this.options;\n\t\t\t\tvar pocket = this.pullPocket;\n\t\t\t\tvar caption = this.pullCaption;\n\t\t\t\tvar loading = this.pullLoading;\n\t\t\t\tvar isPulldown = this.pulldown;\n\t\t\t\tvar self = this;\n\t\t\t\tif (pocket) {\n\t\t\t\t\tif (reset) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tcaption.innerHTML = self.lastTitle = title;\n\t\t\t\t\t\t\tif (isPulldown) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself._setCaptionClass(false, caption, title);\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tloading.style.webkitAnimation = \"\";\n\t\t\t\t\t\t\tloading.style.webkitTransition = \"\";\n\t\t\t\t\t\t\tloading.style.webkitTransform = \"\";\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (title !== this.lastTitle) {\n\t\t\t\t\t\t\tcaption.innerHTML = title;\n\t\t\t\t\t\t\tif (isPulldown) {\n\t\t\t\t\t\t\t\tif (title === options.down.contentrefresh) {\n\t\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING;\n\t\t\t\t\t\t\t\t\tloading.style.webkitAnimation = \"spinner-spin 1s step-end infinite\";\n\t\t\t\t\t\t\t\t} else if (title === options.down.contentover) {\n\t\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING_UP;\n\t\t\t\t\t\t\t\t\tloading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\n\t\t\t\t\t\t\t\t\tloading.style.webkitTransform = \"rotate(180deg)\";\n\t\t\t\t\t\t\t\t} else if (title === options.down.contentdown) {\n\t\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t\t\t\t\t\t\tloading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\n\t\t\t\t\t\t\t\t\tloading.style.webkitTransform = \"rotate(0deg)\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (title === options.up.contentrefresh) {\n\t\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING + ' ' + CLASS_VISIBILITY;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING + ' ' + CLASS_HIDDEN;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself._setCaptionClass(false, caption, title);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.lastTitle = title;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t$.PullRefresh = PullRefresh;\n\t})(mui, document);\n\t(function ($, window, document, undefined) {\n\t\tvar CLASS_SCROLL = 'mui-scroll';\n\t\tvar CLASS_SCROLLBAR = 'mui-scrollbar';\n\t\tvar CLASS_INDICATOR = 'mui-scrollbar-indicator';\n\t\tvar CLASS_SCROLLBAR_VERTICAL = CLASS_SCROLLBAR + '-vertical';\n\t\tvar CLASS_SCROLLBAR_HORIZONTAL = CLASS_SCROLLBAR + '-horizontal';\n\t\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\n\t\tvar ease = {\n\t\t\tquadratic: {\n\t\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n\t\t\t\tfn: function fn(k) {\n\t\t\t\t\treturn k * (2 - k);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcircular: {\n\t\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\n\t\t\t\tfn: function fn(k) {\n\t\t\t\t\treturn Math.sqrt(1 - --k * k);\n\t\t\t\t}\n\t\t\t},\n\t\t\toutCirc: {\n\t\t\t\tstyle: 'cubic-bezier(0.075, 0.82, 0.165, 1)'\n\t\t\t},\n\t\t\toutCubic: {\n\t\t\t\tstyle: 'cubic-bezier(0.165, 0.84, 0.44, 1)'\n\t\t\t}\n\t\t};\n\t\tvar Scroll = $.Class.extend({\n\t\t\tinit: function init(element, options) {\n\t\t\t\tthis.wrapper = this.element = element;\n\t\t\t\tthis.scroller = this.wrapper.children[0];\n\t\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\t\tthis.stopped = false;\n\t\n\t\t\t\tthis.options = $.extend(true, {\n\t\t\t\t\tscrollY: true,\n\t\t\t\t\tscrollX: false,\n\t\t\t\t\tstartX: 0,\n\t\t\t\t\tstartY: 0,\n\t\n\t\t\t\t\tindicators: true,\n\t\t\t\t\tstopPropagation: false,\n\t\t\t\t\thardwareAccelerated: true,\n\t\t\t\t\tfixedBadAndorid: false,\n\t\t\t\t\tpreventDefaultException: {\n\t\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\n\t\t\t\t\t},\n\t\t\t\t\tmomentum: true,\n\t\n\t\t\t\t\tsnapX: 0.5,\n\t\t\t\t\tsnap: false,\n\t\n\t\t\t\t\tbounce: true,\n\t\t\t\t\tbounceTime: 500,\n\t\t\t\t\tbounceEasing: ease.outCirc,\n\t\n\t\t\t\t\tscrollTime: 500,\n\t\t\t\t\tscrollEasing: ease.outCubic,\n\t\n\t\t\t\t\tdirectionLockThreshold: 5,\n\t\n\t\t\t\t\tparallaxElement: false,\n\t\t\t\t\tparallaxRatio: 0.5\n\t\t\t\t}, options);\n\t\n\t\t\t\tthis.x = 0;\n\t\t\t\tthis.y = 0;\n\t\t\t\tthis.translateZ = this.options.hardwareAccelerated ? ' translateZ(0)' : '';\n\t\n\t\t\t\tthis._init();\n\t\t\t\tif (this.scroller) {\n\t\t\t\t\tthis.refresh();\n\t\n\t\t\t\t\tthis.scrollTo(this.options.startX, this.options.startY);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_init: function _init() {\n\t\t\t\tthis._initParallax();\n\t\t\t\tthis._initIndicators();\n\t\t\t\tthis._initEvent();\n\t\t\t},\n\t\t\t_initParallax: function _initParallax() {\n\t\t\t\tif (this.options.parallaxElement) {\n\t\t\t\t\tthis.parallaxElement = document.querySelector(this.options.parallaxElement);\n\t\t\t\t\tthis.parallaxStyle = this.parallaxElement.style;\n\t\t\t\t\tthis.parallaxHeight = this.parallaxElement.offsetHeight;\n\t\t\t\t\tthis.parallaxImgStyle = this.parallaxElement.querySelector('img').style;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_initIndicators: function _initIndicators() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.indicators = [];\n\t\t\t\tif (!this.options.indicators) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar indicators = [],\n\t\t\t\t    indicator;\n\t\n\t\t\t\tif (self.options.scrollY) {\n\t\t\t\t\tindicator = {\n\t\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_VERTICAL),\n\t\t\t\t\t\tlistenX: false\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\t\tindicators.push(indicator);\n\t\t\t\t}\n\t\n\t\t\t\tif (this.options.scrollX) {\n\t\t\t\t\tindicator = {\n\t\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_HORIZONTAL),\n\t\t\t\t\t\tlistenY: false\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\t\tindicators.push(indicator);\n\t\t\t\t}\n\t\n\t\t\t\tfor (var i = indicators.length; i--;) {\n\t\t\t\t\tthis.indicators.push(new Indicator(this, indicators[i]));\n\t\t\t\t}\n\t\t\t},\n\t\t\t_initSnap: function _initSnap() {\n\t\t\t\tthis.currentPage = {};\n\t\t\t\tthis.pages = [];\n\t\t\t\tvar snaps = this.snaps;\n\t\t\t\tvar length = snaps.length;\n\t\t\t\tvar m = 0;\n\t\t\t\tvar n = -1;\n\t\t\t\tvar x = 0;\n\t\t\t\tvar leftX = 0;\n\t\t\t\tvar rightX = 0;\n\t\t\t\tvar snapX = 0;\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tvar snap = snaps[i];\n\t\t\t\t\tvar offsetLeft = snap.offsetLeft;\n\t\t\t\t\tvar offsetWidth = snap.offsetWidth;\n\t\t\t\t\tif (i === 0 || offsetLeft <= snaps[i - 1].offsetLeft) {\n\t\t\t\t\t\tm = 0;\n\t\t\t\t\t\tn++;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.pages[m]) {\n\t\t\t\t\t\tthis.pages[m] = [];\n\t\t\t\t\t}\n\t\t\t\t\tx = this._getSnapX(offsetLeft);\n\t\t\t\t\tsnapX = Math.round(offsetWidth * this.options.snapX);\n\t\t\t\t\tleftX = x - snapX;\n\t\t\t\t\trightX = x - offsetWidth + snapX;\n\t\t\t\t\tthis.pages[m][n] = {\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\tleftX: leftX,\n\t\t\t\t\t\trightX: rightX,\n\t\t\t\t\t\tpageX: m,\n\t\t\t\t\t\telement: snap\n\t\t\t\t\t};\n\t\t\t\t\tif (snap.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\tthis.currentPage = this.pages[m][0];\n\t\t\t\t\t}\n\t\t\t\t\tif (x >= this.maxScrollX) {\n\t\t\t\t\t\tm++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.options.startX = this.currentPage.x || 0;\n\t\t\t},\n\t\t\t_getSnapX: function _getSnapX(offsetLeft) {\n\t\t\t\treturn Math.max(Math.min(0, -offsetLeft + this.wrapperWidth / 2), this.maxScrollX);\n\t\t\t},\n\t\t\t_gotoPage: function _gotoPage(index) {\n\t\t\t\tthis.currentPage = this.pages[Math.min(index, this.pages.length - 1)][0];\n\t\t\t\tfor (var i = 0, len = this.snaps.length; i < len; i++) {\n\t\t\t\t\tif (i === index) {\n\t\t\t\t\t\tthis.snaps[i].classList.add(CLASS_ACTIVE);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.snaps[i].classList.remove(CLASS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.scrollTo(this.currentPage.x, 0, this.options.scrollTime);\n\t\t\t},\n\t\t\t_nearestSnap: function _nearestSnap(x) {\n\t\t\t\tif (!this.pages.length) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\tpageX: 0\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar i = 0;\n\t\t\t\tvar length = this.pages.length;\n\t\t\t\tif (x > 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t} else if (x < this.maxScrollX) {\n\t\t\t\t\tx = this.maxScrollX;\n\t\t\t\t}\n\t\t\t\tfor (; i < length; i++) {\n\t\t\t\t\tvar nearestX = this.direction === 'left' ? this.pages[i][0].leftX : this.pages[i][0].rightX;\n\t\t\t\t\tif (x >= nearestX) {\n\t\t\t\t\t\treturn this.pages[i][0];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tx: 0,\n\t\t\t\t\tpageX: 0\n\t\t\t\t};\n\t\t\t},\n\t\t\t_initEvent: function _initEvent(detach) {\n\t\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\t\twindow[action]('orientationchange', this);\n\t\t\t\twindow[action]('resize', this);\n\t\n\t\t\t\tthis.scroller[action]('webkitTransitionEnd', this);\n\t\n\t\t\t\tthis.wrapper[action]($.EVENT_START, this);\n\t\t\t\tthis.wrapper[action]($.EVENT_CANCEL, this);\n\t\t\t\tthis.wrapper[action]($.EVENT_END, this);\n\t\t\t\tthis.wrapper[action]('drag', this);\n\t\t\t\tthis.wrapper[action]('dragend', this);\n\t\t\t\tthis.wrapper[action]('flick', this);\n\t\t\t\tthis.wrapper[action]('scrollend', this);\n\t\t\t\tif (this.options.scrollX) {\n\t\t\t\t\tthis.wrapper[action]('swiperight', this);\n\t\t\t\t}\n\t\t\t\tvar segmentedControl = this.wrapper.querySelector('.mui-segmented-control');\n\t\t\t\tif (segmentedControl) {\n\t\t\t\t\tmui(segmentedControl)[detach ? 'off' : 'on']('click', 'a', $.preventDefault);\n\t\t\t\t}\n\t\n\t\t\t\tthis.wrapper[action]('scrollstart', this);\n\t\t\t\tthis.wrapper[action]('refresh', this);\n\t\t\t},\n\t\t\t_handleIndicatorScrollend: function _handleIndicatorScrollend() {\n\t\t\t\tthis.indicators.map(function (indicator) {\n\t\t\t\t\tindicator.fade();\n\t\t\t\t});\n\t\t\t},\n\t\t\t_handleIndicatorScrollstart: function _handleIndicatorScrollstart() {\n\t\t\t\tthis.indicators.map(function (indicator) {\n\t\t\t\t\tindicator.fade(1);\n\t\t\t\t});\n\t\t\t},\n\t\t\t_handleIndicatorRefresh: function _handleIndicatorRefresh() {\n\t\t\t\tthis.indicators.map(function (indicator) {\n\t\t\t\t\tindicator.refresh();\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\tif (this.stopped) {\n\t\t\t\t\tthis.resetPosition();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\t\tthis._start(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'drag':\n\t\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\n\t\t\t\t\t\tthis._drag(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'dragend':\n\t\t\t\t\tcase 'flick':\n\t\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\n\t\t\t\t\t\tthis._flick(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\t\tcase $.EVENT_END:\n\t\t\t\t\t\tthis._end(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'webkitTransitionEnd':\n\t\t\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\n\t\t\t\t\t\tthis._transitionEnd(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'scrollstart':\n\t\t\t\t\t\tthis._handleIndicatorScrollstart(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'scrollend':\n\t\t\t\t\t\tthis._handleIndicatorScrollend(e);\n\t\t\t\t\t\tthis._scrollend(e);\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'orientationchange':\n\t\t\t\t\tcase 'resize':\n\t\t\t\t\t\tthis._resize();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'swiperight':\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'refresh':\n\t\t\t\t\t\tthis._handleIndicatorRefresh(e);\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\t\t},\n\t\t\t_start: function _start(e) {\n\t\t\t\tthis.moved = this.needReset = false;\n\t\t\t\tthis._transitionTime();\n\t\t\t\tif (this.isInTransition) {\n\t\t\t\t\tthis.needReset = true;\n\t\t\t\t\tthis.isInTransition = false;\n\t\t\t\t\tvar pos = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\n\t\t\t\t\tthis.setTranslate(Math.round(pos.x), Math.round(pos.y));\n\t\n\t\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\tthis.reLayout();\n\t\t\t\t$.trigger(this.scroller, 'beforescrollstart', this);\n\t\t\t},\n\t\t\t_getDirectionByAngle: function _getDirectionByAngle(angle) {\n\t\t\t\tif (angle < -80 && angle > -100) {\n\t\t\t\t\treturn 'up';\n\t\t\t\t} else if (angle >= 80 && angle < 100) {\n\t\t\t\t\treturn 'down';\n\t\t\t\t} else if (angle >= 170 || angle <= -170) {\n\t\t\t\t\treturn 'left';\n\t\t\t\t} else if (angle >= -35 && angle <= 10) {\n\t\t\t\t\treturn 'right';\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t_drag: function _drag(e) {\n\t\t\t\tvar detail = e.detail;\n\t\t\t\tif (this.options.scrollY || detail.direction === 'up' || detail.direction === 'down') {\n\t\t\t\t\tif ($.os.ios && parseFloat($.os.version) >= 8) {\n\t\t\t\t\t\tvar clientY = detail.gesture.touches[0].clientY;\n\t\n\t\t\t\t\t\tif (clientY + 10 > window.innerHeight || clientY < 10) {\n\t\t\t\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar isPreventDefault = isReturn = false;\n\t\t\t\tvar direction = this._getDirectionByAngle(detail.angle);\n\t\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\n\t\t\t\t\tif (this.options.scrollX) {\n\t\t\t\t\t\tisPreventDefault = true;\n\t\t\t\t\t\tif (!this.moved) {\n\t\t\t\t\t\t\t$.gestures.session.lockDirection = true;\n\t\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (this.options.scrollY && !this.moved) {\n\t\t\t\t\t\tisReturn = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (detail.direction === 'up' || detail.direction === 'down') {\n\t\t\t\t\tif (this.options.scrollY) {\n\t\t\t\t\t\tisPreventDefault = true;\n\t\n\t\t\t\t\t\tif (!this.moved) {\n\t\t\t\t\t\t\t$.gestures.session.lockDirection = true;\n\t\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (this.options.scrollX && !this.moved) {\n\t\t\t\t\t\tisReturn = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tisReturn = true;\n\t\t\t\t}\n\t\t\t\tif (this.moved || isPreventDefault) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tdetail.gesture && detail.gesture.preventDefault();\n\t\t\t\t}\n\t\t\t\tif (isReturn) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.moved) {\n\t\t\t\t\t$.trigger(this.scroller, 'scrollstart', this);\n\t\t\t\t} else {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tvar deltaX = 0;\n\t\t\t\tvar deltaY = 0;\n\t\t\t\tif (!this.moved) {\n\t\t\t\t\tdeltaX = detail.deltaX;\n\t\t\t\t\tdeltaY = detail.deltaY;\n\t\t\t\t} else {\n\t\t\t\t\tdeltaX = detail.deltaX - $.gestures.session.prevTouch.deltaX;\n\t\t\t\t\tdeltaY = detail.deltaY - $.gestures.session.prevTouch.deltaY;\n\t\t\t\t}\n\t\t\t\tvar absDeltaX = Math.abs(detail.deltaX);\n\t\t\t\tvar absDeltaY = Math.abs(detail.deltaY);\n\t\t\t\tif (absDeltaX > absDeltaY + this.options.directionLockThreshold) {\n\t\t\t\t\tdeltaY = 0;\n\t\t\t\t} else if (absDeltaY >= absDeltaX + this.options.directionLockThreshold) {\n\t\t\t\t\tdeltaX = 0;\n\t\t\t\t}\n\t\n\t\t\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;\n\t\t\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;\n\t\t\t\tvar newX = this.x + deltaX;\n\t\t\t\tvar newY = this.y + deltaY;\n\t\n\t\t\t\tif (newX > 0 || newX < this.maxScrollX) {\n\t\t\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n\t\t\t\t}\n\t\t\t\tif (newY > 0 || newY < this.maxScrollY) {\n\t\t\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n\t\t\t\t}\n\t\n\t\t\t\tif (!this.requestAnimationFrame) {\n\t\t\t\t\tthis._updateTranslate();\n\t\t\t\t}\n\t\t\t\tthis.direction = detail.deltaX > 0 ? 'right' : 'left';\n\t\t\t\tthis.moved = true;\n\t\t\t\tthis.x = newX;\n\t\t\t\tthis.y = newY;\n\t\t\t\t$.trigger(this.scroller, 'scroll', this);\n\t\t\t},\n\t\t\t_flick: function _flick(e) {\n\t\t\t\tif (!this.moved) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t\tvar detail = e.detail;\n\t\t\t\tthis._clearRequestAnimationFrame();\n\t\t\t\tif (e.type === 'dragend' && detail.flick) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar newX = Math.round(this.x);\n\t\t\t\tvar newY = Math.round(this.y);\n\t\n\t\t\t\tthis.isInTransition = false;\n\t\n\t\t\t\tif (this.resetPosition(this.options.bounceTime)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tthis.scrollTo(newX, newY);\n\t\n\t\t\t\tif (e.type === 'dragend') {\n\t\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar time = 0;\n\t\t\t\tvar easing = '';\n\t\n\t\t\t\tif (this.options.momentum && detail.flickTime < 300) {\n\t\t\t\t\tmomentumX = this.hasHorizontalScroll ? this._momentum(this.x, detail.flickDistanceX, detail.flickTime, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\n\t\t\t\t\t\tdestination: newX,\n\t\t\t\t\t\tduration: 0\n\t\t\t\t\t};\n\t\t\t\t\tmomentumY = this.hasVerticalScroll ? this._momentum(this.y, detail.flickDistanceY, detail.flickTime, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\n\t\t\t\t\t\tdestination: newY,\n\t\t\t\t\t\tduration: 0\n\t\t\t\t\t};\n\t\t\t\t\tnewX = momentumX.destination;\n\t\t\t\t\tnewY = momentumY.destination;\n\t\t\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);\n\t\t\t\t\tthis.isInTransition = true;\n\t\t\t\t}\n\t\n\t\t\t\tif (newX != this.x || newY != this.y) {\n\t\t\t\t\tif (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\n\t\t\t\t\t\teasing = ease.quadratic;\n\t\t\t\t\t}\n\t\t\t\t\tthis.scrollTo(newX, newY, time, easing);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t},\n\t\t\t_end: function _end(e) {\n\t\t\t\tthis.needReset = false;\n\t\t\t\tif (!this.moved && this.needReset || e.type === $.EVENT_CANCEL) {\n\t\t\t\t\tthis.resetPosition();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_transitionEnd: function _transitionEnd(e) {\n\t\t\t\tif (e.target != this.scroller || !this.isInTransition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._transitionTime();\n\t\t\t\tif (!this.resetPosition(this.options.bounceTime)) {\n\t\t\t\t\tthis.isInTransition = false;\n\t\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_scrollend: function _scrollend(e) {\n\t\t\t\tif (this.y === 0 && this.maxScrollY === 0 || Math.abs(this.y) > 0 && this.y <= this.maxScrollY) {\n\t\t\t\t\t$.trigger(this.scroller, 'scrollbottom', this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_resize: function _resize() {\n\t\t\t\tvar that = this;\n\t\t\t\tclearTimeout(that.resizeTimeout);\n\t\t\t\tthat.resizeTimeout = setTimeout(function () {\n\t\t\t\t\tthat.refresh();\n\t\t\t\t}, that.options.resizePolling);\n\t\t\t},\n\t\t\t_transitionTime: function _transitionTime(time) {\n\t\t\t\ttime = time || 0;\n\t\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\t\tif (this.parallaxElement && this.options.scrollY) {\n\t\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\t\t}\n\t\t\t\tif (this.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\n\t\t\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\t\tif (this.parallaxElement && this.options.scrollY) {\n\t\t\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.indicators) {\n\t\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\t\tthis.indicators[i].transitionTime(time);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (time) {\n\t\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\n\t\t\t\t\tthis.transitionTimer = $.later(function () {\n\t\t\t\t\t\t$.trigger(this.scroller, 'webkitTransitionEnd');\n\t\t\t\t\t}, time + 100, this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_transitionTimingFunction: function _transitionTimingFunction(easing) {\n\t\t\t\tthis.scrollerStyle['webkitTransitionTimingFunction'] = easing;\n\t\t\t\tif (this.parallaxElement && this.options.scrollY) {\n\t\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = easing;\n\t\t\t\t}\n\t\t\t\tif (this.indicators) {\n\t\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t_translate: function _translate(x, y) {\n\t\t\t\tthis.x = x;\n\t\t\t\tthis.y = y;\n\t\t\t},\n\t\t\t_clearRequestAnimationFrame: function _clearRequestAnimationFrame() {\n\t\t\t\tif (this.requestAnimationFrame) {\n\t\t\t\t\tcancelAnimationFrame(this.requestAnimationFrame);\n\t\t\t\t\tthis.requestAnimationFrame = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_updateTranslate: function _updateTranslate() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.x !== self.lastX || self.y !== self.lastY) {\n\t\t\t\t\tself.setTranslate(self.x, self.y);\n\t\t\t\t}\n\t\t\t\tself.requestAnimationFrame = requestAnimationFrame(function () {\n\t\t\t\t\tself._updateTranslate();\n\t\t\t\t});\n\t\t\t},\n\t\t\t_createScrollBar: function _createScrollBar(clazz) {\n\t\t\t\tvar scrollbar = document.createElement('div');\n\t\t\t\tvar indicator = document.createElement('div');\n\t\t\t\tscrollbar.className = CLASS_SCROLLBAR + ' ' + clazz;\n\t\t\t\tindicator.className = CLASS_INDICATOR;\n\t\t\t\tscrollbar.appendChild(indicator);\n\t\t\t\tif (clazz === CLASS_SCROLLBAR_VERTICAL) {\n\t\t\t\t\tthis.scrollbarY = scrollbar;\n\t\t\t\t\tthis.scrollbarIndicatorY = indicator;\n\t\t\t\t} else if (clazz === CLASS_SCROLLBAR_HORIZONTAL) {\n\t\t\t\t\tthis.scrollbarX = scrollbar;\n\t\t\t\t\tthis.scrollbarIndicatorX = indicator;\n\t\t\t\t}\n\t\t\t\tthis.wrapper.appendChild(scrollbar);\n\t\t\t\treturn scrollbar;\n\t\t\t},\n\t\t\t_preventDefaultException: function _preventDefaultException(el, exceptions) {\n\t\t\t\tfor (var i in exceptions) {\n\t\t\t\t\tif (exceptions[i].test(el[i])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t_reLayout: function _reLayout() {\n\t\t\t\tif (!this.hasHorizontalScroll) {\n\t\t\t\t\tthis.maxScrollX = 0;\n\t\t\t\t\tthis.scrollerWidth = this.wrapperWidth;\n\t\t\t\t}\n\t\n\t\t\t\tif (!this.hasVerticalScroll) {\n\t\t\t\t\tthis.maxScrollY = 0;\n\t\t\t\t\tthis.scrollerHeight = this.wrapperHeight;\n\t\t\t\t}\n\t\n\t\t\t\tthis.indicators.map(function (indicator) {\n\t\t\t\t\tindicator.refresh();\n\t\t\t\t});\n\t\n\t\t\t\tif (this.options.snap && typeof this.options.snap === 'string') {\n\t\t\t\t\tvar items = this.scroller.querySelectorAll(this.options.snap);\n\t\t\t\t\tthis.itemLength = 0;\n\t\t\t\t\tthis.snaps = [];\n\t\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\n\t\t\t\t\t\tvar item = items[i];\n\t\t\t\t\t\tif (item.parentNode === this.scroller) {\n\t\t\t\t\t\t\tthis.itemLength++;\n\t\t\t\t\t\t\tthis.snaps.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._initSnap();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_momentum: function _momentum(current, distance, time, lowerMargin, wrapperSize, deceleration) {\n\t\t\t\tvar speed = parseFloat(Math.abs(distance) / time),\n\t\t\t\t    destination,\n\t\t\t\t    duration;\n\t\n\t\t\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;\n\t\t\t\tdestination = current + speed * speed / (2 * deceleration) * (distance < 0 ? -1 : 1);\n\t\t\t\tduration = speed / deceleration;\n\t\t\t\tif (destination < lowerMargin) {\n\t\t\t\t\tdestination = wrapperSize ? lowerMargin - wrapperSize / 2.5 * (speed / 8) : lowerMargin;\n\t\t\t\t\tdistance = Math.abs(destination - current);\n\t\t\t\t\tduration = distance / speed;\n\t\t\t\t} else if (destination > 0) {\n\t\t\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\n\t\t\t\t\tdistance = Math.abs(current) + destination;\n\t\t\t\t\tduration = distance / speed;\n\t\t\t\t}\n\t\n\t\t\t\treturn {\n\t\t\t\t\tdestination: Math.round(destination),\n\t\t\t\t\tduration: duration\n\t\t\t\t};\n\t\t\t},\n\t\t\t_getTranslateStr: function _getTranslateStr(x, y) {\n\t\t\t\tif (this.options.hardwareAccelerated) {\n\t\t\t\t\treturn 'translate3d(' + x + 'px,' + y + 'px,0px) ' + this.translateZ;\n\t\t\t\t}\n\t\t\t\treturn 'translate(' + x + 'px,' + y + 'px) ';\n\t\t\t},\n\t\n\t\t\tsetStopped: function setStopped(stopped) {\n\t\t\t\tthis.stopped = !!stopped;\n\t\t\t},\n\t\t\tsetTranslate: function setTranslate(x, y) {\n\t\t\t\tthis.x = x;\n\t\t\t\tthis.y = y;\n\t\t\t\tthis.scrollerStyle['webkitTransform'] = this._getTranslateStr(x, y);\n\t\t\t\tif (this.parallaxElement && this.options.scrollY) {\n\t\t\t\t\tvar parallaxY = y * this.options.parallaxRatio;\n\t\t\t\t\tvar scale = 1 + parallaxY / ((this.parallaxHeight - parallaxY) / 2);\n\t\t\t\t\tif (scale > 1) {\n\t\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1 - parallaxY / 100 * this.options.parallaxRatio;\n\t\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -parallaxY) + ' scale(' + scale + ',' + scale + ')';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1;\n\t\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -1) + ' scale(1,1)';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.indicators) {\n\t\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\t\tthis.indicators[i].updatePosition();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.lastX = this.x;\n\t\t\t\tthis.lastY = this.y;\n\t\t\t\t$.trigger(this.scroller, 'scroll', this);\n\t\t\t},\n\t\t\treLayout: function reLayout() {\n\t\t\t\tthis.wrapper.offsetHeight;\n\t\n\t\t\t\tvar paddingLeft = parseFloat($.getStyles(this.wrapper, 'padding-left')) || 0;\n\t\t\t\tvar paddingRight = parseFloat($.getStyles(this.wrapper, 'padding-right')) || 0;\n\t\t\t\tvar paddingTop = parseFloat($.getStyles(this.wrapper, 'padding-top')) || 0;\n\t\t\t\tvar paddingBottom = parseFloat($.getStyles(this.wrapper, 'padding-bottom')) || 0;\n\t\n\t\t\t\tvar clientWidth = this.wrapper.clientWidth;\n\t\t\t\tvar clientHeight = this.wrapper.clientHeight;\n\t\n\t\t\t\tthis.scrollerWidth = this.scroller.offsetWidth;\n\t\t\t\tthis.scrollerHeight = this.scroller.offsetHeight;\n\t\n\t\t\t\tthis.wrapperWidth = clientWidth - paddingLeft - paddingRight;\n\t\t\t\tthis.wrapperHeight = clientHeight - paddingTop - paddingBottom;\n\t\n\t\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\n\t\t\t\tthis.maxScrollY = Math.min(this.wrapperHeight - this.scrollerHeight, 0);\n\t\t\t\tthis.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\n\t\t\t\tthis.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\n\t\t\t\tthis._reLayout();\n\t\t\t},\n\t\t\tresetPosition: function resetPosition(time) {\n\t\t\t\tvar x = this.x,\n\t\t\t\t    y = this.y;\n\t\n\t\t\t\ttime = time || 0;\n\t\t\t\tif (!this.hasHorizontalScroll || this.x > 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t} else if (this.x < this.maxScrollX) {\n\t\t\t\t\tx = this.maxScrollX;\n\t\t\t\t}\n\t\n\t\t\t\tif (!this.hasVerticalScroll || this.y > 0) {\n\t\t\t\t\ty = 0;\n\t\t\t\t} else if (this.y < this.maxScrollY) {\n\t\t\t\t\ty = this.maxScrollY;\n\t\t\t\t}\n\t\n\t\t\t\tif (x == this.x && y == this.y) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.scrollTo(x, y, time, this.options.scrollEasing);\n\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\t_reInit: function _reInit() {\n\t\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SCROLL);\n\t\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\n\t\t\t\t\tif (groups[i].parentNode === this.wrapper) {\n\t\t\t\t\t\tthis.scroller = groups[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\t},\n\t\t\trefresh: function refresh() {\n\t\t\t\tthis._reInit();\n\t\t\t\tthis.reLayout();\n\t\t\t\t$.trigger(this.scroller, 'refresh', this);\n\t\t\t\tthis.resetPosition();\n\t\t\t},\n\t\t\tscrollTo: function scrollTo(x, y, time, easing) {\n\t\t\t\tvar easing = easing || ease.circular;\n\t\n\t\t\t\tthis.isInTransition = time > 0;\n\t\t\t\tif (this.isInTransition) {\n\t\t\t\t\tthis._clearRequestAnimationFrame();\n\t\t\t\t\tthis._transitionTimingFunction(easing.style);\n\t\t\t\t\tthis._transitionTime(time);\n\t\t\t\t\tthis.setTranslate(x, y);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setTranslate(x, y);\n\t\t\t\t}\n\t\t\t},\n\t\t\tscrollToBottom: function scrollToBottom(time, easing) {\n\t\t\t\ttime = time || this.options.scrollTime;\n\t\t\t\tthis.scrollTo(0, this.maxScrollY, time, easing);\n\t\t\t},\n\t\t\tgotoPage: function gotoPage(index) {\n\t\t\t\tthis._gotoPage(index);\n\t\t\t},\n\t\t\tdestroy: function destroy() {\n\t\t\t\tthis._initEvent(true);\n\t\t\t\tdelete $.data[this.wrapper.getAttribute('data-scroll')];\n\t\t\t\tthis.wrapper.setAttribute('data-scroll', '');\n\t\t\t}\n\t\t});\n\t\n\t\tvar Indicator = function Indicator(scroller, options) {\n\t\t\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n\t\t\tthis.wrapperStyle = this.wrapper.style;\n\t\t\tthis.indicator = this.wrapper.children[0];\n\t\t\tthis.indicatorStyle = this.indicator.style;\n\t\t\tthis.scroller = scroller;\n\t\n\t\t\tthis.options = $.extend({\n\t\t\t\tlistenX: true,\n\t\t\t\tlistenY: true,\n\t\t\t\tfade: false,\n\t\t\t\tspeedRatioX: 0,\n\t\t\t\tspeedRatioY: 0\n\t\t\t}, options);\n\t\n\t\t\tthis.sizeRatioX = 1;\n\t\t\tthis.sizeRatioY = 1;\n\t\t\tthis.maxPosX = 0;\n\t\t\tthis.maxPosY = 0;\n\t\n\t\t\tif (this.options.fade) {\n\t\t\t\tthis.wrapperStyle['webkitTransform'] = this.scroller.translateZ;\n\t\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = this.options.fixedBadAndorid && $.os.isBadAndroid ? '0.001s' : '0ms';\n\t\t\t\tthis.wrapperStyle.opacity = '0';\n\t\t\t}\n\t\t};\n\t\tIndicator.prototype = {\n\t\t\thandleEvent: function handleEvent(e) {},\n\t\t\ttransitionTime: function transitionTime(time) {\n\t\t\t\ttime = time || 0;\n\t\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\t\tif (this.scroller.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\n\t\t\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\t}\n\t\t\t},\n\t\t\ttransitionTimingFunction: function transitionTimingFunction(easing) {\n\t\t\t\tthis.indicatorStyle['webkitTransitionTimingFunction'] = easing;\n\t\t\t},\n\t\t\trefresh: function refresh() {\n\t\t\t\tthis.transitionTime();\n\t\n\t\t\t\tif (this.options.listenX && !this.options.listenY) {\n\t\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n\t\t\t\t} else if (this.options.listenY && !this.options.listenX) {\n\t\t\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t\t\t} else {\n\t\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t\t\t}\n\t\n\t\t\t\tthis.wrapper.offsetHeight;\n\t\n\t\t\t\tif (this.options.listenX) {\n\t\t\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;\n\t\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n\t\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';\n\t\n\t\t\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\t\n\t\t\t\t\tthis.minBoundaryX = 0;\n\t\t\t\t\tthis.maxBoundaryX = this.maxPosX;\n\t\n\t\t\t\t\tthis.sizeRatioX = this.options.speedRatioX || this.scroller.maxScrollX && this.maxPosX / this.scroller.maxScrollX;\n\t\t\t\t}\n\t\n\t\t\t\tif (this.options.listenY) {\n\t\t\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;\n\t\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n\t\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';\n\t\n\t\t\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\t\n\t\t\t\t\tthis.minBoundaryY = 0;\n\t\t\t\t\tthis.maxBoundaryY = this.maxPosY;\n\t\n\t\t\t\t\tthis.sizeRatioY = this.options.speedRatioY || this.scroller.maxScrollY && this.maxPosY / this.scroller.maxScrollY;\n\t\t\t\t}\n\t\n\t\t\t\tthis.updatePosition();\n\t\t\t},\n\t\n\t\t\tupdatePosition: function updatePosition() {\n\t\t\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n\t\t\t\t    y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\t\n\t\t\t\tif (x < this.minBoundaryX) {\n\t\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\t\tx = this.minBoundaryX;\n\t\t\t\t} else if (x > this.maxBoundaryX) {\n\t\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;\n\t\t\t\t} else if (this.width != this.indicatorWidth) {\n\t\t\t\t\tthis.width = this.indicatorWidth;\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\t}\n\t\n\t\t\t\tif (y < this.minBoundaryY) {\n\t\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\t\ty = this.minBoundaryY;\n\t\t\t\t} else if (y > this.maxBoundaryY) {\n\t\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;\n\t\t\t\t} else if (this.height != this.indicatorHeight) {\n\t\t\t\t\tthis.height = this.indicatorHeight;\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\t}\n\t\n\t\t\t\tthis.x = x;\n\t\t\t\tthis.y = y;\n\t\n\t\t\t\tthis.indicatorStyle['webkitTransform'] = this.scroller._getTranslateStr(x, y);\n\t\t\t},\n\t\t\tfade: function fade(val, hold) {\n\t\t\t\tif (hold && !this.visible) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tclearTimeout(this.fadeTimeout);\n\t\t\t\tthis.fadeTimeout = null;\n\t\n\t\t\t\tvar time = val ? 250 : 500,\n\t\t\t\t    delay = val ? 0 : 300;\n\t\n\t\t\t\tval = val ? '1' : '0';\n\t\n\t\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = time + 'ms';\n\t\n\t\t\t\tthis.fadeTimeout = setTimeout(function (val) {\n\t\t\t\t\tthis.wrapperStyle.opacity = val;\n\t\t\t\t\tthis.visible = +val;\n\t\t\t\t}.bind(this, val), delay);\n\t\t\t}\n\t\t};\n\t\n\t\t$.Scroll = Scroll;\n\t\n\t\t$.fn.scroll = function (options) {\n\t\t\tvar scrollApis = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar scrollApi = null;\n\t\t\t\tvar self = this;\n\t\t\t\tvar id = self.getAttribute('data-scroll');\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\tvar _options = $.extend({}, options);\n\t\t\t\t\tif (self.classList.contains('mui-segmented-control')) {\n\t\t\t\t\t\t_options = $.extend(_options, {\n\t\t\t\t\t\t\tscrollY: false,\n\t\t\t\t\t\t\tscrollX: true,\n\t\t\t\t\t\t\tindicators: false,\n\t\t\t\t\t\t\tsnap: '.mui-control-item'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$.data[id] = scrollApi = new Scroll(self, _options);\n\t\t\t\t\tself.setAttribute('data-scroll', id);\n\t\t\t\t} else {\n\t\t\t\t\tscrollApi = $.data[id];\n\t\t\t\t}\n\t\t\t\tscrollApis.push(scrollApi);\n\t\t\t});\n\t\t\treturn scrollApis.length === 1 ? scrollApis[0] : scrollApis;\n\t\t};\n\t})(mui, window, document);\n\t(function ($, window, document, undefined) {\n\t\n\t\tvar CLASS_VISIBILITY = 'mui-visibility';\n\t\tvar CLASS_HIDDEN = 'mui-hidden';\n\t\n\t\tvar PullRefresh = $.Scroll.extend($.extend({\n\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\tthis._super(e);\n\t\t\t\tif (e.type === 'scrollbottom') {\n\t\t\t\t\tif (e.target === this.scroller) {\n\t\t\t\t\t\tthis._scrollbottom();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t_scrollbottom: function _scrollbottom() {\n\t\t\t\tif (!this.pulldown && !this.loading) {\n\t\t\t\t\tthis.pulldown = false;\n\t\t\t\t\tthis._initPullupRefresh();\n\t\t\t\t\tthis.pullupLoading();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_start: function _start(e) {\n\t\t\t\tif (e.touches && e.touches.length && e.touches[0].clientX > 30) {\n\t\t\t\t\te.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n\t\t\t\t}\n\t\t\t\tif (!this.loading) {\n\t\t\t\t\tthis.pulldown = this.pullPocket = this.pullCaption = this.pullLoading = false;\n\t\t\t\t}\n\t\t\t\tthis._super(e);\n\t\t\t},\n\t\t\t_drag: function _drag(e) {\n\t\t\t\tthis._super(e);\n\t\t\t\tif (!this.pulldown && !this.loading && this.topPocket && e.detail.direction === 'down' && this.y >= 0) {\n\t\t\t\t\tthis._initPulldownRefresh();\n\t\t\t\t}\n\t\t\t\tif (this.pulldown) {\n\t\t\t\t\tthis._setCaption(this.y > this.options.down.height ? this.options.down.contentover : this.options.down.contentdown);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t_reLayout: function _reLayout() {\n\t\t\t\tthis.hasVerticalScroll = true;\n\t\t\t\tthis._super();\n\t\t\t},\n\t\n\t\t\tresetPosition: function resetPosition(time) {\n\t\t\t\tif (this.pulldown) {\n\t\t\t\t\tif (this.y >= this.options.down.height) {\n\t\t\t\t\t\tthis.pulldownLoading(undefined, time || 0);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t!this.loading && this.topPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this._super(time);\n\t\t\t},\n\t\t\tpulldownLoading: function pulldownLoading(y, time) {\n\t\t\t\ttypeof y === 'undefined' && (y = this.options.down.height);\n\t\t\t\tthis.scrollTo(0, y, time, this.options.bounceEasing);\n\t\t\t\tif (this.loading) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tthis._initPulldownRefresh();\n\t\n\t\t\t\tthis._setCaption(this.options.down.contentrefresh);\n\t\t\t\tthis.loading = true;\n\t\t\t\tthis.indicators.map(function (indicator) {\n\t\t\t\t\tindicator.fade(0);\n\t\t\t\t});\n\t\t\t\tvar callback = this.options.down.callback;\n\t\t\t\tcallback && callback.call(this);\n\t\t\t},\n\t\t\tendPulldownToRefresh: function endPulldownToRefresh() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.topPocket && self.loading && this.pulldown) {\n\t\t\t\t\tself.scrollTo(0, 0, self.options.bounceTime, self.options.bounceEasing);\n\t\t\t\t\tself.loading = false;\n\t\t\t\t\tself._setCaption(self.options.down.contentdown, true);\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tself.loading || self.topPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t\t}, 350);\n\t\t\t\t}\n\t\t\t},\n\t\t\tpullupLoading: function pullupLoading(callback, x, time) {\n\t\t\t\tx = x || 0;\n\t\t\t\tthis.scrollTo(x, this.maxScrollY, time, this.options.bounceEasing);\n\t\t\t\tif (this.loading) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._initPullupRefresh();\n\t\t\t\tthis._setCaption(this.options.up.contentrefresh);\n\t\t\t\tthis.indicators.map(function (indicator) {\n\t\t\t\t\tindicator.fade(0);\n\t\t\t\t});\n\t\t\t\tthis.loading = true;\n\t\t\t\tcallback = callback || this.options.up.callback;\n\t\t\t\tcallback && callback.call(this);\n\t\t\t},\n\t\t\tendPullupToRefresh: function endPullupToRefresh(finished) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.bottomPocket) {\n\t\t\t\t\tself.loading = false;\n\t\t\t\t\tif (finished) {\n\t\t\t\t\t\tthis.finished = true;\n\t\t\t\t\t\tself._setCaption(self.options.up.contentnomore);\n\t\n\t\t\t\t\t\tself.wrapper.removeEventListener('scrollbottom', self);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself._setCaption(self.options.up.contentdown);\n\t\n\t\t\t\t\t\tself.loading || self.bottomPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisablePullupToRefresh: function disablePullupToRefresh() {\n\t\t\t\tthis._initPullupRefresh();\n\t\t\t\tthis.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\n\t\t\t\tthis.wrapper.removeEventListener('scrollbottom', this);\n\t\t\t},\n\t\t\tenablePullupToRefresh: function enablePullupToRefresh() {\n\t\t\t\tthis._initPullupRefresh();\n\t\t\t\tthis.bottomPocket.classList.remove(CLASS_HIDDEN);\n\t\t\t\tthis._setCaption(this.options.up.contentdown);\n\t\t\t\tthis.wrapper.addEventListener('scrollbottom', this);\n\t\t\t},\n\t\t\trefresh: function refresh(isReset) {\n\t\t\t\tif (isReset && this.finished) {\n\t\t\t\t\tthis.enablePullupToRefresh();\n\t\t\t\t\tthis.finished = false;\n\t\t\t\t}\n\t\t\t\tthis._super();\n\t\t\t}\n\t\t}, $.PullRefresh));\n\t\t$.fn.pullRefresh = function (options) {\n\t\t\tif (this.length === 1) {\n\t\t\t\tvar self = this[0];\n\t\t\t\tvar pullRefreshApi = null;\n\t\t\t\toptions = options || {};\n\t\t\t\tvar id = self.getAttribute('data-pullrefresh');\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\t$.data[id] = pullRefreshApi = new PullRefresh(self, options);\n\t\t\t\t\tself.setAttribute('data-pullrefresh', id);\n\t\t\t\t} else {\n\t\t\t\t\tpullRefreshApi = $.data[id];\n\t\t\t\t}\n\t\t\t\tif (options.down && options.down.auto) {\n\t\t\t\t\tpullRefreshApi.pulldownLoading(options.down.autoY);\n\t\t\t\t} else if (options.up && options.up.auto) {\n\t\t\t\t\tpullRefreshApi.pullupLoading();\n\t\t\t\t}\n\t\n\t\t\t\treturn pullRefreshApi;\n\t\t\t}\n\t\t};\n\t})(mui, window, document);\n\t\n\t(function ($, window) {\n\t\tvar CLASS_SLIDER = 'mui-slider';\n\t\tvar CLASS_SLIDER_GROUP = 'mui-slider-group';\n\t\tvar CLASS_SLIDER_LOOP = 'mui-slider-loop';\n\t\tvar CLASS_SLIDER_INDICATOR = 'mui-slider-indicator';\n\t\tvar CLASS_ACTION_PREVIOUS = 'mui-action-previous';\n\t\tvar CLASS_ACTION_NEXT = 'mui-action-next';\n\t\tvar CLASS_SLIDER_ITEM = 'mui-slider-item';\n\t\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\n\t\tvar SELECTOR_SLIDER_ITEM = '.' + CLASS_SLIDER_ITEM;\n\t\tvar SELECTOR_SLIDER_INDICATOR = '.' + CLASS_SLIDER_INDICATOR;\n\t\tvar SELECTOR_SLIDER_PROGRESS_BAR = '.mui-slider-progress-bar';\n\t\n\t\tvar Slider = $.Slider = $.Scroll.extend({\n\t\t\tinit: function init(element, options) {\n\t\t\t\tthis._super(element, $.extend(true, {\n\t\t\t\t\tfingers: 1,\n\t\t\t\t\tinterval: 0,\n\t\t\t\t\tscrollY: false,\n\t\t\t\t\tscrollX: true,\n\t\t\t\t\tindicators: false,\n\t\t\t\t\tscrollTime: 1000,\n\t\t\t\t\tstartX: false,\n\t\t\t\t\tslideTime: 0,\n\t\t\t\t\tsnap: SELECTOR_SLIDER_ITEM\n\t\t\t\t}, options));\n\t\t\t\tif (this.options.startX) {}\n\t\t\t},\n\t\t\t_init: function _init() {\n\t\t\t\tthis._reInit();\n\t\t\t\tif (this.scroller) {\n\t\t\t\t\tthis.scrollerStyle = this.scroller.style;\n\t\t\t\t\tthis.progressBar = this.wrapper.querySelector(SELECTOR_SLIDER_PROGRESS_BAR);\n\t\t\t\t\tif (this.progressBar) {\n\t\t\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\n\t\t\t\t\t\tthis.progressBarStyle = this.progressBar.style;\n\t\t\t\t\t}\n\t\n\t\n\t\t\t\t\tthis._super();\n\t\t\t\t\tthis._initTimer();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_triggerSlide: function _triggerSlide() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.isInTransition = false;\n\t\t\t\tvar page = self.currentPage;\n\t\t\t\tself.slideNumber = self._fixedSlideNumber();\n\t\t\t\tif (self.loop) {\n\t\t\t\t\tif (self.slideNumber === 0) {\n\t\t\t\t\t\tself.setTranslate(self.pages[1][0].x, 0);\n\t\t\t\t\t} else if (self.slideNumber === self.itemLength - 3) {\n\t\t\t\t\t\tself.setTranslate(self.pages[self.itemLength - 2][0].x, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (self.lastSlideNumber != self.slideNumber) {\n\t\t\t\t\tself.lastSlideNumber = self.slideNumber;\n\t\t\t\t\tself.lastPage = self.currentPage;\n\t\t\t\t\t$.trigger(self.wrapper, 'slide', {\n\t\t\t\t\t\tslideNumber: self.slideNumber\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself._initTimer();\n\t\t\t},\n\t\t\t_handleSlide: function _handleSlide(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (e.target !== self.wrapper) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar detail = e.detail;\n\t\t\t\tdetail.slideNumber = detail.slideNumber || 0;\n\t\t\t\tvar temps = self.scroller.querySelectorAll(SELECTOR_SLIDER_ITEM);\n\t\t\t\tvar items = [];\n\t\t\t\tfor (var i = 0, len = temps.length; i < len; i++) {\n\t\t\t\t\tvar item = temps[i];\n\t\t\t\t\tif (item.parentNode === self.scroller) {\n\t\t\t\t\t\titems.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar _slideNumber = detail.slideNumber;\n\t\t\t\tif (self.loop) {\n\t\t\t\t\t_slideNumber += 1;\n\t\t\t\t}\n\t\t\t\tif (!self.wrapper.classList.contains('mui-segmented-control')) {\n\t\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\n\t\t\t\t\t\tvar item = items[i];\n\t\t\t\t\t\tif (item.parentNode === self.scroller) {\n\t\t\t\t\t\t\tif (i === _slideNumber) {\n\t\t\t\t\t\t\t\titem.classList.add(CLASS_ACTIVE);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\titem.classList.remove(CLASS_ACTIVE);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar indicatorWrap = self.wrapper.querySelector('.mui-slider-indicator');\n\t\t\t\tif (indicatorWrap) {\n\t\t\t\t\tif (indicatorWrap.getAttribute('data-scroll')) {\n\t\t\t\t\t\t$(indicatorWrap).scroll().gotoPage(detail.slideNumber);\n\t\t\t\t\t}\n\t\t\t\t\tvar indicators = indicatorWrap.querySelectorAll('.mui-indicator');\n\t\t\t\t\tif (indicators.length > 0) {\n\t\t\t\t\t\tfor (var i = 0, len = indicators.length; i < len; i++) {\n\t\t\t\t\t\t\tindicators[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar number = indicatorWrap.querySelector('.mui-number span');\n\t\t\t\t\t\tif (number) {\n\t\t\t\t\t\t\tnumber.innerText = detail.slideNumber + 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar controlItems = indicatorWrap.querySelectorAll('.mui-control-item');\n\t\t\t\t\t\t\tfor (var i = 0, len = controlItems.length; i < len; i++) {\n\t\t\t\t\t\t\t\tcontrolItems[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\t_handleTabShow: function _handleTabShow(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tself.gotoItem(e.detail.tabNumber || 0, self.options.slideTime);\n\t\t\t},\n\t\t\t_handleIndicatorTap: function _handleIndicatorTap(event) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar target = event.target;\n\t\t\t\tif (target.classList.contains(CLASS_ACTION_PREVIOUS) || target.classList.contains(CLASS_ACTION_NEXT)) {\n\t\t\t\t\tself[target.classList.contains(CLASS_ACTION_PREVIOUS) ? 'prevItem' : 'nextItem']();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_initEvent: function _initEvent(detach) {\n\t\t\t\tvar self = this;\n\t\t\t\tself._super(detach);\n\t\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\t\tself.wrapper[action]('slide', this);\n\t\t\t\tself.wrapper[action]($.eventName('shown', 'tab'), this);\n\t\t\t},\n\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\tthis._super(e);\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase 'slide':\n\t\t\t\t\t\tthis._handleSlide(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.eventName('shown', 'tab'):\n\t\t\t\t\t\tif (~this.snaps.indexOf(e.target)) {\n\t\t\t\t\t\t\tthis._handleTabShow(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_scrollend: function _scrollend(e) {\n\t\t\t\tthis._super(e);\n\t\t\t\tthis._triggerSlide(e);\n\t\t\t},\n\t\t\t_drag: function _drag(e) {\n\t\t\t\tthis._super(e);\n\t\t\t\tvar direction = e.detail.direction;\n\t\t\t\tif (direction === 'left' || direction === 'right') {\n\t\t\t\t\tvar slidershowTimer = this.wrapper.getAttribute('data-slidershowTimer');\n\t\t\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\n\t\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_initTimer: function _initTimer() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar slider = self.wrapper;\n\t\t\t\tvar interval = self.options.interval;\n\t\t\t\tvar slidershowTimer = slider.getAttribute('data-slidershowTimer');\n\t\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\n\t\t\t\tif (interval) {\n\t\t\t\t\tslidershowTimer = window.setTimeout(function () {\n\t\t\t\t\t\tif (!slider) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (!!(slider.offsetWidth || slider.offsetHeight)) {\n\t\t\t\t\t\t\tself.nextItem(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._initTimer();\n\t\t\t\t\t}, interval);\n\t\t\t\t\tslider.setAttribute('data-slidershowTimer', slidershowTimer);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t_fixedSlideNumber: function _fixedSlideNumber(page) {\n\t\t\t\tpage = page || this.currentPage;\n\t\t\t\tvar slideNumber = page.pageX;\n\t\t\t\tif (this.loop) {\n\t\t\t\t\tif (page.pageX === 0) {\n\t\t\t\t\t\tslideNumber = this.itemLength - 3;\n\t\t\t\t\t} else if (page.pageX === this.itemLength - 1) {\n\t\t\t\t\t\tslideNumber = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslideNumber = page.pageX - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn slideNumber;\n\t\t\t},\n\t\t\t_reLayout: function _reLayout() {\n\t\t\t\tthis.hasHorizontalScroll = true;\n\t\t\t\tthis.loop = this.scroller.classList.contains(CLASS_SLIDER_LOOP);\n\t\t\t\tthis._super();\n\t\t\t},\n\t\t\t_getScroll: function _getScroll() {\n\t\t\t\tvar result = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\n\t\t\t\treturn result ? result.x : 0;\n\t\t\t},\n\t\t\t_transitionEnd: function _transitionEnd(e) {\n\t\t\t\tif (e.target !== this.scroller || !this.isInTransition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._transitionTime();\n\t\t\t\tthis.isInTransition = false;\n\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t\t},\n\t\t\t_flick: function _flick(e) {\n\t\t\t\tif (!this.moved) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar detail = e.detail;\n\t\t\t\tvar direction = detail.direction;\n\t\t\t\tthis._clearRequestAnimationFrame();\n\t\t\t\tthis.isInTransition = true;\n\t\n\t\t\t\tif (e.type === 'flick') {\n\t\t\t\t\tif (detail.deltaTime < 200) {\n\t\t\t\t\t\tthis.x = this._getPage(this.slideNumber + (direction === 'right' ? -1 : 1), true).x;\n\t\t\t\t\t}\n\t\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t\t} else if (e.type === 'dragend' && !detail.flick) {\n\t\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\t_initSnap: function _initSnap() {\n\t\t\t\tthis.scrollerWidth = this.itemLength * this.scrollerWidth;\n\t\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\n\t\t\t\tthis._super();\n\t\t\t\tif (!this.currentPage.x) {\n\t\t\t\t\tvar currentPage = this.pages[this.loop ? 1 : 0];\n\t\t\t\t\tcurrentPage = currentPage || this.pages[0];\n\t\t\t\t\tif (!currentPage) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.currentPage = currentPage[0];\n\t\t\t\t\tthis.slideNumber = 0;\n\t\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? 0 : this.lastSlideNumber;\n\t\t\t\t} else {\n\t\t\t\t\tthis.slideNumber = this._fixedSlideNumber();\n\t\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? this.slideNumber : this.lastSlideNumber;\n\t\t\t\t}\n\t\t\t\tthis.options.startX = this.currentPage.x || 0;\n\t\t\t},\n\t\t\t_getSnapX: function _getSnapX(offsetLeft) {\n\t\t\t\treturn Math.max(-offsetLeft, this.maxScrollX);\n\t\t\t},\n\t\t\t_getPage: function _getPage(slideNumber, isFlick) {\n\t\t\t\tif (this.loop) {\n\t\t\t\t\tif (slideNumber > this.itemLength - (isFlick ? 2 : 3)) {\n\t\t\t\t\t\tslideNumber = 1;\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t} else if (slideNumber < (isFlick ? -1 : 0)) {\n\t\t\t\t\t\tslideNumber = this.itemLength - 2;\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslideNumber += 1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!isFlick) {\n\t\t\t\t\t\tif (slideNumber > this.itemLength - 1) {\n\t\t\t\t\t\t\tslideNumber = 0;\n\t\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t\t} else if (slideNumber < 0) {\n\t\t\t\t\t\t\tslideNumber = this.itemLength - 1;\n\t\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tslideNumber = Math.min(Math.max(0, slideNumber), this.itemLength - 1);\n\t\t\t\t}\n\t\t\t\treturn this.pages[slideNumber][0];\n\t\t\t},\n\t\t\t_gotoItem: function _gotoItem(slideNumber, time) {\n\t\t\t\tthis.currentPage = this._getPage(slideNumber, true);\n\t\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\n\t\t\t\tif (time === 0) {\n\t\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tsetTranslate: function setTranslate(x, y) {\n\t\t\t\tthis._super(x, y);\n\t\t\t\tvar progressBar = this.progressBar;\n\t\t\t\tif (progressBar) {\n\t\t\t\t\tthis.progressBarStyle.webkitTransform = this._getTranslateStr(-x * (this.progressBarWidth / this.wrapperWidth), 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tresetPosition: function resetPosition(time) {\n\t\t\t\ttime = time || 0;\n\t\t\t\tif (this.x > 0) {\n\t\t\t\t\tthis.x = 0;\n\t\t\t\t} else if (this.x < this.maxScrollX) {\n\t\t\t\t\tthis.x = this.maxScrollX;\n\t\t\t\t}\n\t\t\t\tthis.currentPage = this._nearestSnap(this.x);\n\t\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tgotoItem: function gotoItem(slideNumber, time) {\n\t\t\t\tthis._gotoItem(slideNumber, typeof time === 'undefined' ? this.options.scrollTime : time);\n\t\t\t},\n\t\t\tnextItem: function nextItem() {\n\t\t\t\tthis._gotoItem(this.slideNumber + 1, this.options.scrollTime);\n\t\t\t},\n\t\t\tprevItem: function prevItem() {\n\t\t\t\tthis._gotoItem(this.slideNumber - 1, this.options.scrollTime);\n\t\t\t},\n\t\t\tgetSlideNumber: function getSlideNumber() {\n\t\t\t\treturn this.slideNumber || 0;\n\t\t\t},\n\t\t\t_reInit: function _reInit() {\n\t\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SLIDER_GROUP);\n\t\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\n\t\t\t\t\tif (groups[i].parentNode === this.wrapper) {\n\t\t\t\t\t\tthis.scroller = groups[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\t\tif (this.progressBar) {\n\t\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\n\t\t\t\t\tthis.progressBarStyle = this.progressBar.style;\n\t\t\t\t}\n\t\t\t},\n\t\t\trefresh: function refresh(options) {\n\t\t\t\tif (options) {\n\t\t\t\t\t$.extend(this.options, options);\n\t\t\t\t\tthis._super();\n\t\t\t\t\tthis._initTimer();\n\t\t\t\t} else {\n\t\t\t\t\tthis._super();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdestroy: function destroy() {\n\t\t\t\tthis._initEvent(true);\n\t\t\t\tdelete $.data[this.wrapper.getAttribute('data-slider')];\n\t\t\t\tthis.wrapper.setAttribute('data-slider', '');\n\t\t\t}\n\t\t});\n\t\t$.fn.slider = function (options) {\n\t\t\tvar slider = null;\n\t\t\tthis.each(function () {\n\t\t\t\tvar sliderElement = this;\n\t\t\t\tif (!this.classList.contains(CLASS_SLIDER)) {\n\t\t\t\t\tsliderElement = this.querySelector('.' + CLASS_SLIDER);\n\t\t\t\t}\n\t\t\t\tif (sliderElement && sliderElement.querySelector(SELECTOR_SLIDER_ITEM)) {\n\t\t\t\t\tvar id = sliderElement.getAttribute('data-slider');\n\t\t\t\t\tif (!id) {\n\t\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\t\t$.data[id] = slider = new Slider(sliderElement, options);\n\t\t\t\t\t\tsliderElement.setAttribute('data-slider', id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslider = $.data[id];\n\t\t\t\t\t\tif (slider && options) {\n\t\t\t\t\t\t\tslider.refresh(options);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn slider;\n\t\t};\n\t\t$.ready(function () {\n\t\t\t$('.mui-slider').slider();\n\t\t\t$('.mui-scroll-wrapper.mui-slider-indicator.mui-segmented-control').scroll({\n\t\t\t\tscrollY: false,\n\t\t\t\tscrollX: true,\n\t\t\t\tindicators: false,\n\t\t\t\tsnap: '.mui-control-item'\n\t\t\t});\n\t\t});\n\t})(mui, window);\n\t\n\t(function ($, document) {\n\t\tif (!($.os.plus && $.os.android)) {\n\t\t\treturn;\n\t\t}\n\t\t$.plusReady(function () {\n\t\t\tif (window.__NWin_Enable__ === false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar CLASS_PLUS_PULLREFRESH = 'mui-plus-pullrefresh';\n\t\t\tvar CLASS_VISIBILITY = 'mui-visibility';\n\t\t\tvar CLASS_HIDDEN = 'mui-hidden';\n\t\t\tvar CLASS_BLOCK = 'mui-block';\n\t\n\t\t\tvar CLASS_PULL_CAPTION = 'mui-pull-caption';\n\t\t\tvar CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\n\t\t\tvar CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\n\t\t\tvar CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\n\t\n\t\t\tvar PlusPullRefresh = $.Class.extend({\n\t\t\t\tinit: function init(element, options) {\n\t\t\t\t\tthis.element = element;\n\t\t\t\t\tthis.options = options;\n\t\t\t\t\tthis.wrapper = this.scroller = element;\n\t\t\t\t\tthis._init();\n\t\t\t\t\tthis._initPulldownRefreshEvent();\n\t\t\t\t},\n\t\t\t\t_init: function _init() {\n\t\t\t\t\tvar self = this;\n\t\n\t\t\t\t\twindow.addEventListener('dragup', self);\n\t\t\t\t\tdocument.addEventListener(\"plusscrollbottom\", self);\n\t\t\t\t\tself.scrollInterval = window.setInterval(function () {\n\t\t\t\t\t\tif (self.isScroll && !self.loading) {\n\t\t\t\t\t\t\tif (window.pageYOffset + window.innerHeight + 10 >= document.documentElement.scrollHeight) {\n\t\t\t\t\t\t\t\tself.isScroll = false;\n\t\t\t\t\t\t\t\tif (self.bottomPocket) {\n\t\t\t\t\t\t\t\t\tself.pullupLoading();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 100);\n\t\t\t\t},\n\t\t\t\t_initPulldownRefreshEvent: function _initPulldownRefreshEvent() {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif (self.topPocket && self.options.webviewId) {\n\t\t\t\t\t\t$.plusReady(function () {\n\t\t\t\t\t\t\tvar webview = plus.webview.getWebviewById(self.options.webviewId);\n\t\t\t\t\t\t\tif (!webview) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.options.webview = webview;\n\t\t\t\t\t\t\tvar downOptions = self.options.down;\n\t\t\t\t\t\t\tvar height = downOptions.height;\n\t\t\t\t\t\t\twebview.addEventListener('close', function () {\n\t\t\t\t\t\t\t\tvar attrWebviewId = self.options.webviewId && self.options.webviewId.replace(/\\//g, \"_\");\n\t\t\t\t\t\t\t\tself.element.removeAttribute('data-pullrefresh-plus-' + attrWebviewId);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\twebview.addEventListener(\"dragBounce\", function (e) {\n\t\t\t\t\t\t\t\tif (!self.pulldown) {\n\t\t\t\t\t\t\t\t\tself._initPulldownRefresh();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tswitch (e.status) {\n\t\t\t\t\t\t\t\t\tcase \"beforeChangeOffset\":\n\t\t\t\t\t\t\t\t\t\tself._setCaption(downOptions.contentdown);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"afterChangeOffset\":\n\t\t\t\t\t\t\t\t\t\tself._setCaption(downOptions.contentover);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"dragEndAfterChangeOffset\":\n\t\t\t\t\t\t\t\t\t\twebview.evalJS(\"mui&&mui.options.pullRefresh.down.callback()\");\n\t\t\t\t\t\t\t\t\t\tself._setCaption(downOptions.contentrefresh);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t\twebview.setBounce({\n\t\t\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\t\t\ttop: height * 2 + 'px'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tchangeoffset: {\n\t\t\t\t\t\t\t\t\ttop: height + 'px'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif (self.stopped) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself.isScroll = false;\n\t\t\t\t\tif (e.type === 'dragup' || e.type === 'plusscrollbottom') {\n\t\t\t\t\t\tself.isScroll = true;\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tself.isScroll = false;\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).extend($.extend({\n\t\t\t\tsetStopped: function setStopped(stopped) {\n\t\t\t\t\tthis.stopped = !!stopped;\n\t\n\t\t\t\t\tvar webview = plus.webview.currentWebview();\n\t\t\t\t\tif (this.stopped) {\n\t\t\t\t\t\twebview.setStyle({\n\t\t\t\t\t\t\tbounce: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\twebview.setBounce({\n\t\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\t\ttop: 'none'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar height = this.options.down.height;\n\t\t\t\t\t\twebview.setStyle({\n\t\t\t\t\t\t\tbounce: 'vertical'\n\t\t\t\t\t\t});\n\t\t\t\t\t\twebview.setBounce({\n\t\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\t\ttop: height * 2 + 'px'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchangeoffset: {\n\t\t\t\t\t\t\t\ttop: height + 'px'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpulldownLoading: function pulldownLoading() {\n\t\t\t\t\t$.plusReady(function () {\n\t\t\t\t\t\tplus.webview.currentWebview().setBounce({\n\t\t\t\t\t\t\toffset: {\n\t\t\t\t\t\t\t\ttop: this.options.down.height + \"px\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}.bind(this));\n\t\t\t\t},\n\t\t\t\t_pulldownLoading: function _pulldownLoading() {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\t$.plusReady(function () {\n\t\t\t\t\t\tvar childWebview = plus.webview.getWebviewById(self.options.webviewId);\n\t\t\t\t\t\tchildWebview.setBounce({\n\t\t\t\t\t\t\toffset: {\n\t\t\t\t\t\t\t\ttop: self.options.down.height + \"px\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tendPulldownToRefresh: function endPulldownToRefresh() {\n\t\t\t\t\tvar webview = plus.webview.currentWebview();\n\t\t\t\t\twebview.parent().evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + (0, _stringify2.default)({\n\t\t\t\t\t\twebviewId: webview.id\n\t\t\t\t\t}) + \"')._endPulldownToRefresh()\");\n\t\t\t\t},\n\t\t\t\t_endPulldownToRefresh: function _endPulldownToRefresh() {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif (self.topPocket && self.options.webview) {\n\t\t\t\t\t\tself.options.webview.endPullToRefresh();\n\t\t\t\t\t\tself.loading = false;\n\t\t\t\t\t\tself._setCaption(self.options.down.contentdown, true);\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tself.loading || self.topPocket.classList.remove(CLASS_BLOCK);\n\t\t\t\t\t\t}, 350);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpullupLoading: function pullupLoading(callback) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif (self.isLoading) return;\n\t\t\t\t\tself.isLoading = true;\n\t\t\t\t\tif (self.pulldown !== false) {\n\t\t\t\t\t\tself._initPullupRefresh();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tself.pullLoading.classList.add(CLASS_VISIBILITY);\n\t\t\t\t\t\tself.pullLoading.classList.remove(CLASS_HIDDEN);\n\t\t\t\t\t\tself.pullCaption.innerHTML = '';\n\t\t\t\t\t\tself.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH;\n\t\t\t\t\t\tself.pullCaption.innerHTML = self.options.up.contentrefresh;\n\t\t\t\t\t\tcallback = callback || self.options.up.callback;\n\t\t\t\t\t\tcallback && callback.call(self);\n\t\t\t\t\t}, 300);\n\t\t\t\t},\n\t\t\t\tendPullupToRefresh: function endPullupToRefresh(finished) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif (self.pullLoading) {\n\t\t\t\t\t\tself.pullLoading.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t\t\tself.pullLoading.classList.add(CLASS_HIDDEN);\n\t\t\t\t\t\tself.isLoading = false;\n\t\t\t\t\t\tif (finished) {\n\t\t\t\t\t\t\tself.finished = true;\n\t\t\t\t\t\t\tself.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\n\t\t\t\t\t\t\tself.pullCaption.innerHTML = self.options.up.contentnomore;\n\t\n\t\t\t\t\t\t\tdocument.removeEventListener('plusscrollbottom', self);\n\t\t\t\t\t\t\twindow.removeEventListener('dragup', self);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n\t\t\t\t\t\t\tself.pullCaption.innerHTML = self.options.up.contentdown;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdisablePullupToRefresh: function disablePullupToRefresh() {\n\t\t\t\t\tthis._initPullupRefresh();\n\t\t\t\t\tthis.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\n\t\t\t\t\twindow.removeEventListener('dragup', this);\n\t\t\t\t},\n\t\t\t\tenablePullupToRefresh: function enablePullupToRefresh() {\n\t\t\t\t\tthis._initPullupRefresh();\n\t\t\t\t\tthis.bottomPocket.classList.remove(CLASS_HIDDEN);\n\t\t\t\t\tthis.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n\t\t\t\t\tthis.pullCaption.innerHTML = this.options.up.contentdown;\n\t\t\t\t\tdocument.addEventListener(\"plusscrollbottom\", this);\n\t\t\t\t\twindow.addEventListener('dragup', this);\n\t\t\t\t},\n\t\t\t\tscrollTo: function scrollTo(x, y, time) {\n\t\t\t\t\t$.scrollTo(y, time);\n\t\t\t\t},\n\t\t\t\tscrollToBottom: function scrollToBottom(time) {\n\t\t\t\t\t$.scrollTo(document.documentElement.scrollHeight, time);\n\t\t\t\t},\n\t\t\t\trefresh: function refresh(isReset) {\n\t\t\t\t\tif (isReset && this.finished) {\n\t\t\t\t\t\tthis.enablePullupToRefresh();\n\t\t\t\t\t\tthis.finished = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, $.PullRefresh));\n\t\n\t\t\t$.fn.pullRefresh = function (options) {\n\t\t\t\tvar self;\n\t\t\t\tif (this.length === 0) {\n\t\t\t\t\tself = document.createElement('div');\n\t\t\t\t\tself.className = 'mui-content';\n\t\t\t\t\tdocument.body.appendChild(self);\n\t\t\t\t} else {\n\t\t\t\t\tself = this[0];\n\t\t\t\t}\n\t\t\t\tvar args = options;\n\t\n\t\t\t\toptions = options || {};\n\t\t\t\tif (typeof options === 'string') {\n\t\t\t\t\toptions = $.parseJSON(options);\n\t\t\t\t};\n\t\t\t\t!options.webviewId && (options.webviewId = plus.webview.currentWebview().id || plus.webview.currentWebview().getURL());\n\t\t\t\tvar pullRefreshApi = null;\n\t\t\t\tvar attrWebviewId = options.webviewId && options.webviewId.replace(/\\//g, \"_\");\n\t\t\t\tvar id = self.getAttribute('data-pullrefresh-plus-' + attrWebviewId);\n\t\t\t\tif (!id && typeof args === 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\tself.setAttribute('data-pullrefresh-plus-' + attrWebviewId, id);\n\t\t\t\t\tdocument.body.classList.add(CLASS_PLUS_PULLREFRESH);\n\t\t\t\t\t$.data[id] = pullRefreshApi = new PlusPullRefresh(self, options);\n\t\t\t\t} else {\n\t\t\t\t\tpullRefreshApi = $.data[id];\n\t\t\t\t}\n\t\t\t\tif (options.down && options.down.auto) {\n\t\t\t\t\tpullRefreshApi._pulldownLoading();\n\t\t\t\t} else if (options.up && options.up.auto) {\n\t\t\t\t\tpullRefreshApi.pullupLoading();\n\t\t\t\t}\n\t\t\t\treturn pullRefreshApi;\n\t\t\t};\n\t\t});\n\t})(mui, document);\n\t\n\t(function ($, window, document, name) {\n\t\tvar CLASS_OFF_CANVAS_LEFT = 'mui-off-canvas-left';\n\t\tvar CLASS_OFF_CANVAS_RIGHT = 'mui-off-canvas-right';\n\t\tvar CLASS_ACTION_BACKDROP = 'mui-off-canvas-backdrop';\n\t\tvar CLASS_OFF_CANVAS_WRAP = 'mui-off-canvas-wrap';\n\t\n\t\tvar CLASS_SLIDE_IN = 'mui-slide-in';\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\n\t\tvar CLASS_TRANSITIONING = 'mui-transitioning';\n\t\n\t\tvar SELECTOR_INNER_WRAP = '.mui-inner-wrap';\n\t\n\t\tvar OffCanvas = $.Class.extend({\n\t\t\tinit: function init(element, options) {\n\t\t\t\tthis.wrapper = this.element = element;\n\t\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\t\tthis.classList = this.wrapper.classList;\n\t\t\t\tif (this.scroller) {\n\t\t\t\t\tthis.options = $.extend(true, {\n\t\t\t\t\t\tdragThresholdX: 10,\n\t\t\t\t\t\tscale: 0.8,\n\t\t\t\t\t\topacity: 0.1,\n\t\t\t\t\t\tpreventDefaultException: {\n\t\t\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\n\t\t\t\t\t\t}\n\t\t\t\t\t}, options);\n\t\t\t\t\tdocument.body.classList.add('mui-fullscreen');\n\t\t\t\t\tthis.refresh();\n\t\t\t\t\tthis.initEvent();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_preventDefaultException: function _preventDefaultException(el, exceptions) {\n\t\t\t\tfor (var i in exceptions) {\n\t\t\t\t\tif (exceptions[i].test(el[i])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\trefresh: function refresh(offCanvas) {\n\t\t\t\tthis.slideIn = this.classList.contains(CLASS_SLIDE_IN);\n\t\t\t\tthis.scalable = this.classList.contains('mui-scalable') && !this.slideIn;\n\t\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\n\t\t\t\tthis.offCanvasLefts = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_LEFT);\n\t\t\t\tthis.offCanvasRights = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_RIGHT);\n\t\t\t\tif (offCanvas) {\n\t\t\t\t\tif (offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\n\t\t\t\t\t\tthis.offCanvasLeft = offCanvas;\n\t\t\t\t\t} else if (offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\n\t\t\t\t\t\tthis.offCanvasRight = offCanvas;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.offCanvasRight = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT);\n\t\t\t\t\tthis.offCanvasLeft = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT);\n\t\t\t\t}\n\t\t\t\tthis.offCanvasRightWidth = this.offCanvasLeftWidth = 0;\n\t\t\t\tthis.offCanvasLeftSlideIn = this.offCanvasRightSlideIn = false;\n\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\tthis.offCanvasRightWidth = this.offCanvasRight.offsetWidth;\n\t\t\t\t\tthis.offCanvasRightSlideIn = this.slideIn && this.offCanvasRight.parentNode === this.wrapper;\n\t\t\t\t}\n\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\tthis.offCanvasLeftWidth = this.offCanvasLeft.offsetWidth;\n\t\t\t\t\tthis.offCanvasLeftSlideIn = this.slideIn && this.offCanvasLeft.parentNode === this.wrapper;\n\t\t\t\t}\n\t\t\t\tthis.backdrop = this.scroller.querySelector('.' + CLASS_ACTION_BACKDROP);\n\t\n\t\t\t\tthis.options.dragThresholdX = this.options.dragThresholdX || 10;\n\t\n\t\t\t\tthis.visible = false;\n\t\t\t\tthis.startX = null;\n\t\t\t\tthis.lastX = null;\n\t\t\t\tthis.offsetX = null;\n\t\t\t\tthis.lastTranslateX = null;\n\t\t\t},\n\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\t\te.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'webkitTransitionEnd':\n\t\t\t\t\t\tif (e.target === this.scroller) {\n\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'drag':\n\t\t\t\t\t\tvar detail = e.detail;\n\t\t\t\t\t\tif (!this.startX) {\n\t\t\t\t\t\t\tthis.startX = detail.center.x;\n\t\t\t\t\t\t\tthis.lastX = this.startX;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.lastX = detail.center.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!this.isDragging && Math.abs(this.lastX - this.startX) > this.options.dragThresholdX && (detail.direction === 'left' || detail.direction === 'right')) {\n\t\t\t\t\t\t\tif (this.slideIn) {\n\t\t\t\t\t\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\t\tif (this.offCanvasRight && this.offCanvasRight.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (detail.direction === 'left' && this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t\t} else if (detail.direction === 'right' && this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.scroller = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\t\tif (detail.direction === 'left') {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (detail.direction === 'right') {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.offCanvas && this.scroller) {\n\t\t\t\t\t\t\t\tthis.startX = this.lastX;\n\t\t\t\t\t\t\t\tthis.isDragging = true;\n\t\n\t\t\t\t\t\t\t\t$.gestures.session.lockDirection = true;\n\t\t\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\n\t\t\t\t\t\t\t\tthis.offCanvas.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\t\tthis.scroller.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\t\tthis.offsetX = this.getTranslateX();\n\t\t\t\t\t\t\t\tthis._initOffCanvasVisible();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.isDragging) {\n\t\t\t\t\t\t\tthis.updateTranslate(this.offsetX + (this.lastX - this.startX));\n\t\t\t\t\t\t\tdetail.gesture.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'dragend':\n\t\t\t\t\t\tif (this.isDragging) {\n\t\t\t\t\t\t\tvar detail = e.detail;\n\t\t\t\t\t\t\tvar direction = detail.direction;\n\t\t\t\t\t\t\tthis.isDragging = false;\n\t\t\t\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\tvar ratio = 0;\n\t\t\t\t\t\t\tvar x = this.getTranslateX();\n\t\t\t\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\t\t\tratio = this.offCanvasLeftWidth && x / this.offCanvasLeftWidth || 0;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tratio = this.offCanvasRightWidth && x / this.offCanvasRightWidth || 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (ratio === 0) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (direction === 'right' && ratio >= 0 && (ratio >= 0.5 || detail.swipe)) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0 && (ratio > -0.5 || detail.swipe)) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio < 0.5) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0.5) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t\t} else if (direction === 'left' && ratio <= 0 && (ratio <= -0.5 || detail.swipe)) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0 && (ratio <= 0.5 || detail.swipe)) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && ratio >= -0.5) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0.5) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1) {\n\t\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\t\t\tratio = this.offCanvasRightWidth && x / this.offCanvasRightWidth || 0;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tratio = this.offCanvasLeftWidth && x / this.offCanvasLeftWidth || 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (direction === 'right' && ratio <= 0 && (ratio >= -0.5 || detail.swipe)) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && (ratio >= 0.5 || detail.swipe)) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t} else if (direction === 'right' && ratio <= -0.5) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio <= 0.5) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0 && (ratio <= 0.5 || detail.swipe)) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && (ratio <= -0.5 || detail.swipe)) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0.5) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= -0.5 && ratio < 0) {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1 || ratio === 0) {\n\t\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_dispatchEvent: function _dispatchEvent() {\n\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t$.trigger(this.wrapper, 'shown', this);\n\t\t\t\t} else {\n\t\t\t\t\t$.trigger(this.wrapper, 'hidden', this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_initOffCanvasVisible: function _initOffCanvasVisible() {\n\t\t\t\tif (!this.visible) {\n\t\t\t\t\tthis.visible = true;\n\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\tthis.offCanvasLeft.style.visibility = 'visible';\n\t\t\t\t\t}\n\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\tthis.offCanvasRight.style.visibility = 'visible';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tinitEvent: function initEvent() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.backdrop) {\n\t\t\t\t\tself.backdrop.addEventListener('tap', function (e) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t\te.detail.gesture.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.classList.contains('mui-draggable')) {\n\t\t\t\t\tthis.wrapper.addEventListener($.EVENT_START, this);\n\t\t\t\t\tthis.wrapper.addEventListener('drag', this);\n\t\t\t\t\tthis.wrapper.addEventListener('dragend', this);\n\t\t\t\t}\n\t\t\t\tthis.wrapper.addEventListener('webkitTransitionEnd', this);\n\t\t\t},\n\t\t\topenPercentage: function openPercentage(percentage) {\n\t\t\t\tvar p = percentage / 100;\n\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\n\t\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\n\t\t\t\t\t\tthis.offCanvasLeft.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\n\t\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\n\t\t\t\t\t\tthis.offCanvasRight.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t\tthis.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t} else {\n\t\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\n\t\t\t\t\t\tp = p === 0 ? -1 : 0;\n\t\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\n\t\t\t\t\t\tthis.offCanvasLeft.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\n\t\t\t\t\t\tp = p === 0 ? 1 : 0;\n\t\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\n\t\t\t\t\t\tthis.offCanvasRight.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t\tthis.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdateTranslate: function updateTranslate(x) {\n\t\t\t\tif (x !== this.lastTranslateX) {\n\t\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\t\tif (!this.offCanvasLeft && x > 0 || !this.offCanvasRight && x < 0) {\n\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.leftShowing && x > this.offCanvasLeftWidth) {\n\t\t\t\t\t\t\tthis.setTranslateX(this.offCanvasLeftWidth);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.rightShowing && x < -this.offCanvasRightWidth) {\n\t\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasRightWidth);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setTranslateX(x);\n\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\tthis.leftShowing = true;\n\t\t\t\t\t\t\tthis.rightShowing = false;\n\t\t\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\t$.each(this.offCanvasLefts, function (index, offCanvas) {\n\t\t\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = 0;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\tthis.offCanvasRight.style.zIndex = -1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.rightShowing = true;\n\t\t\t\t\t\t\tthis.leftShowing = false;\n\t\t\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\t\t\t$.each(this.offCanvasRights, function (index, offCanvas) {\n\t\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = 0;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\n\t\t\t\t\t\t\tif (x < 0) {\n\t\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (x > this.offCanvasRightWidth) {\n\t\t\t\t\t\t\t\tthis.setTranslateX(this.offCanvasRightWidth);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (x < -this.offCanvasLeftWidth) {\n\t\t\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasLeftWidth);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setTranslateX(x);\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastTranslateX = x;\n\t\t\t\t}\n\t\t\t},\n\t\t\tsetTranslateX: $.animationFrame(function (x) {\n\t\t\t\tif (this.scroller) {\n\t\t\t\t\tif (this.scalable && this.offCanvas.parentNode === this.wrapper) {\n\t\t\t\t\t\tvar percent = Math.abs(x) / this.offCanvasWidth;\n\t\t\t\t\t\tvar zoomOutScale = 1 - (1 - this.options.scale) * percent;\n\t\t\t\t\t\tvar zoomInScale = this.options.scale + (1 - this.options.scale) * percent;\n\t\t\t\t\t\tvar zoomOutOpacity = 1 - (1 - this.options.opacity) * percent;\n\t\t\t\t\t\tvar zoomInOpacity = this.options.opacity + (1 - this.options.opacity) * percent;\n\t\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\n\t\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '-100%';\n\t\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '200%';\n\t\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'right';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.offCanvas.style.opacity = zoomInOpacity;\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(0,0,0) scale(' + zoomInScale + ')';\n\t\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0) scale(' + zoomOutScale + ')';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.slideIn) {\n\t\t\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgetTranslateX: function getTranslateX() {\n\t\t\t\tif (this.offCanvas) {\n\t\t\t\t\tvar scroller = this.slideIn ? this.offCanvas : this.scroller;\n\t\t\t\t\tvar result = $.parseTranslateMatrix($.getStyles(scroller, 'webkitTransform'));\n\t\t\t\t\treturn result && result.x || 0;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t},\n\t\t\tisShown: function isShown(direction) {\n\t\t\t\tvar shown = false;\n\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\tvar x = this.getTranslateX();\n\t\t\t\t\tif (direction === 'right') {\n\t\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x < 0;\n\t\t\t\t\t} else if (direction === 'left') {\n\t\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x > 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x !== 0;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (direction === 'left') {\n\t\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\n\t\t\t\t\t} else if (direction === 'right') {\n\t\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && (this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn shown;\n\t\t\t},\n\t\t\tclose: function close() {\n\t\t\t\tthis._initOffCanvasVisible();\n\t\t\t\tthis.offCanvas = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\n\t\t\t\tthis.offCanvasWidth = this.offCanvas.offsetWidth;\n\t\t\t\tif (this.scroller) {\n\t\t\t\t\tthis.offCanvas.offsetHeight;\n\t\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tshow: function show(direction) {\n\t\t\t\tthis._initOffCanvasVisible();\n\t\t\t\tif (this.isShown(direction)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!direction) {\n\t\t\t\t\tdirection = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT) ? 'right' : 'left';\n\t\t\t\t}\n\t\t\t\tif (direction === 'right') {\n\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t} else {\n\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t}\n\t\t\t\tif (this.scroller) {\n\t\t\t\t\tthis.offCanvas.offsetHeight;\n\t\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\tthis.openPercentage(direction === 'left' ? 100 : -100);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\ttoggle: function toggle(directionOrOffCanvas) {\n\t\t\t\tvar direction = directionOrOffCanvas;\n\t\t\t\tif (directionOrOffCanvas && directionOrOffCanvas.classList) {\n\t\t\t\t\tdirection = directionOrOffCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT) ? 'left' : 'right';\n\t\t\t\t\tthis.refresh(directionOrOffCanvas);\n\t\t\t\t}\n\t\t\t\tif (!this.show(direction)) {\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tvar findOffCanvasContainer = function findOffCanvasContainer(target) {\n\t\t\tparentNode = target.parentNode;\n\t\t\tif (parentNode) {\n\t\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\t\treturn parentNode;\n\t\t\t\t} else {\n\t\t\t\t\tparentNode = parentNode.parentNode;\n\t\t\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\t\t\treturn parentNode;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar handle = function handle(event, target) {\n\t\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\t\tvar offcanvas = document.getElementById(target.hash.replace('#', ''));\n\t\t\t\tif (offcanvas) {\n\t\t\t\t\tvar container = findOffCanvasContainer(offcanvas);\n\t\t\t\t\tif (container) {\n\t\t\t\t\t\t$.targets._container = container;\n\t\t\t\t\t\treturn offcanvas;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\t$.registerTarget({\n\t\t\tname: name,\n\t\t\tindex: 60,\n\t\t\thandle: handle,\n\t\t\ttarget: false,\n\t\t\tisReset: false,\n\t\t\tisContinue: true\n\t\t});\n\t\n\t\twindow.addEventListener('tap', function (e) {\n\t\t\tif (!$.targets.offcanvas) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar target = e.target;\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tif (target.tagName === 'A' && target.hash && target.hash === '#' + $.targets.offcanvas.id) {\n\t\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault();\n\t\t\t\t\t$($.targets._container).offCanvas().toggle($.targets.offcanvas);\n\t\t\t\t\t$.targets.offcanvas = $.targets._container = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t$.fn.offCanvas = function (options) {\n\t\t\tvar offCanvasApis = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar offCanvasApi = null;\n\t\t\t\tvar self = this;\n\t\n\t\t\t\tif (!self.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\t\tself = findOffCanvasContainer(self);\n\t\t\t\t}\n\t\t\t\tvar id = self.getAttribute('data-offCanvas');\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\t$.data[id] = offCanvasApi = new OffCanvas(self, options);\n\t\t\t\t\tself.setAttribute('data-offCanvas', id);\n\t\t\t\t} else {\n\t\t\t\t\toffCanvasApi = $.data[id];\n\t\t\t\t}\n\t\t\t\tif (options === 'show' || options === 'close' || options === 'toggle') {\n\t\t\t\t\toffCanvasApi.toggle();\n\t\t\t\t}\n\t\t\t\toffCanvasApis.push(offCanvasApi);\n\t\t\t});\n\t\t\treturn offCanvasApis.length === 1 ? offCanvasApis[0] : offCanvasApis;\n\t\t};\n\t\t$.ready(function () {\n\t\t\t$('.mui-off-canvas-wrap').offCanvas();\n\t\t});\n\t})(mui, window, document, 'offcanvas');\n\t\n\t(function ($, name) {\n\t\tvar CLASS_ACTION = 'mui-action';\n\t\n\t\tvar handle = function handle(event, target) {\n\t\t\tvar className = target.className || '';\n\t\t\tif (typeof className !== 'string') {\n\t\t\t\tclassName = '';\n\t\t\t}\n\t\t\tif (className && ~className.indexOf(CLASS_ACTION)) {\n\t\t\t\tif (target.classList.contains('mui-action-back')) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\treturn target;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\t$.registerTarget({\n\t\t\tname: name,\n\t\t\tindex: 50,\n\t\t\thandle: handle,\n\t\t\ttarget: false,\n\t\t\tisContinue: true\n\t\t});\n\t})(mui, 'action');\n\t\n\t(function ($, window, document, name) {\n\t\tvar CLASS_MODAL = 'mui-modal';\n\t\n\t\tvar handle = function handle(event, target) {\n\t\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\t\tvar modal = document.getElementById(target.hash.replace('#', ''));\n\t\t\t\tif (modal && modal.classList.contains(CLASS_MODAL)) {\n\t\t\t\t\treturn modal;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\t$.registerTarget({\n\t\t\tname: name,\n\t\t\tindex: 50,\n\t\t\thandle: handle,\n\t\t\ttarget: false,\n\t\t\tisReset: false,\n\t\t\tisContinue: true\n\t\t});\n\t\n\t\twindow.addEventListener('tap', function (event) {\n\t\t\tif ($.targets.modal) {\n\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t\t$.targets.modal.classList.toggle('mui-active');\n\t\t\t}\n\t\t});\n\t})(mui, window, document, 'modal');\n\t\n\t(function ($, window, document, name) {\n\t\n\t\tvar CLASS_POPOVER = 'mui-popover';\n\t\tvar CLASS_POPOVER_ARROW = 'mui-popover-arrow';\n\t\tvar CLASS_ACTION_POPOVER = 'mui-popover-action';\n\t\tvar CLASS_BACKDROP = 'mui-backdrop';\n\t\tvar CLASS_BAR_POPOVER = 'mui-bar-popover';\n\t\tvar CLASS_BAR_BACKDROP = 'mui-bar-backdrop';\n\t\tvar CLASS_ACTION_BACKDROP = 'mui-backdrop-action';\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\tvar CLASS_BOTTOM = 'mui-bottom';\n\t\n\t\tvar handle = function handle(event, target) {\n\t\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\t\t$.targets._popover = document.getElementById(target.hash.replace('#', ''));\n\t\t\t\tif ($.targets._popover && $.targets._popover.classList.contains(CLASS_POPOVER)) {\n\t\t\t\t\treturn target;\n\t\t\t\t} else {\n\t\t\t\t\t$.targets._popover = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\t$.registerTarget({\n\t\t\tname: name,\n\t\t\tindex: 60,\n\t\t\thandle: handle,\n\t\t\ttarget: false,\n\t\t\tisReset: false,\n\t\t\tisContinue: true\n\t\t});\n\t\n\t\tvar onPopoverShown = function onPopoverShown(e) {\n\t\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverShown);\n\t\t\tthis.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t\t$.trigger(this, 'shown', this);\n\t\t};\n\t\tvar onPopoverHidden = function onPopoverHidden(e) {\n\t\t\tsetStyle(this, 'none');\n\t\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\tthis.removeEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t\t$.trigger(this, 'hidden', this);\n\t\t};\n\t\n\t\tvar backdrop = function () {\n\t\t\tvar element = document.createElement('div');\n\t\t\telement.classList.add(CLASS_BACKDROP);\n\t\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t\telement.addEventListener('tap', function (e) {\n\t\t\t\tvar popover = $.targets._popover;\n\t\t\t\tif (popover) {\n\t\t\t\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t\t\tpopover.classList.remove(CLASS_ACTIVE);\n\t\t\t\t\tremoveBackdrop(popover);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\treturn element;\n\t\t}();\n\t\tvar removeBackdropTimer;\n\t\tvar removeBackdrop = function removeBackdrop(popover) {\n\t\t\tbackdrop.setAttribute('style', 'opacity:0');\n\t\t\t$.targets.popover = $.targets._popover = null;\n\t\t\tremoveBackdropTimer = $.later(function () {\n\t\t\t\tif (!popover.classList.contains(CLASS_ACTIVE) && backdrop.parentNode && backdrop.parentNode === document.body) {\n\t\t\t\t\tdocument.body.removeChild(backdrop);\n\t\t\t\t}\n\t\t\t}, 350);\n\t\t};\n\t\twindow.addEventListener('tap', function (e) {\n\t\t\tif (!$.targets.popover) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar toggle = false;\n\t\t\tvar target = e.target;\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tif (target === $.targets.popover) {\n\t\t\t\t\ttoggle = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (toggle) {\n\t\t\t\te.detail.gesture.preventDefault();\n\t\t\t\ttogglePopover($.targets._popover, $.targets.popover);\n\t\t\t}\n\t\t});\n\t\n\t\tvar togglePopover = function togglePopover(popover, anchor, state) {\n\t\t\tif (state === 'show' && popover.classList.contains(CLASS_ACTIVE) || state === 'hide' && !popover.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tremoveBackdropTimer && removeBackdropTimer.cancel();\n\t\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverShown);\n\t\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\tbackdrop.classList.remove(CLASS_BAR_BACKDROP);\n\t\t\tbackdrop.classList.remove(CLASS_ACTION_BACKDROP);\n\t\t\tvar _popover = document.querySelector('.mui-popover.mui-active');\n\t\t\tif (_popover) {\n\t\t\t\t_popover.addEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t\t_popover.classList.remove(CLASS_ACTIVE);\n\t\n\t\t\t\tif (popover === _popover) {\n\t\t\t\t\tremoveBackdrop(_popover);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isActionSheet = false;\n\t\t\tif (popover.classList.contains(CLASS_BAR_POPOVER) || popover.classList.contains(CLASS_ACTION_POPOVER)) {\n\t\t\t\tif (popover.classList.contains(CLASS_ACTION_POPOVER)) {\n\t\t\t\t\tisActionSheet = true;\n\t\t\t\t\tbackdrop.classList.add(CLASS_ACTION_BACKDROP);\n\t\t\t\t} else {\n\t\t\t\t\tbackdrop.classList.add(CLASS_BAR_BACKDROP);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetStyle(popover, 'block');\n\t\t\tpopover.offsetHeight;\n\t\t\tpopover.classList.add(CLASS_ACTIVE);\n\t\t\tbackdrop.setAttribute('style', '');\n\t\t\tdocument.body.appendChild(backdrop);\n\t\t\tcalPosition(popover, anchor, isActionSheet);\n\t\t\tbackdrop.classList.add(CLASS_ACTIVE);\n\t\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverShown);\n\t\t};\n\t\tvar setStyle = function setStyle(popover, display, top, left) {\n\t\t\tvar style = popover.style;\n\t\t\tif (typeof display !== 'undefined') style.display = display;\n\t\t\tif (typeof top !== 'undefined') style.top = top + 'px';\n\t\t\tif (typeof left !== 'undefined') style.left = left + 'px';\n\t\t};\n\t\tvar calPosition = function calPosition(popover, anchor, isActionSheet) {\n\t\t\tif (!popover || !anchor) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (isActionSheet) {\n\t\t\t\tsetStyle(popover, 'block');\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar wWidth = window.innerWidth;\n\t\t\tvar wHeight = window.innerHeight;\n\t\n\t\t\tvar pWidth = popover.offsetWidth;\n\t\t\tvar pHeight = popover.offsetHeight;\n\t\n\t\t\tvar aWidth = anchor.offsetWidth;\n\t\t\tvar aHeight = anchor.offsetHeight;\n\t\t\tvar offset = $.offset(anchor);\n\t\n\t\t\tvar arrow = popover.querySelector('.' + CLASS_POPOVER_ARROW);\n\t\t\tif (!arrow) {\n\t\t\t\tarrow = document.createElement('div');\n\t\t\t\tarrow.className = CLASS_POPOVER_ARROW;\n\t\t\t\tpopover.appendChild(arrow);\n\t\t\t}\n\t\t\tvar arrowSize = arrow && arrow.offsetWidth / 2 || 0;\n\t\n\t\t\tvar pTop = 0;\n\t\t\tvar pLeft = 0;\n\t\t\tvar diff = 0;\n\t\t\tvar arrowLeft = 0;\n\t\t\tvar defaultPadding = popover.classList.contains(CLASS_ACTION_POPOVER) ? 0 : 5;\n\t\n\t\t\tvar position = 'top';\n\t\t\tif (pHeight + arrowSize < offset.top - window.pageYOffset) {\n\t\t\t\tpTop = offset.top - pHeight - arrowSize;\n\t\t\t} else if (pHeight + arrowSize < wHeight - (offset.top - window.pageYOffset) - aHeight) {\n\t\t\t\tposition = 'bottom';\n\t\t\t\tpTop = offset.top + aHeight + arrowSize;\n\t\t\t} else {\n\t\t\t\tposition = 'middle';\n\t\t\t\tpTop = Math.max((wHeight - pHeight) / 2 + window.pageYOffset, 0);\n\t\t\t\tpLeft = Math.max((wWidth - pWidth) / 2 + window.pageXOffset, 0);\n\t\t\t}\n\t\t\tif (position === 'top' || position === 'bottom') {\n\t\t\t\tpLeft = aWidth / 2 + offset.left - pWidth / 2;\n\t\t\t\tdiff = pLeft;\n\t\t\t\tif (pLeft < defaultPadding) pLeft = defaultPadding;\n\t\t\t\tif (pLeft + pWidth > wWidth) pLeft = wWidth - pWidth - defaultPadding;\n\t\n\t\t\t\tif (arrow) {\n\t\t\t\t\tif (position === 'top') {\n\t\t\t\t\t\tarrow.classList.add(CLASS_BOTTOM);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarrow.classList.remove(CLASS_BOTTOM);\n\t\t\t\t\t}\n\t\t\t\t\tdiff = diff - pLeft;\n\t\t\t\t\tarrowLeft = pWidth / 2 - arrowSize / 2 + diff;\n\t\t\t\t\tarrowLeft = Math.max(Math.min(arrowLeft, pWidth - arrowSize * 2 - 6), 6);\n\t\t\t\t\tarrow.setAttribute('style', 'left:' + arrowLeft + 'px');\n\t\t\t\t}\n\t\t\t} else if (position === 'middle') {\n\t\t\t\tarrow.setAttribute('style', 'display:none');\n\t\t\t}\n\t\t\tsetStyle(popover, 'block', pTop, pLeft);\n\t\t};\n\t\n\t\t$.createMask = function (callback) {\n\t\t\tvar element = document.createElement('div');\n\t\t\telement.classList.add(CLASS_BACKDROP);\n\t\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t\telement.addEventListener('tap', function () {\n\t\t\t\tmask.close();\n\t\t\t});\n\t\t\tvar mask = [element];\n\t\t\tmask._show = false;\n\t\t\tmask.show = function () {\n\t\t\t\tmask._show = true;\n\t\t\t\telement.setAttribute('style', 'opacity:1');\n\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\treturn mask;\n\t\t\t};\n\t\t\tmask._remove = function () {\n\t\t\t\tif (mask._show) {\n\t\t\t\t\tmask._show = false;\n\t\t\t\t\telement.setAttribute('style', 'opacity:0');\n\t\t\t\t\t$.later(function () {\n\t\t\t\t\t\tvar body = document.body;\n\t\t\t\t\t\telement.parentNode === body && body.removeChild(element);\n\t\t\t\t\t}, 350);\n\t\t\t\t}\n\t\t\t\treturn mask;\n\t\t\t};\n\t\t\tmask.close = function () {\n\t\t\t\tif (callback) {\n\t\t\t\t\tif (callback() !== false) {\n\t\t\t\t\t\tmask._remove();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmask._remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn mask;\n\t\t};\n\t\t$.fn.popover = function () {\n\t\t\tvar args = arguments;\n\t\t\tthis.each(function () {\n\t\t\t\t$.targets._popover = this;\n\t\t\t\tif (args[0] === 'show' || args[0] === 'hide' || args[0] === 'toggle') {\n\t\t\t\t\ttogglePopover(this, args[1], args[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t})(mui, window, document, 'popover');\n\t\n\t(function ($, window, document, name, undefined) {\n\t\n\t\tvar CLASS_CONTROL_ITEM = 'mui-control-item';\n\t\tvar CLASS_SEGMENTED_CONTROL = 'mui-segmented-control';\n\t\tvar CLASS_SEGMENTED_CONTROL_VERTICAL = 'mui-segmented-control-vertical';\n\t\tvar CLASS_CONTROL_CONTENT = 'mui-control-content';\n\t\tvar CLASS_TAB_BAR = 'mui-bar-tab';\n\t\tvar CLASS_TAB_ITEM = 'mui-tab-item';\n\t\tvar CLASS_SLIDER_ITEM = 'mui-slider-item';\n\t\n\t\tvar handle = function handle(event, target) {\n\t\t\tif (target.classList && (target.classList.contains(CLASS_CONTROL_ITEM) || target.classList.contains(CLASS_TAB_ITEM))) {\n\t\t\t\tif (target.parentNode && target.parentNode.classList && target.parentNode.classList.contains(CLASS_SEGMENTED_CONTROL_VERTICAL)) {} else {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\n\t\t\t\treturn target;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\t$.registerTarget({\n\t\t\tname: name,\n\t\t\tindex: 80,\n\t\t\thandle: handle,\n\t\t\ttarget: false\n\t\t});\n\t\n\t\twindow.addEventListener('tap', function (e) {\n\t\n\t\t\tvar targetTab = $.targets.tab;\n\t\t\tif (!targetTab) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar activeTab;\n\t\t\tvar activeBodies;\n\t\t\tvar targetBody;\n\t\t\tvar className = 'mui-active';\n\t\t\tvar classSelector = '.' + className;\n\t\t\tvar segmentedControl = targetTab.parentNode;\n\t\n\t\t\tfor (; segmentedControl && segmentedControl !== document; segmentedControl = segmentedControl.parentNode) {\n\t\t\t\tif (segmentedControl.classList.contains(CLASS_SEGMENTED_CONTROL)) {\n\t\t\t\t\tactiveTab = segmentedControl.querySelector(classSelector + '.' + CLASS_CONTROL_ITEM);\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (segmentedControl.classList.contains(CLASS_TAB_BAR)) {\n\t\t\t\t\tactiveTab = segmentedControl.querySelector(classSelector + '.' + CLASS_TAB_ITEM);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (activeTab) {\n\t\t\t\tactiveTab.classList.remove(className);\n\t\t\t}\n\t\n\t\t\tvar isLastActive = targetTab === activeTab;\n\t\t\tif (targetTab) {\n\t\t\t\ttargetTab.classList.add(className);\n\t\t\t}\n\t\n\t\t\tif (!targetTab.hash) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttargetBody = document.getElementById(targetTab.hash.replace('#', ''));\n\t\n\t\t\tif (!targetBody) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!targetBody.classList.contains(CLASS_CONTROL_CONTENT)) {\n\t\t\t\ttargetTab.classList[isLastActive ? 'remove' : 'add'](className);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isLastActive) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar parentNode = targetBody.parentNode;\n\t\t\tactiveBodies = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT + classSelector);\n\t\t\tfor (var i = 0; i < activeBodies.length; i++) {\n\t\t\t\tvar activeBody = activeBodies[i];\n\t\t\t\tactiveBody.parentNode === parentNode && activeBody.classList.remove(className);\n\t\t\t}\n\t\n\t\t\ttargetBody.classList.add(className);\n\t\n\t\t\tvar contents = [];\n\t\t\tvar _contents = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT);\n\t\t\tfor (var i = 0; i < _contents.length; i++) {\n\t\t\t\t_contents[i].parentNode === parentNode && contents.push(_contents[i]);\n\t\t\t}\n\t\t\t$.trigger(targetBody, $.eventName('shown', name), {\n\t\t\t\ttabNumber: Array.prototype.indexOf.call(contents, targetBody)\n\t\t\t});\n\t\t\te.detail && e.detail.gesture.preventDefault();\n\t\t});\n\t})(mui, window, document, 'tab');\n\t\n\t(function ($, window, name) {\n\t\n\t\tvar CLASS_SWITCH = 'mui-switch';\n\t\tvar CLASS_SWITCH_HANDLE = 'mui-switch-handle';\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\tvar CLASS_DRAGGING = 'mui-dragging';\n\t\n\t\tvar CLASS_DISABLED = 'mui-disabled';\n\t\n\t\tvar SELECTOR_SWITCH_HANDLE = '.' + CLASS_SWITCH_HANDLE;\n\t\n\t\tvar handle = function handle(event, target) {\n\t\t\tif (target.classList && target.classList.contains(CLASS_SWITCH)) {\n\t\t\t\treturn target;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\t$.registerTarget({\n\t\t\tname: name,\n\t\t\tindex: 100,\n\t\t\thandle: handle,\n\t\t\ttarget: false\n\t\t});\n\t\n\t\tvar Toggle = function Toggle(element) {\n\t\t\tthis.element = element;\n\t\t\tthis.classList = this.element.classList;\n\t\t\tthis.handle = this.element.querySelector(SELECTOR_SWITCH_HANDLE);\n\t\t\tthis.init();\n\t\t\tthis.initEvent();\n\t\t};\n\t\tToggle.prototype.init = function () {\n\t\t\tthis.toggleWidth = this.element.offsetWidth;\n\t\t\tthis.handleWidth = this.handle.offsetWidth;\n\t\t\tthis.handleX = this.toggleWidth - this.handleWidth - 3;\n\t\t};\n\t\tToggle.prototype.initEvent = function () {\n\t\t\tthis.element.addEventListener($.EVENT_START, this);\n\t\t\tthis.element.addEventListener('drag', this);\n\t\t\tthis.element.addEventListener('swiperight', this);\n\t\t\tthis.element.addEventListener($.EVENT_END, this);\n\t\t\tthis.element.addEventListener($.EVENT_CANCEL, this);\n\t\t};\n\t\tToggle.prototype.handleEvent = function (e) {\n\t\t\tif (this.classList.contains(CLASS_DISABLED)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tswitch (e.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\tthis.start(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'drag':\n\t\t\t\t\tthis.drag(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swiperight':\n\t\t\t\t\tthis.swiperight();\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\t\tthis.end(e);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\tToggle.prototype.start = function (e) {\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\n\t\t\tthis.classList.add(CLASS_DRAGGING);\n\t\t\tif (this.toggleWidth === 0 || this.handleWidth === 0) {\n\t\t\t\tthis.init();\n\t\t\t}\n\t\t};\n\t\tToggle.prototype.drag = function (e) {\n\t\t\tvar detail = e.detail;\n\t\t\tif (!this.isDragging) {\n\t\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\n\t\t\t\t\tthis.isDragging = true;\n\t\t\t\t\tthis.lastChanged = undefined;\n\t\t\t\t\tthis.initialState = this.classList.contains(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.isDragging) {\n\t\t\t\tthis.setTranslateX(detail.deltaX);\n\t\t\t\te.stopPropagation();\n\t\t\t\tdetail.gesture.preventDefault();\n\t\t\t}\n\t\t};\n\t\tToggle.prototype.swiperight = function (e) {\n\t\t\tif (this.isDragging) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t};\n\t\tToggle.prototype.end = function (e) {\n\t\t\tthis.classList.remove(CLASS_DRAGGING);\n\t\t\tif (this.isDragging) {\n\t\t\t\tthis.isDragging = false;\n\t\t\t\te.stopPropagation();\n\t\t\t\t$.trigger(this.element, 'toggle', {\n\t\t\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.toggle();\n\t\t\t}\n\t\t};\n\t\tToggle.prototype.toggle = function (animate) {\n\t\t\tvar classList = this.classList;\n\t\t\tif (animate === false) {\n\t\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '0s';\n\t\t\t} else {\n\t\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\n\t\t\t}\n\t\t\tif (classList.contains(CLASS_ACTIVE)) {\n\t\t\t\tclassList.remove(CLASS_ACTIVE);\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(0,0)';\n\t\t\t} else {\n\t\t\t\tclassList.add(CLASS_ACTIVE);\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + this.handleX + 'px,0)';\n\t\t\t}\n\t\t\t$.trigger(this.element, 'toggle', {\n\t\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\n\t\t\t});\n\t\t};\n\t\tToggle.prototype.setTranslateX = $.animationFrame(function (x) {\n\t\t\tif (!this.isDragging) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar isChanged = false;\n\t\t\tif (this.initialState && -x > this.handleX / 2 || !this.initialState && x > this.handleX / 2) {\n\t\t\t\tisChanged = true;\n\t\t\t}\n\t\t\tif (this.lastChanged !== isChanged) {\n\t\t\t\tif (isChanged) {\n\t\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? 0 : this.handleX) + 'px,0)';\n\t\t\t\t\tthis.classList[this.initialState ? 'remove' : 'add'](CLASS_ACTIVE);\n\t\t\t\t} else {\n\t\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? this.handleX : 0) + 'px,0)';\n\t\t\t\t\tthis.classList[this.initialState ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tthis.lastChanged = isChanged;\n\t\t\t}\n\t\t});\n\t\n\t\t$.fn['switch'] = function (options) {\n\t\t\tvar switchApis = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar switchApi = null;\n\t\t\t\tvar id = this.getAttribute('data-switch');\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\t$.data[id] = new Toggle(this);\n\t\t\t\t\tthis.setAttribute('data-switch', id);\n\t\t\t\t} else {\n\t\t\t\t\tswitchApi = $.data[id];\n\t\t\t\t}\n\t\t\t\tswitchApis.push(switchApi);\n\t\t\t});\n\t\t\treturn switchApis.length > 1 ? switchApis : switchApis[0];\n\t\t};\n\t\t$.ready(function () {\n\t\t\t$('.' + CLASS_SWITCH)['switch']();\n\t\t});\n\t})(mui, window, 'toggle');\n\t\n\t(function ($, window, document) {\n\t\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\tvar CLASS_SELECTED = 'mui-selected';\n\t\tvar CLASS_GRID_VIEW = 'mui-grid-view';\n\t\tvar CLASS_RADIO_VIEW = 'mui-table-view-radio';\n\t\tvar CLASS_TABLE_VIEW_CELL = 'mui-table-view-cell';\n\t\tvar CLASS_COLLAPSE_CONTENT = 'mui-collapse-content';\n\t\tvar CLASS_DISABLED = 'mui-disabled';\n\t\tvar CLASS_TOGGLE = 'mui-switch';\n\t\tvar CLASS_BTN = 'mui-btn';\n\t\n\t\tvar CLASS_SLIDER_HANDLE = 'mui-slider-handle';\n\t\tvar CLASS_SLIDER_LEFT = 'mui-slider-left';\n\t\tvar CLASS_SLIDER_RIGHT = 'mui-slider-right';\n\t\tvar CLASS_TRANSITIONING = 'mui-transitioning';\n\t\n\t\tvar SELECTOR_SLIDER_HANDLE = '.' + CLASS_SLIDER_HANDLE;\n\t\tvar SELECTOR_SLIDER_LEFT = '.' + CLASS_SLIDER_LEFT;\n\t\tvar SELECTOR_SLIDER_RIGHT = '.' + CLASS_SLIDER_RIGHT;\n\t\tvar SELECTOR_SELECTED = '.' + CLASS_SELECTED;\n\t\tvar SELECTOR_BUTTON = '.' + CLASS_BTN;\n\t\tvar overFactor = 0.8;\n\t\tvar cell, a;\n\t\n\t\tvar isMoved = isOpened = openedActions = progress = false;\n\t\tvar sliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\n\t\tvar timer = translateX = lastTranslateX = sliderActionLeftWidth = sliderActionRightWidth = 0;\n\t\n\t\tvar toggleActive = function toggleActive(isActive) {\n\t\t\tif (isActive) {\n\t\t\t\tif (a) {\n\t\t\t\t\ta.classList.add(CLASS_ACTIVE);\n\t\t\t\t} else if (cell) {\n\t\t\t\t\tcell.classList.add(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttimer && timer.cancel();\n\t\t\t\tif (a) {\n\t\t\t\t\ta.classList.remove(CLASS_ACTIVE);\n\t\t\t\t} else if (cell) {\n\t\t\t\t\tcell.classList.remove(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tvar updateTranslate = function updateTranslate() {\n\t\t\tif (translateX !== lastTranslateX) {\n\t\t\t\tif (buttonsRight && buttonsRight.length > 0) {\n\t\t\t\t\tprogress = translateX / sliderActionRightWidth;\n\t\t\t\t\tif (translateX < -sliderActionRightWidth) {\n\t\t\t\t\t\ttranslateX = -sliderActionRightWidth - Math.pow(-translateX - sliderActionRightWidth, overFactor);\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\n\t\t\t\t\t\tvar buttonRight = buttonsRight[i];\n\t\t\t\t\t\tif (typeof buttonRight._buttonOffset === 'undefined') {\n\t\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\n\t\t\t\t\t\tsetTranslate(buttonRight, translateX - buttonOffset * (1 + Math.max(progress, -1)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (buttonsLeft && buttonsLeft.length > 0) {\n\t\t\t\t\tprogress = translateX / sliderActionLeftWidth;\n\t\t\t\t\tif (translateX > sliderActionLeftWidth) {\n\t\t\t\t\t\ttranslateX = sliderActionLeftWidth + Math.pow(translateX - sliderActionLeftWidth, overFactor);\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\n\t\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\n\t\t\t\t\t\tif (typeof buttonLeft._buttonOffset === 'undefined') {\n\t\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\n\t\t\t\t\t\tif (buttonsLeft.length > 1) {\n\t\t\t\t\t\t\tbuttonLeft.style.zIndex = buttonsLeft.length - i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTranslate(buttonLeft, translateX + buttonOffset * (1 - Math.min(progress, 1)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetTranslate(sliderHandle, translateX);\n\t\t\t\tlastTranslateX = translateX;\n\t\t\t}\n\t\t\tsliderRequestAnimationFrame = requestAnimationFrame(function () {\n\t\t\t\tupdateTranslate();\n\t\t\t});\n\t\t};\n\t\tvar setTranslate = function setTranslate(element, x) {\n\t\t\tif (element) {\n\t\t\t\telement.style.webkitTransform = 'translate(' + x + 'px,0)';\n\t\t\t}\n\t\t};\n\t\n\t\twindow.addEventListener($.EVENT_START, function (event) {\n\t\t\tif (cell) {\n\t\t\t\ttoggleActive(false);\n\t\t\t}\n\t\t\tcell = a = false;\n\t\t\tisMoved = isOpened = openedActions = false;\n\t\t\tvar target = event.target;\n\t\t\tvar isDisabled = false;\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tif (target.classList) {\n\t\t\t\t\tvar classList = target.classList;\n\t\t\t\t\tif (target.tagName === 'INPUT' && target.type !== 'radio' && target.type !== 'checkbox' || target.tagName === 'BUTTON' || classList.contains(CLASS_TOGGLE) || classList.contains(CLASS_BTN) || classList.contains(CLASS_DISABLED)) {\n\t\t\t\t\t\tisDisabled = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(CLASS_COLLAPSE_CONTENT)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(CLASS_TABLE_VIEW_CELL)) {\n\t\t\t\t\t\tcell = target;\n\t\n\t\t\t\t\t\tvar selected = cell.parentNode.querySelector(SELECTOR_SELECTED);\n\t\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_RADIO_VIEW) && selected && selected !== cell) {\n\t\t\t\t\t\t\t$.swipeoutClose(selected);\n\t\t\t\t\t\t\tcell = isDisabled = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_GRID_VIEW)) {\n\t\t\t\t\t\t\tvar link = cell.querySelector('a');\n\t\t\t\t\t\t\tif (link && link.parentNode === cell) {\n\t\t\t\t\t\t\t\ta = link;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar handle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\n\t\t\t\t\t\tif (handle) {\n\t\t\t\t\t\t\ttoggleEvents(cell);\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!isDisabled) {\n\t\t\t\t\t\t\tif (handle) {\n\t\t\t\t\t\t\t\tif (timer) {\n\t\t\t\t\t\t\t\t\ttimer.cancel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttimer = $.later(function () {\n\t\t\t\t\t\t\t\t\ttoggleActive(true);\n\t\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttoggleActive(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\twindow.addEventListener($.EVENT_MOVE, function (event) {\n\t\t\ttoggleActive(false);\n\t\t});\n\t\n\t\tvar handleEvent = {\n\t\t\thandleEvent: function handleEvent(event) {\n\t\t\t\tswitch (event.type) {\n\t\t\t\t\tcase 'drag':\n\t\t\t\t\t\tthis.drag(event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'dragend':\n\t\t\t\t\t\tthis.dragend(event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'flick':\n\t\t\t\t\t\tthis.flick(event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'swiperight':\n\t\t\t\t\t\tthis.swiperight(event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'swipeleft':\n\t\t\t\t\t\tthis.swipeleft(event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdrag: function drag(event) {\n\t\t\t\tif (!cell) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!isMoved) {\n\t\t\t\t\tsliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\n\t\t\t\t\tsliderHandle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\n\t\t\t\t\tif (sliderHandle) {\n\t\t\t\t\t\tsliderActionLeft = cell.querySelector(SELECTOR_SLIDER_LEFT);\n\t\t\t\t\t\tsliderActionRight = cell.querySelector(SELECTOR_SLIDER_RIGHT);\n\t\t\t\t\t\tif (sliderActionLeft) {\n\t\t\t\t\t\t\tsliderActionLeftWidth = sliderActionLeft.offsetWidth;\n\t\t\t\t\t\t\tbuttonsLeft = sliderActionLeft.querySelectorAll(SELECTOR_BUTTON);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (sliderActionRight) {\n\t\t\t\t\t\t\tsliderActionRightWidth = sliderActionRight.offsetWidth;\n\t\t\t\t\t\t\tbuttonsRight = sliderActionRight.querySelectorAll(SELECTOR_BUTTON);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcell.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\tisOpened = cell.classList.contains(CLASS_SELECTED);\n\t\t\t\t\t\tif (isOpened) {\n\t\t\t\t\t\t\topenedActions = cell.querySelector(SELECTOR_SLIDER_LEFT + SELECTOR_SELECTED) ? 'left' : 'right';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar detail = event.detail;\n\t\t\t\tvar direction = detail.direction;\n\t\t\t\tvar angle = detail.angle;\n\t\t\t\tif (direction === 'left' && (angle > 150 || angle < -150)) {\n\t\t\t\t\tif (buttonsRight || buttonsLeft && isOpened) {\n\t\t\t\t\t\tisMoved = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (direction === 'right' && angle > -30 && angle < 30) {\n\t\t\t\t\tif (buttonsLeft || buttonsRight && isOpened) {\n\t\t\t\t\t\tisMoved = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isMoved) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t\t\tvar translate = event.detail.deltaX;\n\t\t\t\t\tif (isOpened) {\n\t\t\t\t\t\tif (openedActions === 'right') {\n\t\t\t\t\t\t\ttranslate = translate - sliderActionRightWidth;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttranslate = translate + sliderActionLeftWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (translate > 0 && !buttonsLeft || translate < 0 && !buttonsRight) {\n\t\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttranslate = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (translate < 0) {\n\t\t\t\t\t\tsliderDirection = 'toLeft';\n\t\t\t\t\t} else if (translate > 0) {\n\t\t\t\t\t\tsliderDirection = 'toRight';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!sliderDirection) {\n\t\t\t\t\t\t\tsliderDirection = 'toLeft';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!sliderRequestAnimationFrame) {\n\t\t\t\t\t\tupdateTranslate();\n\t\t\t\t\t}\n\t\t\t\t\ttranslateX = translate;\n\t\t\t\t}\n\t\t\t},\n\t\t\tflick: function flick(event) {\n\t\t\t\tif (isMoved) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\t\t\t},\n\t\t\tswipeleft: function swipeleft(event) {\n\t\t\t\tif (isMoved) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\t\t\t},\n\t\t\tswiperight: function swiperight(event) {\n\t\t\t\tif (isMoved) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdragend: function dragend(event) {\n\t\t\t\tif (!isMoved) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tif (sliderRequestAnimationFrame) {\n\t\t\t\t\tcancelAnimationFrame(sliderRequestAnimationFrame);\n\t\t\t\t\tsliderRequestAnimationFrame = null;\n\t\t\t\t}\n\t\t\t\tvar detail = event.detail;\n\t\t\t\tisMoved = false;\n\t\t\t\tvar action = 'close';\n\t\t\t\tvar actionsWidth = sliderDirection === 'toLeft' ? sliderActionRightWidth : sliderActionLeftWidth;\n\t\t\t\tvar isToggle = detail.swipe || Math.abs(translateX) > actionsWidth / 2;\n\t\t\t\tif (isToggle) {\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\taction = 'open';\n\t\t\t\t\t} else if (detail.direction === 'left' && openedActions === 'right') {\n\t\t\t\t\t\taction = 'open';\n\t\t\t\t\t} else if (detail.direction === 'right' && openedActions === 'left') {\n\t\t\t\t\t\taction = 'open';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcell.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tvar buttons;\n\t\t\t\tif (action === 'open') {\n\t\t\t\t\tvar newTranslate = sliderDirection === 'toLeft' ? -actionsWidth : actionsWidth;\n\t\t\t\t\tsetTranslate(sliderHandle, newTranslate);\n\t\t\t\t\tbuttons = sliderDirection === 'toLeft' ? buttonsRight : buttonsLeft;\n\t\t\t\t\tif (typeof buttons !== 'undefined') {\n\t\t\t\t\t\tvar button = null;\n\t\t\t\t\t\tfor (var i = 0; i < buttons.length; i++) {\n\t\t\t\t\t\t\tbutton = buttons[i];\n\t\t\t\t\t\t\tsetTranslate(button, newTranslate);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbutton.parentNode.classList.add(CLASS_SELECTED);\n\t\t\t\t\t\tcell.classList.add(CLASS_SELECTED);\n\t\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\t\t$.trigger(cell, sliderDirection === 'toLeft' ? 'slideleft' : 'slideright');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetTranslate(sliderHandle, 0);\n\t\t\t\t\tsliderActionLeft && sliderActionLeft.classList.remove(CLASS_SELECTED);\n\t\t\t\t\tsliderActionRight && sliderActionRight.classList.remove(CLASS_SELECTED);\n\t\t\t\t\tcell.classList.remove(CLASS_SELECTED);\n\t\t\t\t}\n\t\t\t\tvar buttonOffset;\n\t\t\t\tif (buttonsLeft && buttonsLeft.length > 0 && buttonsLeft !== buttons) {\n\t\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\n\t\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\n\t\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\n\t\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\n\t\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTranslate(buttonLeft, buttonOffset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (buttonsRight && buttonsRight.length > 0 && buttonsRight !== buttons) {\n\t\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\n\t\t\t\t\t\tvar buttonRight = buttonsRight[i];\n\t\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\n\t\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\n\t\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTranslate(buttonRight, -buttonOffset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tfunction toggleEvents(element, isRemove) {\n\t\t\tvar method = !!isRemove ? 'removeEventListener' : 'addEventListener';\n\t\t\telement[method]('drag', handleEvent);\n\t\t\telement[method]('dragend', handleEvent);\n\t\t\telement[method]('swiperight', handleEvent);\n\t\t\telement[method]('swipeleft', handleEvent);\n\t\t\telement[method]('flick', handleEvent);\n\t\t};\n\t\n\t\t$.swipeoutOpen = function (el, direction) {\n\t\t\tif (!el) return;\n\t\t\tvar classList = el.classList;\n\t\t\tif (classList.contains(CLASS_SELECTED)) return;\n\t\t\tif (!direction) {\n\t\t\t\tif (el.querySelector(SELECTOR_SLIDER_RIGHT)) {\n\t\t\t\t\tdirection = 'right';\n\t\t\t\t} else {\n\t\t\t\t\tdirection = 'left';\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\n\t\t\tif (!swipeoutAction) return;\n\t\t\tswipeoutAction.classList.add(CLASS_SELECTED);\n\t\t\tclassList.add(CLASS_SELECTED);\n\t\t\tclassList.remove(CLASS_TRANSITIONING);\n\t\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\n\t\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\n\t\t\tvar translate = direction === 'right' ? -swipeoutWidth : swipeoutWidth;\n\t\t\tvar length = buttons.length;\n\t\t\tvar button;\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tbutton = buttons[i];\n\t\t\t\tif (direction === 'right') {\n\t\t\t\t\tsetTranslate(button, -button.offsetLeft);\n\t\t\t\t} else {\n\t\t\t\t\tsetTranslate(button, swipeoutWidth - button.offsetWidth - button.offsetLeft);\n\t\t\t\t}\n\t\t\t}\n\t\t\tclassList.add(CLASS_TRANSITIONING);\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tsetTranslate(buttons[i], translate);\n\t\t\t}\n\t\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), translate);\n\t\t};\n\t\n\t\t$.swipeoutClose = function (el) {\n\t\t\tif (!el) return;\n\t\t\tvar classList = el.classList;\n\t\t\tif (!classList.contains(CLASS_SELECTED)) return;\n\t\t\tvar direction = el.querySelector(SELECTOR_SLIDER_RIGHT + SELECTOR_SELECTED) ? 'right' : 'left';\n\t\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\n\t\t\tif (!swipeoutAction) return;\n\t\t\tswipeoutAction.classList.remove(CLASS_SELECTED);\n\t\t\tclassList.remove(CLASS_SELECTED);\n\t\t\tclassList.add(CLASS_TRANSITIONING);\n\t\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\n\t\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\n\t\t\tvar length = buttons.length;\n\t\t\tvar button;\n\t\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), 0);\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tbutton = buttons[i];\n\t\t\t\tif (direction === 'right') {\n\t\t\t\t\tsetTranslate(button, -button.offsetLeft);\n\t\t\t\t} else {\n\t\t\t\t\tsetTranslate(button, swipeoutWidth - button.offsetWidth - button.offsetLeft);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\twindow.addEventListener($.EVENT_END, function (event) {\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttoggleActive(false);\n\t\t\tsliderHandle && toggleEvents(cell, true);\n\t\t});\n\t\twindow.addEventListener($.EVENT_CANCEL, function (event) {\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttoggleActive(false);\n\t\t\tsliderHandle && toggleEvents(cell, true);\n\t\t});\n\t\tvar radioOrCheckboxClick = function radioOrCheckboxClick(event) {\n\t\t\tvar type = event.target && event.target.type || '';\n\t\t\tif (type === 'radio' || type === 'checkbox') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar classList = cell.classList;\n\t\t\tif (classList.contains('mui-radio')) {\n\t\t\t\tvar input = cell.querySelector('input[type=radio]');\n\t\t\t\tif (input) {\n\t\t\t\t\tif (!input.disabled && !input.readOnly) {\n\t\t\t\t\t\tinput.checked = !input.checked;\n\t\t\t\t\t\t$.trigger(input, 'change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (classList.contains('mui-checkbox')) {\n\t\t\t\tvar input = cell.querySelector('input[type=checkbox]');\n\t\t\t\tif (input) {\n\t\t\t\t\tif (!input.disabled && !input.readOnly) {\n\t\t\t\t\t\tinput.checked = !input.checked;\n\t\t\t\t\t\t$.trigger(input, 'change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\twindow.addEventListener($.EVENT_CLICK, function (e) {\n\t\t\tif (cell && cell.classList.contains('mui-collapse')) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\t\twindow.addEventListener('doubletap', function (event) {\n\t\t\tif (cell) {\n\t\t\t\tradioOrCheckboxClick(event);\n\t\t\t}\n\t\t});\n\t\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\n\t\twindow.addEventListener('tap', function (event) {\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar isExpand = false;\n\t\t\tvar classList = cell.classList;\n\t\t\tvar ul = cell.parentNode;\n\t\t\tif (ul && ul.classList.contains(CLASS_RADIO_VIEW)) {\n\t\t\t\tif (classList.contains(CLASS_SELECTED)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar selected = ul.querySelector('li' + SELECTOR_SELECTED);\n\t\t\t\tif (selected) {\n\t\t\t\t\tselected.classList.remove(CLASS_SELECTED);\n\t\t\t\t}\n\t\t\t\tclassList.add(CLASS_SELECTED);\n\t\t\t\t$.trigger(cell, 'selected', {\n\t\t\t\t\tel: cell\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (classList.contains('mui-collapse') && !cell.parentNode.classList.contains('mui-unfold')) {\n\t\t\t\tif (!preventDefaultException.test(event.target.tagName)) {\n\t\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t\t}\n\t\n\t\t\t\tif (!classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\tvar collapse = cell.parentNode.querySelector('.mui-collapse.mui-active');\n\t\t\t\t\tif (collapse) {\n\t\t\t\t\t\tcollapse.classList.remove(CLASS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t\tisExpand = true;\n\t\t\t\t}\n\t\t\t\tclassList.toggle(CLASS_ACTIVE);\n\t\t\t\tif (isExpand) {\n\t\t\t\t\t$.trigger(cell, 'expand');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tradioOrCheckboxClick(event);\n\t\t\t}\n\t\t});\n\t})(mui, window, document);\n\t(function ($, window) {\n\t\t$.alert = function (message, title, btnValue, callback) {\n\t\t\tif ($.os.plus) {\n\t\t\t\tif (typeof message === 'undefined') {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\t\tcallback = title;\n\t\t\t\t\t\ttitle = null;\n\t\t\t\t\t\tbtnValue = '确定';\n\t\t\t\t\t} else if (typeof btnValue === 'function') {\n\t\t\t\t\t\tcallback = btnValue;\n\t\t\t\t\t\tbtnValue = null;\n\t\t\t\t\t}\n\t\t\t\t\t$.plusReady(function () {\n\t\t\t\t\t\tplus.nativeUI.alert(message, callback, title, btnValue);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twindow.alert(message);\n\t\t\t}\n\t\t};\n\t})(mui, window);\n\t(function ($, window) {\n\t\t$.confirm = function (message, title, btnArray, callback) {\n\t\t\tif ($.os.plus) {\n\t\t\t\tif (typeof message === 'undefined') {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\t\tcallback = title;\n\t\t\t\t\t\ttitle = null;\n\t\t\t\t\t\tbtnArray = null;\n\t\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\t\tbtnArray = null;\n\t\t\t\t\t}\n\t\t\t\t\t$.plusReady(function () {\n\t\t\t\t\t\tplus.nativeUI.confirm(message, callback, title, btnArray);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (window.confirm(message)) {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tindex: 0\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tindex: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})(mui, window);\n\t(function ($, window) {\n\t\t$.prompt = function (text, defaultText, title, btnArray, callback) {\n\t\t\tif ($.os.plus) {\n\t\t\t\tif (typeof message === 'undefined') {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\n\t\t\t\t\tif (typeof defaultText === 'function') {\n\t\t\t\t\t\tcallback = defaultText;\n\t\t\t\t\t\tdefaultText = null;\n\t\t\t\t\t\ttitle = null;\n\t\t\t\t\t\tbtnArray = null;\n\t\t\t\t\t} else if (typeof title === 'function') {\n\t\t\t\t\t\tcallback = title;\n\t\t\t\t\t\ttitle = null;\n\t\t\t\t\t\tbtnArray = null;\n\t\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\t\tbtnArray = null;\n\t\t\t\t\t}\n\t\t\t\t\t$.plusReady(function () {\n\t\t\t\t\t\tplus.nativeUI.prompt(text, callback, title, defaultText, btnArray);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar result = window.prompt(text);\n\t\t\t\tif (result) {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\tvalue: result\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})(mui, window);\n\t(function ($, window) {\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\n\t\t$.toast = function (message, options) {\n\t\t\tvar durations = {\n\t\t\t\t'long': 3500,\n\t\t\t\t'short': 2000\n\t\t\t};\n\t\n\t\t\toptions = $.extend({\n\t\t\t\tduration: 'short'\n\t\t\t}, options || {});\n\t\n\t\t\tif ($.os.plus && options.type !== 'div') {\n\t\t\t\t$.plusReady(function () {\n\t\t\t\t\tplus.nativeUI.toast(message, {\n\t\t\t\t\t\tverticalAlign: 'bottom',\n\t\t\t\t\t\tduration: options.duration\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (typeof options.duration === 'number') {\n\t\t\t\t\tduration = options.duration > 0 ? options.duration : durations['short'];\n\t\t\t\t} else {\n\t\t\t\t\tduration = durations[options.duration];\n\t\t\t\t}\n\t\t\t\tif (!duration) {\n\t\t\t\t\tduration = durations['short'];\n\t\t\t\t}\n\t\t\t\tvar toast = document.createElement('div');\n\t\t\t\ttoast.classList.add('mui-toast-container');\n\t\t\t\ttoast.innerHTML = '<div class=\"' + 'mui-toast-message' + '\">' + message + '</div>';\n\t\t\t\ttoast.addEventListener('webkitTransitionEnd', function () {\n\t\t\t\t\tif (!toast.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\ttoast.parentNode.removeChild(toast);\n\t\t\t\t\t\ttoast = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\ttoast.addEventListener('click', function () {\n\t\t\t\t\ttoast.parentNode.removeChild(toast);\n\t\t\t\t\ttoast = null;\n\t\t\t\t});\n\t\t\t\tdocument.body.appendChild(toast);\n\t\t\t\ttoast.offsetHeight;\n\t\t\t\ttoast.classList.add(CLASS_ACTIVE);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\ttoast && toast.classList.remove(CLASS_ACTIVE);\n\t\t\t\t}, duration);\n\t\n\t\t\t\treturn {\n\t\t\t\t\tisVisible: function isVisible() {\n\t\t\t\t\t\treturn !!toast;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t})(mui, window);\n\t\n\t(function ($, window, document) {\n\t\tvar CLASS_POPUP = 'mui-popup';\n\t\tvar CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\n\t\tvar CLASS_POPUP_IN = 'mui-popup-in';\n\t\tvar CLASS_POPUP_OUT = 'mui-popup-out';\n\t\tvar CLASS_POPUP_INNER = 'mui-popup-inner';\n\t\tvar CLASS_POPUP_TITLE = 'mui-popup-title';\n\t\tvar CLASS_POPUP_TEXT = 'mui-popup-text';\n\t\tvar CLASS_POPUP_INPUT = 'mui-popup-input';\n\t\tvar CLASS_POPUP_BUTTONS = 'mui-popup-buttons';\n\t\tvar CLASS_POPUP_BUTTON = 'mui-popup-button';\n\t\tvar CLASS_POPUP_BUTTON_BOLD = 'mui-popup-button-bold';\n\t\tvar CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\n\t\tvar popupStack = [];\n\t\tvar backdrop = function () {\n\t\t\tvar element = document.createElement('div');\n\t\t\telement.classList.add(CLASS_POPUP_BACKDROP);\n\t\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t\telement.addEventListener('webkitTransitionEnd', function () {\n\t\t\t\tif (!this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\telement.parentNode && element.parentNode.removeChild(element);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn element;\n\t\t}();\n\t\n\t\tvar createInput = function createInput(placeholder) {\n\t\t\treturn '<div class=\"' + CLASS_POPUP_INPUT + '\"><input type=\"text\" autofocus placeholder=\"' + (placeholder || '') + '\"/></div>';\n\t\t};\n\t\tvar createInner = function createInner(message, title, extra) {\n\t\t\treturn '<div class=\"' + CLASS_POPUP_INNER + '\"><div class=\"' + CLASS_POPUP_TITLE + '\">' + title + '</div><div class=\"' + CLASS_POPUP_TEXT + '\">' + message.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\") + '</div>' + (extra || '') + '</div>';\n\t\t};\n\t\tvar createButtons = function createButtons(btnArray) {\n\t\t\tvar length = btnArray.length;\n\t\t\tvar btns = [];\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tbtns.push('<span class=\"' + CLASS_POPUP_BUTTON + (i === length - 1 ? ' ' + CLASS_POPUP_BUTTON_BOLD : '') + '\">' + btnArray[i] + '</span>');\n\t\t\t}\n\t\t\treturn '<div class=\"' + CLASS_POPUP_BUTTONS + '\">' + btns.join('') + '</div>';\n\t\t};\n\t\n\t\tvar createPopup = function createPopup(html, callback) {\n\t\t\tvar popupElement = document.createElement('div');\n\t\t\tpopupElement.className = CLASS_POPUP;\n\t\t\tpopupElement.innerHTML = html;\n\t\t\tvar removePopupElement = function removePopupElement() {\n\t\t\t\tpopupElement.parentNode && popupElement.parentNode.removeChild(popupElement);\n\t\t\t\tpopupElement = null;\n\t\t\t};\n\t\t\tpopupElement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t\tpopupElement.addEventListener('webkitTransitionEnd', function (e) {\n\t\t\t\tif (popupElement && e.target === popupElement && popupElement.classList.contains(CLASS_POPUP_OUT)) {\n\t\t\t\t\tremovePopupElement();\n\t\t\t\t}\n\t\t\t});\n\t\t\tpopupElement.style.display = 'block';\n\t\t\tdocument.body.appendChild(popupElement);\n\t\t\tpopupElement.offsetHeight;\n\t\t\tpopupElement.classList.add(CLASS_POPUP_IN);\n\t\n\t\t\tif (!backdrop.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\tbackdrop.style.display = 'block';\n\t\t\t\tdocument.body.appendChild(backdrop);\n\t\t\t\tbackdrop.offsetHeight;\n\t\t\t\tbackdrop.classList.add(CLASS_ACTIVE);\n\t\t\t}\n\t\t\tvar btns = $.qsa('.' + CLASS_POPUP_BUTTON, popupElement);\n\t\t\tvar input = popupElement.querySelector('.' + CLASS_POPUP_INPUT + ' input');\n\t\t\tvar popup = {\n\t\t\t\telement: popupElement,\n\t\t\t\tclose: function close(index, animate) {\n\t\t\t\t\tif (popupElement) {\n\t\t\t\t\t\tvar result = callback && callback({\n\t\t\t\t\t\t\tindex: index || 0,\n\t\t\t\t\t\t\tvalue: input && input.value || ''\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (result === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (animate !== false) {\n\t\t\t\t\t\t\tpopupElement.classList.remove(CLASS_POPUP_IN);\n\t\t\t\t\t\t\tpopupElement.classList.add(CLASS_POPUP_OUT);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tremovePopupElement();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpopupStack.pop();\n\t\n\t\t\t\t\t\tif (popupStack.length) {\n\t\t\t\t\t\t\tpopupStack[popupStack.length - 1]['show'](animate);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbackdrop.classList.remove(CLASS_ACTIVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar handleEvent = function handleEvent(e) {\n\t\t\t\tpopup.close(btns.indexOf(e.target));\n\t\t\t};\n\t\t\t$(popupElement).on('tap', '.' + CLASS_POPUP_BUTTON, handleEvent);\n\t\t\tif (popupStack.length) {\n\t\t\t\tpopupStack[popupStack.length - 1]['hide']();\n\t\t\t}\n\t\t\tpopupStack.push({\n\t\t\t\tclose: popup.close,\n\t\t\t\tshow: function show(animate) {\n\t\t\t\t\tpopupElement.style.display = 'block';\n\t\t\t\t\tpopupElement.offsetHeight;\n\t\t\t\t\tpopupElement.classList.add(CLASS_POPUP_IN);\n\t\t\t\t},\n\t\t\t\thide: function hide() {\n\t\t\t\t\tpopupElement.style.display = 'none';\n\t\t\t\t\tpopupElement.classList.remove(CLASS_POPUP_IN);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn popup;\n\t\t};\n\t\tvar createAlert = function createAlert(message, title, btnValue, callback, type) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttype = btnValue;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnValue = null;\n\t\t\t\t} else if (typeof btnValue === 'function') {\n\t\t\t\t\ttype = callback;\n\t\t\t\t\tcallback = btnValue;\n\t\t\t\t\tbtnValue = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!$.os.plus || type === 'div') {\n\t\t\t\treturn createPopup(createInner(message, title || '提示') + createButtons([btnValue || '确定']), callback);\n\t\t\t}\n\t\t\treturn plus.nativeUI.alert(message, callback, title || '提示', btnValue || '确定');\n\t\t};\n\t\tvar createConfirm = function createConfirm(message, title, btnArray, callback, type) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttype = btnArray;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\ttype = callback;\n\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!$.os.plus || type === 'div') {\n\t\t\t\treturn createPopup(createInner(message, title || '提示') + createButtons(btnArray || ['取消', '确认']), callback);\n\t\t\t}\n\t\t\treturn plus.nativeUI.confirm(message, callback, title, btnArray || ['取消', '确认']);\n\t\t};\n\t\tvar createPrompt = function createPrompt(message, placeholder, title, btnArray, callback, type) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof placeholder === 'function') {\n\t\t\t\t\tcallback = placeholder;\n\t\t\t\t\ttype = title;\n\t\t\t\t\tplaceholder = null;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttype = btnArray;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\ttype = callback;\n\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!$.os.plus || type === 'div') {\n\t\t\t\treturn createPopup(createInner(message, title || '提示', createInput(placeholder)) + createButtons(btnArray || ['取消', '确认']), callback);\n\t\t\t}\n\t\t\treturn plus.nativeUI.prompt(message, callback, title || '提示', placeholder, btnArray || ['取消', '确认']);\n\t\t};\n\t\tvar closePopup = function closePopup() {\n\t\t\tif (popupStack.length) {\n\t\t\t\tpopupStack[popupStack.length - 1]['close']();\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\t\tvar closePopups = function closePopups() {\n\t\t\twhile (popupStack.length) {\n\t\t\t\tpopupStack[popupStack.length - 1]['close']();\n\t\t\t}\n\t\t};\n\t\n\t\t$.closePopup = closePopup;\n\t\t$.closePopups = closePopups;\n\t\t$.alert = createAlert;\n\t\t$.confirm = createConfirm;\n\t\t$.prompt = createPrompt;\n\t})(mui, window, document);\n\t(function ($, document) {\n\t\tvar CLASS_PROGRESSBAR = 'mui-progressbar';\n\t\tvar CLASS_PROGRESSBAR_IN = 'mui-progressbar-in';\n\t\tvar CLASS_PROGRESSBAR_OUT = 'mui-progressbar-out';\n\t\tvar CLASS_PROGRESSBAR_INFINITE = 'mui-progressbar-infinite';\n\t\n\t\tvar SELECTOR_PROGRESSBAR = '.mui-progressbar';\n\t\n\t\tvar _findProgressbar = function _findProgressbar(container) {\n\t\t\tcontainer = $(container || 'body');\n\t\t\tif (container.length === 0) return;\n\t\t\tcontainer = container[0];\n\t\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\n\t\t\t\treturn container;\n\t\t\t}\n\t\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR);\n\t\t\tif (progressbars) {\n\t\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\n\t\t\t\t\tvar progressbar = progressbars[i];\n\t\t\t\t\tif (progressbar.parentNode === container) {\n\t\t\t\t\t\treturn progressbar;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tvar showProgressbar = function showProgressbar(container, progress, color) {\n\t\t\tif (typeof container === 'number') {\n\t\t\t\tcolor = progress;\n\t\t\t\tprogress = container;\n\t\t\t\tcontainer = 'body';\n\t\t\t}\n\t\t\tcontainer = $(container || 'body');\n\t\t\tif (container.length === 0) return;\n\t\t\tcontainer = container[0];\n\t\t\tvar progressbar;\n\t\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\n\t\t\t\tprogressbar = container;\n\t\t\t} else {\n\t\t\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR + ':not(.' + CLASS_PROGRESSBAR_OUT + ')');\n\t\t\t\tif (progressbars) {\n\t\t\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\n\t\t\t\t\t\tvar _progressbar = progressbars[i];\n\t\t\t\t\t\tif (_progressbar.parentNode === container) {\n\t\t\t\t\t\t\tprogressbar = _progressbar;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!progressbar) {\n\t\t\t\t\tprogressbar = document.createElement('span');\n\t\t\t\t\tprogressbar.className = CLASS_PROGRESSBAR + ' ' + CLASS_PROGRESSBAR_IN + (typeof progress !== 'undefined' ? '' : ' ' + CLASS_PROGRESSBAR_INFINITE) + (color ? ' ' + CLASS_PROGRESSBAR + '-' + color : '');\n\t\t\t\t\tif (typeof progress !== 'undefined') {\n\t\t\t\t\t\tprogressbar.innerHTML = '<span></span>';\n\t\t\t\t\t}\n\t\t\t\t\tcontainer.appendChild(progressbar);\n\t\t\t\t} else {\n\t\t\t\t\tprogressbar.classList.add(CLASS_PROGRESSBAR_IN);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (progress) setProgressbar(container, progress);\n\t\t\treturn progressbar;\n\t\t};\n\t\n\t\tvar hideProgressbar = function hideProgressbar(container) {\n\t\t\tvar progressbar = _findProgressbar(container);\n\t\t\tif (!progressbar) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar classList = progressbar.classList;\n\t\t\tif (!classList.contains(CLASS_PROGRESSBAR_IN) || classList.contains(CLASS_PROGRESSBAR_OUT)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tclassList.remove(CLASS_PROGRESSBAR_IN);\n\t\t\tclassList.add(CLASS_PROGRESSBAR_OUT);\n\t\t\tprogressbar.addEventListener('webkitAnimationEnd', function () {\n\t\t\t\tprogressbar.parentNode && progressbar.parentNode.removeChild(progressbar);\n\t\t\t\tprogressbar = null;\n\t\t\t});\n\t\t\treturn;\n\t\t};\n\t\n\t\tvar setProgressbar = function setProgressbar(container, progress, speed) {\n\t\t\tif (typeof container === 'number') {\n\t\t\t\tspeed = progress;\n\t\t\t\tprogress = container;\n\t\t\t\tcontainer = false;\n\t\t\t}\n\t\t\tvar progressbar = _findProgressbar(container);\n\t\t\tif (!progressbar || progressbar.classList.contains(CLASS_PROGRESSBAR_INFINITE)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (progress) progress = Math.min(Math.max(progress, 0), 100);\n\t\t\tprogressbar.offsetHeight;\n\t\t\tvar span = progressbar.querySelector('span');\n\t\t\tif (span) {\n\t\t\t\tvar style = span.style;\n\t\t\t\tstyle.webkitTransform = 'translate3d(' + (-100 + progress) + '%,0,0)';\n\t\t\t\tif (typeof speed !== 'undefined') {\n\t\t\t\t\tstyle.webkitTransitionDuration = speed + 'ms';\n\t\t\t\t} else {\n\t\t\t\t\tstyle.webkitTransitionDuration = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn progressbar;\n\t\t};\n\t\t$.fn.progressbar = function (options) {\n\t\t\tvar progressbarApis = [];\n\t\t\toptions = options || {};\n\t\t\tthis.each(function () {\n\t\t\t\tvar self = this;\n\t\t\t\tvar progressbarApi = self.mui_plugin_progressbar;\n\t\t\t\tif (!progressbarApi) {\n\t\t\t\t\tself.mui_plugin_progressbar = progressbarApi = {\n\t\t\t\t\t\toptions: options,\n\t\t\t\t\t\tsetOptions: function setOptions(options) {\n\t\t\t\t\t\t\tthis.options = options;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshow: function show() {\n\t\t\t\t\t\t\treturn showProgressbar(self, this.options.progress, this.options.color);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetProgress: function setProgress(progress) {\n\t\t\t\t\t\t\treturn setProgressbar(self, progress);\n\t\t\t\t\t\t},\n\t\t\t\t\t\thide: function hide() {\n\t\t\t\t\t\t\treturn hideProgressbar(self);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t} else if (options) {\n\t\t\t\t\tprogressbarApi.setOptions(options);\n\t\t\t\t}\n\t\t\t\tprogressbarApis.push(progressbarApi);\n\t\t\t});\n\t\t\treturn progressbarApis.length === 1 ? progressbarApis[0] : progressbarApis;\n\t\t};\n\t})(mui, document);\n\t\n\t(function ($, window, document) {\n\t\tvar CLASS_ICON = 'mui-icon';\n\t\tvar CLASS_ICON_CLEAR = 'mui-icon-clear';\n\t\tvar CLASS_ICON_SPEECH = 'mui-icon-speech';\n\t\tvar CLASS_ICON_SEARCH = 'mui-icon-search';\n\t\tvar CLASS_ICON_PASSWORD = 'mui-icon-eye';\n\t\tvar CLASS_INPUT_ROW = 'mui-input-row';\n\t\tvar CLASS_PLACEHOLDER = 'mui-placeholder';\n\t\tvar CLASS_TOOLTIP = 'mui-tooltip';\n\t\tvar CLASS_HIDDEN = 'mui-hidden';\n\t\tvar CLASS_FOCUSIN = 'mui-focusin';\n\t\tvar SELECTOR_ICON_CLOSE = '.' + CLASS_ICON_CLEAR;\n\t\tvar SELECTOR_ICON_SPEECH = '.' + CLASS_ICON_SPEECH;\n\t\tvar SELECTOR_ICON_PASSWORD = '.' + CLASS_ICON_PASSWORD;\n\t\tvar SELECTOR_PLACEHOLDER = '.' + CLASS_PLACEHOLDER;\n\t\tvar SELECTOR_TOOLTIP = '.' + CLASS_TOOLTIP;\n\t\n\t\tvar findRow = function findRow(target) {\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tif (target.classList && target.classList.contains(CLASS_INPUT_ROW)) {\n\t\t\t\t\treturn target;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tvar Input = function Input(element, options) {\n\t\t\tthis.element = element;\n\t\t\tthis.options = options || {\n\t\t\t\tactions: 'clear'\n\t\t\t};\n\t\t\tif (~this.options.actions.indexOf('slider')) {\n\t\t\t\tthis.sliderActionClass = CLASS_TOOLTIP + ' ' + CLASS_HIDDEN;\n\t\t\t\tthis.sliderActionSelector = SELECTOR_TOOLTIP;\n\t\t\t} else {\n\t\t\t\tif (~this.options.actions.indexOf('clear')) {\n\t\t\t\t\tthis.clearActionClass = CLASS_ICON + ' ' + CLASS_ICON_CLEAR + ' ' + CLASS_HIDDEN;\n\t\t\t\t\tthis.clearActionSelector = SELECTOR_ICON_CLOSE;\n\t\t\t\t}\n\t\t\t\tif (~this.options.actions.indexOf('speech')) {\n\t\t\t\t\tthis.speechActionClass = CLASS_ICON + ' ' + CLASS_ICON_SPEECH;\n\t\t\t\t\tthis.speechActionSelector = SELECTOR_ICON_SPEECH;\n\t\t\t\t}\n\t\t\t\tif (~this.options.actions.indexOf('search')) {\n\t\t\t\t\tthis.searchActionClass = CLASS_PLACEHOLDER;\n\t\t\t\t\tthis.searchActionSelector = SELECTOR_PLACEHOLDER;\n\t\t\t\t}\n\t\t\t\tif (~this.options.actions.indexOf('password')) {\n\t\t\t\t\tthis.passwordActionClass = CLASS_ICON + ' ' + CLASS_ICON_PASSWORD;\n\t\t\t\t\tthis.passwordActionSelector = SELECTOR_ICON_PASSWORD;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.init();\n\t\t};\n\t\tInput.prototype.init = function () {\n\t\t\tthis.initAction();\n\t\t\tthis.initElementEvent();\n\t\t};\n\t\tInput.prototype.initAction = function () {\n\t\t\tvar self = this;\n\t\n\t\t\tvar row = self.element.parentNode;\n\t\t\tif (row) {\n\t\t\t\tif (self.sliderActionClass) {\n\t\t\t\t\tself.sliderAction = self.createAction(row, self.sliderActionClass, self.sliderActionSelector);\n\t\t\t\t} else {\n\t\t\t\t\tif (self.searchActionClass) {\n\t\t\t\t\t\tself.searchAction = self.createAction(row, self.searchActionClass, self.searchActionSelector);\n\t\t\t\t\t\tself.searchAction.addEventListener('tap', function (e) {\n\t\t\t\t\t\t\t$.focus(self.element);\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (self.speechActionClass) {\n\t\t\t\t\t\tself.speechAction = self.createAction(row, self.speechActionClass, self.speechActionSelector);\n\t\t\t\t\t\tself.speechAction.addEventListener('click', $.stopPropagation);\n\t\t\t\t\t\tself.speechAction.addEventListener('tap', function (event) {\n\t\t\t\t\t\t\tself.speechActionClick(event);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (self.clearActionClass) {\n\t\t\t\t\t\tself.clearAction = self.createAction(row, self.clearActionClass, self.clearActionSelector);\n\t\t\t\t\t\tself.clearAction.addEventListener('tap', function (event) {\n\t\t\t\t\t\t\tself.clearActionClick(event);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (self.passwordActionClass) {\n\t\t\t\t\t\tself.passwordAction = self.createAction(row, self.passwordActionClass, self.passwordActionSelector);\n\t\t\t\t\t\tself.passwordAction.addEventListener('tap', function (event) {\n\t\t\t\t\t\t\tself.passwordActionClick(event);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tInput.prototype.createAction = function (row, actionClass, actionSelector) {\n\t\t\tvar action = row.querySelector(actionSelector);\n\t\t\tif (!action) {\n\t\t\t\tvar action = document.createElement('span');\n\t\t\t\taction.className = actionClass;\n\t\t\t\tif (actionClass === this.searchActionClass) {\n\t\t\t\t\taction.innerHTML = '<span class=\"' + CLASS_ICON + ' ' + CLASS_ICON_SEARCH + '\"></span><span>' + this.element.getAttribute('placeholder') + '</span>';\n\t\t\t\t\tthis.element.setAttribute('placeholder', '');\n\t\t\t\t\tif (this.element.value.trim()) {\n\t\t\t\t\t\trow.classList.add('mui-active');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trow.insertBefore(action, this.element.nextSibling);\n\t\t\t}\n\t\t\treturn action;\n\t\t};\n\t\tInput.prototype.initElementEvent = function () {\n\t\t\tvar element = this.element;\n\t\n\t\t\tif (this.sliderActionClass) {\n\t\t\t\tvar tooltip = this.sliderAction;\n\t\t\t\tvar timer = null;\n\t\t\t\tvar showTip = function showTip() {\n\t\t\t\t\ttooltip.classList.remove(CLASS_HIDDEN);\n\t\t\t\t\tvar offsetLeft = element.offsetLeft;\n\t\t\t\t\tvar width = element.offsetWidth - 28;\n\t\t\t\t\tvar tooltipWidth = tooltip.offsetWidth;\n\t\t\t\t\tvar distince = Math.abs(element.max - element.min);\n\t\t\t\t\tvar scaleWidth = width / distince * Math.abs(element.value - element.min);\n\t\t\t\t\ttooltip.style.left = 14 + offsetLeft + scaleWidth - tooltipWidth / 2 + 'px';\n\t\t\t\t\ttooltip.innerText = element.value;\n\t\t\t\t\tif (timer) {\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t}\n\t\t\t\t\ttimer = setTimeout(function () {\n\t\t\t\t\t\ttooltip.classList.add(CLASS_HIDDEN);\n\t\t\t\t\t}, 1000);\n\t\t\t\t};\n\t\t\t\telement.addEventListener('input', showTip);\n\t\t\t\telement.addEventListener('tap', showTip);\n\t\t\t\telement.addEventListener($.EVENT_MOVE, function (e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (this.clearActionClass) {\n\t\t\t\t\tvar action = this.clearAction;\n\t\t\t\t\tif (!action) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$.each(['keyup', 'change', 'input', 'focus', 'cut', 'paste'], function (index, type) {\n\t\t\t\t\t\t(function (type) {\n\t\t\t\t\t\t\telement.addEventListener(type, function () {\n\t\t\t\t\t\t\t\taction.classList[element.value.trim() ? 'remove' : 'add'](CLASS_HIDDEN);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})(type);\n\t\t\t\t\t});\n\t\t\t\t\telement.addEventListener('blur', function () {\n\t\t\t\t\t\taction.classList.add(CLASS_HIDDEN);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.searchActionClass) {\n\t\t\t\t\telement.addEventListener('focus', function () {\n\t\t\t\t\t\telement.parentNode.classList.add('mui-active');\n\t\t\t\t\t});\n\t\t\t\t\telement.addEventListener('blur', function () {\n\t\t\t\t\t\tif (!element.value.trim()) {\n\t\t\t\t\t\t\telement.parentNode.classList.remove('mui-active');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tInput.prototype.setPlaceholder = function (text) {\n\t\t\tif (this.searchActionClass) {\n\t\t\t\tvar placeholder = this.element.parentNode.querySelector(SELECTOR_PLACEHOLDER);\n\t\t\t\tplaceholder && (placeholder.getElementsByTagName('span')[1].innerText = text);\n\t\t\t} else {\n\t\t\t\tthis.element.setAttribute('placeholder', text);\n\t\t\t}\n\t\t};\n\t\tInput.prototype.passwordActionClick = function (event) {\n\t\t\tif (this.element.type === 'text') {\n\t\t\t\tthis.element.type = 'password';\n\t\t\t} else {\n\t\t\t\tthis.element.type = 'text';\n\t\t\t}\n\t\t\tthis.passwordAction.classList.toggle('mui-active');\n\t\t\tevent.preventDefault();\n\t\t};\n\t\tInput.prototype.clearActionClick = function (event) {\n\t\t\tvar self = this;\n\t\t\tself.element.value = '';\n\t\t\t$.focus(self.element);\n\t\t\tself.clearAction.classList.add(CLASS_HIDDEN);\n\t\t\tevent.preventDefault();\n\t\t};\n\t\tInput.prototype.speechActionClick = function (event) {\n\t\t\tif (window.plus) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar oldValue = self.element.value;\n\t\t\t\tself.element.value = '';\n\t\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\n\t\t\t\tplus.speech.startRecognize({\n\t\t\t\t\tengine: 'iFly'\n\t\t\t\t}, function (s) {\n\t\t\t\t\tself.element.value += s;\n\t\t\t\t\t$.focus(self.element);\n\t\t\t\t\tplus.speech.stopRecognize();\n\t\t\t\t\t$.trigger(self.element, 'recognized', {\n\t\t\t\t\t\tvalue: self.element.value\n\t\t\t\t\t});\n\t\t\t\t\tif (oldValue !== self.element.value) {\n\t\t\t\t\t\t$.trigger(self.element, 'change');\n\t\t\t\t\t\t$.trigger(self.element, 'input');\n\t\t\t\t\t}\n\t\t\t\t}, function (e) {\n\t\t\t\t\tdocument.body.classList.remove(CLASS_FOCUSIN);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\talert('only for 5+');\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t};\n\t\t$.fn.input = function (options) {\n\t\t\tvar inputApis = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar inputApi = null;\n\t\t\t\tvar actions = [];\n\t\t\t\tvar row = findRow(this.parentNode);\n\t\t\t\tif (this.type === 'range' && row.classList.contains('mui-input-range')) {\n\t\t\t\t\tactions.push('slider');\n\t\t\t\t} else {\n\t\t\t\t\tvar classList = this.classList;\n\t\t\t\t\tif (classList.contains('mui-input-clear')) {\n\t\t\t\t\t\tactions.push('clear');\n\t\t\t\t\t}\n\t\t\t\t\tif (!($.os.android && $.os.stream) && classList.contains('mui-input-speech')) {\n\t\t\t\t\t\tactions.push('speech');\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains('mui-input-password')) {\n\t\t\t\t\t\tactions.push('password');\n\t\t\t\t\t}\n\t\t\t\t\tif (this.type === 'search' && row.classList.contains('mui-search')) {\n\t\t\t\t\t\tactions.push('search');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar id = this.getAttribute('data-input-' + actions[0]);\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\tinputApi = $.data[id] = new Input(this, {\n\t\t\t\t\t\tactions: actions.join(',')\n\t\t\t\t\t});\n\t\t\t\t\tfor (var i = 0, len = actions.length; i < len; i++) {\n\t\t\t\t\t\tthis.setAttribute('data-input-' + actions[i], id);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinputApi = $.data[id];\n\t\t\t\t}\n\t\t\t\tinputApis.push(inputApi);\n\t\t\t});\n\t\t\treturn inputApis.length === 1 ? inputApis[0] : inputApis;\n\t\t};\n\t\t$.ready(function () {\n\t\t\t$('.mui-input-row input').input();\n\t\t});\n\t})(mui, window, document);\n\t(function ($, window) {\n\t\tvar CLASS_ACTIVE = 'mui-active';\n\t\tvar rgbaRegex = /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d*(?:\\.\\d+)?)\\)$/;\n\t\tvar getColor = function getColor(colorStr) {\n\t\t\tvar matches = colorStr.match(rgbaRegex);\n\t\t\tif (matches && matches.length === 5) {\n\t\t\t\treturn [matches[1], matches[2], matches[3], matches[4]];\n\t\t\t}\n\t\t\treturn [];\n\t\t};\n\t\tvar Transparent = function Transparent(element, options) {\n\t\t\tthis.element = element;\n\t\t\tthis.options = $.extend({\n\t\t\t\ttop: 0,\n\t\t\t\toffset: 150,\n\t\t\t\tduration: 16,\n\t\t\t\tscrollby: window\n\t\t\t}, options || {});\n\t\n\t\t\tthis.scrollByElem = this.options.scrollby || window;\n\t\t\tif (!this.scrollByElem) {\n\t\t\t\tthrow new Error(\"监听滚动的元素不存在\");\n\t\t\t}\n\t\t\tthis.isNativeScroll = false;\n\t\t\tif (this.scrollByElem === window) {\n\t\t\t\tthis.isNativeScroll = true;\n\t\t\t} else if (!~this.scrollByElem.className.indexOf('mui-scroll-wrapper')) {\n\t\t\t\tthis.isNativeScroll = true;\n\t\t\t}\n\t\n\t\t\tthis._style = this.element.style;\n\t\t\tthis._bgColor = this._style.backgroundColor;\n\t\t\tvar color = getColor(mui.getStyles(this.element, 'backgroundColor'));\n\t\t\tif (color.length) {\n\t\t\t\tthis._R = color[0];\n\t\t\t\tthis._G = color[1];\n\t\t\t\tthis._B = color[2];\n\t\t\t\tthis._A = parseFloat(color[3]);\n\t\t\t\tthis.lastOpacity = this._A;\n\t\t\t\tthis._bufferFn = $.buffer(this.handleScroll, this.options.duration, this);\n\t\t\t\tthis.initEvent();\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"元素背景颜色必须为RGBA\");\n\t\t\t}\n\t\t};\n\t\n\t\tTransparent.prototype.initEvent = function () {\n\t\t\tthis.scrollByElem.addEventListener('scroll', this._bufferFn);\n\t\t\tif (this.isNativeScroll) {\n\t\t\t\tthis.scrollByElem.addEventListener($.EVENT_MOVE, this._bufferFn);\n\t\t\t}\n\t\t};\n\t\tTransparent.prototype.handleScroll = function (e) {\n\t\t\tvar y = window.scrollY;\n\t\t\tif (!this.isNativeScroll && e && e.detail) {\n\t\t\t\ty = -e.detail.y;\n\t\t\t}\n\t\t\tvar opacity = (y - this.options.top) / this.options.offset + this._A;\n\t\t\topacity = Math.min(Math.max(this._A, opacity), 1);\n\t\t\tthis._style.backgroundColor = 'rgba(' + this._R + ',' + this._G + ',' + this._B + ',' + opacity + ')';\n\t\t\tif (opacity > this._A) {\n\t\t\t\tthis.element.classList.add(CLASS_ACTIVE);\n\t\t\t} else {\n\t\t\t\tthis.element.classList.remove(CLASS_ACTIVE);\n\t\t\t}\n\t\t\tif (this.lastOpacity !== opacity) {\n\t\t\t\t$.trigger(this.element, 'alpha', {\n\t\t\t\t\talpha: opacity\n\t\t\t\t});\n\t\t\t\tthis.lastOpacity = opacity;\n\t\t\t}\n\t\t};\n\t\tTransparent.prototype.destory = function () {\n\t\t\tthis.scrollByElem.removeEventListener('scroll', this._bufferFn);\n\t\t\tthis.scrollByElem.removeEventListener($.EVENT_MOVE, this._bufferFn);\n\t\t\tthis.element.style.backgroundColor = this._bgColor;\n\t\t\tthis.element.mui_plugin_transparent = null;\n\t\t};\n\t\t$.fn.transparent = function (options) {\n\t\t\toptions = options || {};\n\t\t\tvar transparentApis = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar transparentApi = this.mui_plugin_transparent;\n\t\t\t\tif (!transparentApi) {\n\t\t\t\t\tvar top = this.getAttribute('data-top');\n\t\t\t\t\tvar offset = this.getAttribute('data-offset');\n\t\t\t\t\tvar duration = this.getAttribute('data-duration');\n\t\t\t\t\tvar scrollby = this.getAttribute('data-scrollby');\n\t\t\t\t\tif (top !== null && typeof options.top === 'undefined') {\n\t\t\t\t\t\toptions.top = top;\n\t\t\t\t\t}\n\t\t\t\t\tif (offset !== null && typeof options.offset === 'undefined') {\n\t\t\t\t\t\toptions.offset = offset;\n\t\t\t\t\t}\n\t\t\t\t\tif (duration !== null && typeof options.duration === 'undefined') {\n\t\t\t\t\t\toptions.duration = duration;\n\t\t\t\t\t}\n\t\t\t\t\tif (scrollby !== null && typeof options.scrollby === 'undefined') {\n\t\t\t\t\t\toptions.scrollby = document.querySelector(scrollby) || window;\n\t\t\t\t\t}\n\t\t\t\t\ttransparentApi = this.mui_plugin_transparent = new Transparent(this, options);\n\t\t\t\t}\n\t\t\t\ttransparentApis.push(transparentApi);\n\t\t\t});\n\t\t\treturn transparentApis.length === 1 ? transparentApis[0] : transparentApis;\n\t\t};\n\t\t$.ready(function () {\n\t\t\t$('.mui-bar-transparent').transparent();\n\t\t});\n\t})(mui, window);\n\t\n\t\n\t(function ($) {\n\t\n\t\tvar touchSupport = 'ontouchstart' in document;\n\t\tvar tapEventName = touchSupport ? 'tap' : 'click';\n\t\tvar changeEventName = 'change';\n\t\tvar holderClassName = 'mui-numbox';\n\t\tvar plusClassSelector = '.mui-btn-numbox-plus,.mui-numbox-btn-plus';\n\t\tvar minusClassSelector = '.mui-btn-numbox-minus,.mui-numbox-btn-minus';\n\t\tvar inputClassSelector = '.mui-input-numbox,.mui-numbox-input';\n\t\n\t\tvar Numbox = $.Numbox = $.Class.extend({\n\t\t\tinit: function init(holder, options) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!holder) {\n\t\t\t\t\tthrow \"构造 numbox 时缺少容器元素\";\n\t\t\t\t}\n\t\t\t\tself.holder = holder;\n\t\t\t\toptions = options || {};\n\t\t\t\toptions.step = parseInt(options.step || 1);\n\t\t\t\tself.options = options;\n\t\t\t\tself.input = $.qsa(inputClassSelector, self.holder)[0];\n\t\t\t\tself.plus = $.qsa(plusClassSelector, self.holder)[0];\n\t\t\t\tself.minus = $.qsa(minusClassSelector, self.holder)[0];\n\t\t\t\tself.checkValue();\n\t\t\t\tself.initEvent();\n\t\t\t},\n\t\n\t\t\tinitEvent: function initEvent() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.plus.addEventListener(tapEventName, function (event) {\n\t\t\t\t\tvar val = parseInt(self.input.value) + self.options.step;\n\t\t\t\t\tself.input.value = val.toString();\n\t\t\t\t\t$.trigger(self.input, changeEventName, null);\n\t\t\t\t});\n\t\t\t\tself.minus.addEventListener(tapEventName, function (event) {\n\t\t\t\t\tvar val = parseInt(self.input.value) - self.options.step;\n\t\t\t\t\tself.input.value = val.toString();\n\t\t\t\t\t$.trigger(self.input, changeEventName, null);\n\t\t\t\t});\n\t\t\t\tself.input.addEventListener(changeEventName, function (event) {\n\t\t\t\t\tself.checkValue();\n\t\t\t\t\tvar val = parseInt(self.input.value);\n\t\n\t\t\t\t\t$.trigger(self.holder, changeEventName, {\n\t\t\t\t\t\tvalue: val\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\n\t\t\tgetValue: function getValue() {\n\t\t\t\tvar self = this;\n\t\t\t\treturn parseInt(self.input.value);\n\t\t\t},\n\t\n\t\t\tcheckValue: function checkValue() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar val = self.input.value;\n\t\t\t\tif (val == null || val == '' || isNaN(val)) {\n\t\t\t\t\tself.input.value = self.options.min || 0;\n\t\t\t\t\tself.minus.disabled = self.options.min != null;\n\t\t\t\t} else {\n\t\t\t\t\tvar val = parseInt(val);\n\t\t\t\t\tif (self.options.max != null && !isNaN(self.options.max) && val >= parseInt(self.options.max)) {\n\t\t\t\t\t\tval = self.options.max;\n\t\t\t\t\t\tself.plus.disabled = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.plus.disabled = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (self.options.min != null && !isNaN(self.options.min) && val <= parseInt(self.options.min)) {\n\t\t\t\t\t\tval = self.options.min;\n\t\t\t\t\t\tself.minus.disabled = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.minus.disabled = false;\n\t\t\t\t\t}\n\t\t\t\t\tself.input.value = val;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tsetOption: function setOption(name, value) {\n\t\t\t\tvar self = this;\n\t\t\t\tself.options[name] = value;\n\t\t\t},\n\t\n\t\t\tsetValue: function setValue(value) {\n\t\t\t\tthis.input.value = value;\n\t\t\t\tthis.checkValue();\n\t\t\t}\n\t\t});\n\t\n\t\t$.fn.numbox = function (options) {\n\t\t\tvar instanceArray = [];\n\t\n\t\t\tthis.each(function (i, element) {\n\t\t\t\tif (element.numbox) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (options) {\n\t\t\t\t\telement.numbox = new Numbox(element, options);\n\t\t\t\t} else {\n\t\t\t\t\tvar optionsText = element.getAttribute('data-numbox-options');\n\t\t\t\t\tvar options = optionsText ? JSON.parse(optionsText) : {};\n\t\t\t\t\toptions.step = element.getAttribute('data-numbox-step') || options.step;\n\t\t\t\t\toptions.min = element.getAttribute('data-numbox-min') || options.min;\n\t\t\t\t\toptions.max = element.getAttribute('data-numbox-max') || options.max;\n\t\t\t\t\telement.numbox = new Numbox(element, options);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this[0] ? this[0].numbox : null;\n\t\t};\n\t\n\t\t$.ready(function () {\n\t\t\t$('.' + holderClassName).numbox();\n\t\t});\n\t})(mui);\n\t\n\t(function ($, window, document) {\n\t\tvar CLASS_ICON = 'mui-icon';\n\t\tvar CLASS_DISABLED = 'mui-disabled';\n\t\n\t\tvar STATE_RESET = 'reset';\n\t\tvar STATE_LOADING = 'loading';\n\t\n\t\tvar defaultOptions = {\n\t\t\tloadingText: 'Loading...',\n\t\t\tloadingIcon: 'mui-spinner' + ' ' + 'mui-spinner-white',\n\t\t\tloadingIconPosition: 'left' };\n\t\n\t\tvar Button = function Button(element, options) {\n\t\t\tthis.element = element;\n\t\t\tthis.options = $.extend({}, defaultOptions, options);\n\t\t\tif (!this.options.loadingText) {\n\t\t\t\tthis.options.loadingText = defaultOptions.loadingText;\n\t\t\t}\n\t\t\tif (this.options.loadingIcon === null) {\n\t\t\t\tthis.options.loadingIcon = 'mui-spinner';\n\t\t\t\tif ($.getStyles(this.element, 'color') === 'rgb(255, 255, 255)') {\n\t\t\t\t\tthis.options.loadingIcon += ' ' + 'mui-spinner-white';\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.isInput = this.element.tagName === 'INPUT';\n\t\t\tthis.resetHTML = this.isInput ? this.element.value : this.element.innerHTML;\n\t\t\tthis.state = '';\n\t\t};\n\t\tButton.prototype.loading = function () {\n\t\t\tthis.setState(STATE_LOADING);\n\t\t};\n\t\tButton.prototype.reset = function () {\n\t\t\tthis.setState(STATE_RESET);\n\t\t};\n\t\tButton.prototype.setState = function (state) {\n\t\t\tif (this.state === state) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.state = state;\n\t\t\tif (state === STATE_RESET) {\n\t\t\t\tthis.element.disabled = false;\n\t\t\t\tthis.element.classList.remove(CLASS_DISABLED);\n\t\t\t\tthis.setHtml(this.resetHTML);\n\t\t\t} else if (state === STATE_LOADING) {\n\t\t\t\tthis.element.disabled = true;\n\t\t\t\tthis.element.classList.add(CLASS_DISABLED);\n\t\t\t\tvar html = this.isInput ? this.options.loadingText : '<span>' + this.options.loadingText + '</span>';\n\t\t\t\tif (this.options.loadingIcon && !this.isInput) {\n\t\t\t\t\tif (this.options.loadingIconPosition === 'right') {\n\t\t\t\t\t\thtml += '&nbsp;<span class=\"' + this.options.loadingIcon + '\"></span>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<span class=\"' + this.options.loadingIcon + '\"></span>&nbsp;' + html;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.setHtml(html);\n\t\t\t}\n\t\t};\n\t\tButton.prototype.setHtml = function (html) {\n\t\t\tif (this.isInput) {\n\t\t\t\tthis.element.value = html;\n\t\t\t} else {\n\t\t\t\tthis.element.innerHTML = html;\n\t\t\t}\n\t\t};\n\t\t$.fn.button = function (state) {\n\t\t\tvar buttonApis = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar buttonApi = this.mui_plugin_button;\n\t\t\t\tif (!buttonApi) {\n\t\t\t\t\tvar loadingText = this.getAttribute('data-loading-text');\n\t\t\t\t\tvar loadingIcon = this.getAttribute('data-loading-icon');\n\t\t\t\t\tvar loadingIconPosition = this.getAttribute('data-loading-icon-position');\n\t\t\t\t\tthis.mui_plugin_button = buttonApi = new Button(this, {\n\t\t\t\t\t\tloadingText: loadingText,\n\t\t\t\t\t\tloadingIcon: loadingIcon,\n\t\t\t\t\t\tloadingIconPosition: loadingIconPosition\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (state === STATE_LOADING || state === STATE_RESET) {\n\t\t\t\t\tbuttonApi.setState(state);\n\t\t\t\t}\n\t\t\t\tbuttonApis.push(buttonApi);\n\t\t\t});\n\t\t\treturn buttonApis.length === 1 ? buttonApis[0] : buttonApis;\n\t\t};\n\t})(mui, window, document);\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(103);\n\t\n\tvar _mui = __webpack_require__(1);\n\t\n\tvar _mui2 = _interopRequireDefault(_mui);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_mui2.default.ready(function () {\n\t\t(0, _mui2.default)(document).on('tap', '#_xinlv', function () {\n\t\t\tthis.className = 'active';\n\t\t\t(0, _mui2.default)('#_jibu')[0].className = '';\n\t\t\t(0, _mui2.default)('#_xueya')[0].className = '';\n\t\t\t(0, _mui2.default)('#_xinlv1')[0].className = 'healthList';\n\t\t\t(0, _mui2.default)('#_jibu1')[0].className = 'healthList none';\n\t\t\t(0, _mui2.default)('#_xueya1')[0].className = 'healthList none';\n\t\t});\n\t\t(0, _mui2.default)(document).on('tap', '#_jibu', function () {\n\t\t\tthis.className = 'active';\n\t\t\t(0, _mui2.default)('#_xinlv')[0].className = '';\n\t\t\t(0, _mui2.default)('#_xueya')[0].className = '';\n\t\t\t(0, _mui2.default)('#_xinlv1')[0].className = 'healthList none';\n\t\t\t(0, _mui2.default)('#_jibu1')[0].className = 'healthList';\n\t\t\t(0, _mui2.default)('#_xueya1')[0].className = 'healthList none';\n\t\t});\n\t\t(0, _mui2.default)(document).on('tap', '#_xueya', function () {\n\t\t\tthis.className = 'active';\n\t\t\t(0, _mui2.default)('#_jibu')[0].className = '';\n\t\t\t(0, _mui2.default)('#_xinlv')[0].className = '';\n\t\t\t(0, _mui2.default)('#_xinlv1')[0].className = 'healthList none';\n\t\t\t(0, _mui2.default)('#_jibu1')[0].className = 'healthList none';\n\t\t\t(0, _mui2.default)('#_xueya1')[0].className = 'healthList';\n\t\t});\n\t\n\t\t(0, _mui2.default)(document).on('tap', '.watchList_item', function () {\n\t\t\t(0, _mui2.default)('.watchList_item').each(function (index, value) {\n\t\t\t\tvalue.className = 'watchList_item';\n\t\t\t});\n\t\t\tthis.className = 'watchList_item active';\n\t\t});\n\t});\n\texports.default = {\n\t\tname: 'app',\n\t\tdata: function data() {\n\t\t\treturn {\n\t\t\t\tisMore: false,\n\t\t\t\timg: {}\n\t\t\t};\n\t\t},\n\t\n\t\tmethods: {\n\t\t\tMore: function More() {\n\t\t\t\treturn this.isMore = !this.isMore;\n\t\t\t}\n\t\t}\n\t};\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(97)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(53)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(116)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"mui-content\",\n\t    attrs: {\n\t      \"id\": \"muiContent\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"watchList\"\n\t  }, [_vm._m(2), _vm._v(\" \"), _vm._m(3), _vm._v(\" \"), _vm._m(4), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"more\"\n\t  }, [_c('a', {\n\t    staticClass: \"iconfont\",\n\t    attrs: {\n\t      \"href\": \"javascript:void(0)\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.More\n\t    }\n\t  }, [_vm._v(\"\")]), _vm._v(\" \"), (_vm.isMore) ? _c('div', {\n\t    staticClass: \"isMore\"\n\t  }, [_vm._m(5), _vm._v(\" \"), _vm._m(6), _vm._v(\" \"), _vm._m(7)]) : _vm._e()])]), _vm._v(\" \"), _vm._m(8), _vm._v(\" \"), _vm._m(9)])])\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('header', {\n\t    staticClass: \"header mui-bar mui-bar-nav\"\n\t  }, [_c('a', {\n\t    staticClass: \"mui-action-back iconfont mui-pull-left\"\n\t  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('h1', {\n\t    staticClass: \"mui-title\"\n\t  }, [_vm._v(\"健康管理\")])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('nav', {\n\t    staticClass: \"mui-bar mui-bar-tab footer\"\n\t  }, [_c('a', {\n\t    staticClass: \"mui-tab-item\",\n\t    attrs: {\n\t      \"id\": \"goHome\",\n\t      \"href\": \"javascript:void(0)\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"iconfont\"\n\t  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', {}, [_vm._v(\"线上诊室\")])]), _vm._v(\" \"), _c('a', {\n\t    staticClass: \"mui-tab-item\",\n\t    attrs: {\n\t      \"id\": \"chart\",\n\t      \"href\": \"javascript:void(0)\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"iconfont\"\n\t  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', {}, [_vm._v(\"健康档案\")])])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"watchList_item active\"\n\t  }, [_c('a', {\n\t    attrs: {\n\t      \"href\": \"javascript:void(0)\"\n\t    }\n\t  }, [_vm._v(\"自己手表\")])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"watchList_item\"\n\t  }, [_c('a', {\n\t    attrs: {\n\t      \"href\": \"javascript:void(0)\"\n\t    }\n\t  }, [_vm._v(\"妈妈手表\")])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"watchList_item\"\n\t  }, [_c('a', {\n\t    attrs: {\n\t      \"href\": \"javascript:void(0)\"\n\t    }\n\t  }, [_vm._v(\"爸爸手表\")])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"watchList_item active\"\n\t  }, [_c('a', {\n\t    attrs: {\n\t      \"href\": \"javascript:void(0)\"\n\t    }\n\t  }, [_vm._v(\"自己手表\")])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"watchList_item\"\n\t  }, [_c('a', {\n\t    attrs: {\n\t      \"href\": \"javascript:void(0)\"\n\t    }\n\t  }, [_vm._v(\"自己手表\")])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"watchList_item\"\n\t  }, [_c('a', {\n\t    attrs: {\n\t      \"href\": \"javascript:void(0)\"\n\t    }\n\t  }, [_vm._v(\"自己手表\")])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"health\"\n\t  }, [_c('div', {\n\t    staticClass: \"healthList\",\n\t    attrs: {\n\t      \"id\": \"_xinlv1\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"healthList_top_wrap\"\n\t  }, [_c('div', {\n\t    staticClass: \"healthList_top\"\n\t  }, [_c('div', {\n\t    staticClass: \"div_1\"\n\t  }, [_c('a', {\n\t    staticClass: \"iconfont\",\n\t    attrs: {\n\t      \"href\": \"javascript:void(0);\"\n\t    }\n\t  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"div_2\"\n\t  }, [_c('p', {\n\t    staticClass: \"p_1\"\n\t  }, [_vm._v(\"心率\"), _c('span', {\n\t    staticClass: \"iconfont\"\n\t  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('p', {\n\t    staticClass: \"p_2\"\n\t  }, [_vm._v(\"bpm(次/分钟)\")])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"div_3\"\n\t  }, [_c('p', {\n\t    staticClass: \"p_1\"\n\t  }, [_vm._v(\"2017/5/16\")]), _vm._v(\" \"), _c('p', {\n\t    staticClass: \"p_2\"\n\t  }, [_vm._v(\"查看更多\")])])])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"healthCenter\"\n\t  }, [_c('div', {\n\t    staticClass: \"healthCenter_top\"\n\t  }, [_c('span', [_vm._v(\"当前时间\")]), _vm._v(\" \"), _c('span', [_vm._v(\"心率\")])]), _vm._v(\" \"), _c('ul', [_c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])])])])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"healthList none\",\n\t    attrs: {\n\t      \"id\": \"_jibu1\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"healthList_top_wrap\"\n\t  }, [_c('div', {\n\t    staticClass: \"healthList_top\"\n\t  }, [_c('div', {\n\t    staticClass: \"div_1\"\n\t  }, [_c('a', {\n\t    staticClass: \"iconfont\",\n\t    attrs: {\n\t      \"href\": \"javascript:void(0);\"\n\t    }\n\t  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"div_2\"\n\t  }, [_c('p', {\n\t    staticClass: \"p_1\"\n\t  }, [_vm._v(\"计步\"), _c('span', {\n\t    staticClass: \"iconfont\"\n\t  }, [_vm._v(\"\")])])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"div_3\"\n\t  }, [_c('p', {\n\t    staticClass: \"p_1\"\n\t  }, [_vm._v(\"2017/5/16\")]), _vm._v(\" \"), _c('p', {\n\t    staticClass: \"p_2\"\n\t  }, [_vm._v(\"查看更多\")])])])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"healthCenter jibu\"\n\t  }, [_c('div', {\n\t    staticClass: \"healthCenter_top\"\n\t  }, [_c('span', [_vm._v(\"步数\")]), _vm._v(\" \"), _c('span', [_vm._v(\"消耗热量\")])]), _vm._v(\" \"), _c('ul', [_c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])])])])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"healthList none\",\n\t    attrs: {\n\t      \"id\": \"_xueya1\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"healthList_top_wrap\"\n\t  }, [_c('div', {\n\t    staticClass: \"healthList_top\"\n\t  }, [_c('div', {\n\t    staticClass: \"div_1\"\n\t  }, [_c('a', {\n\t    staticClass: \"iconfont\",\n\t    attrs: {\n\t      \"href\": \"javascript:void(0);\"\n\t    }\n\t  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"div_2\"\n\t  }, [_c('p', {\n\t    staticClass: \"p_1\"\n\t  }, [_vm._v(\"血压\"), _c('span', {\n\t    staticClass: \"iconfont\"\n\t  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('p', {\n\t    staticClass: \"p_2\"\n\t  }, [_vm._v(\"mmhg\")])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"div_3\"\n\t  }, [_c('p', {\n\t    staticClass: \"p_1\"\n\t  }, [_vm._v(\"2017/5/16\")]), _vm._v(\" \"), _c('p', {\n\t    staticClass: \"p_2\"\n\t  }, [_vm._v(\"查看更多\")])])])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"healthCenter\"\n\t  }, [_c('div', {\n\t    staticClass: \"healthCenter_top\"\n\t  }, [_c('span', [_vm._v(\"当前时间\")]), _vm._v(\" \"), _c('span', [_vm._v(\"心率\")])]), _vm._v(\" \"), _c('ul', [_c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])])])])])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"tabList\"\n\t  }, [_c('a', {\n\t    staticClass: \"active\",\n\t    attrs: {\n\t      \"id\": \"_xinlv\",\n\t      \"href\": \"javascript:void(0);\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"iconfont\"\n\t  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', [_vm._v(\"心率\")])]), _vm._v(\" \"), _c('a', {\n\t    attrs: {\n\t      \"id\": \"_jibu\",\n\t      \"href\": \"javascript:void(0);\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"iconfont\"\n\t  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', [_vm._v(\"计步\")])]), _vm._v(\" \"), _c('a', {\n\t    attrs: {\n\t      \"id\": \"_xueya\",\n\t      \"href\": \"javascript:void(0);\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"iconfont\"\n\t  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', [_vm._v(\"血压\")])])])\n\t}]}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/module/health.7dd16220adfa867a684c.js","import Vue from 'vue'\nimport App from './App'\n/* eslint-disable no-new */\n\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/module/health/health.js","/*!\n * =====================================================\n * Mui v3.6.0 (http://dev.dcloud.net.cn/mui)\n * =====================================================\n */\n/**\n * MUI核心JS\n * @type _L4.$|Function\n */\nvar mui = (function(document, undefined) {\n\tvar readyRE = /complete|loaded|interactive/;\n\tvar idSelectorRE = /^#([\\w-]+)$/;\n\tvar classSelectorRE = /^\\.([\\w-]+)$/;\n\tvar tagSelectorRE = /^[\\w-]+$/;\n\tvar translateRE = /translate(?:3d)?\\((.+?)\\)/;\n\tvar translateMatrixRE = /matrix(3d)?\\((.+?)\\)/;\n\n\tvar $ = function(selector, context) {\n\t\tcontext = context || document;\n\t\tif (!selector)\n\t\t\treturn wrap();\n\t\tif (typeof selector === 'object')\n\t\t\tif ($.isArrayLike(selector)) {\n\t\t\t\treturn wrap($.slice.call(selector), null);\n\t\t\t} else {\n\t\t\t\treturn wrap([selector], null);\n\t\t\t}\n\t\tif (typeof selector === 'function')\n\t\t\treturn $.ready(selector);\n\t\tif (typeof selector === 'string') {\n\t\t\ttry {\n\t\t\t\tselector = selector.trim();\n\t\t\t\tif (idSelectorRE.test(selector)) {\n\t\t\t\t\tvar found = document.getElementById(RegExp.$1);\n\t\t\t\t\treturn wrap(found ? [found] : []);\n\t\t\t\t}\n\t\t\t\treturn wrap($.qsa(selector, context), selector);\n\t\t\t} catch (e) {}\n\t\t}\n\t\treturn wrap();\n\t};\n\n\tvar wrap = function(dom, selector) {\n\t\tdom = dom || [];\n\t\tObject.setPrototypeOf(dom, $.fn);\n\t\tdom.selector = selector || '';\n\t\treturn dom;\n\t};\n\n\t$.uuid = 0;\n\n\t$.data = {};\n\t/**\n\t * extend(simple)\n\t * @param {type} target\n\t * @param {type} source\n\t * @param {type} deep\n\t * @returns {unresolved}\n\t */\n\t$.extend = function() { //from jquery2\n\t\tvar options, name, src, copy, copyIsArray, clone,\n\t\t\ttarget = arguments[0] || {},\n\t\t\ti = 1,\n\t\t\tlength = arguments.length,\n\t\t\tdeep = false;\n\n\t\tif (typeof target === \"boolean\") {\n\t\t\tdeep = target;\n\n\t\t\ttarget = arguments[i] || {};\n\t\t\ti++;\n\t\t}\n\n\t\tif (typeof target !== \"object\" && !$.isFunction(target)) {\n\t\t\ttarget = {};\n\t\t}\n\n\t\tif (i === length) {\n\t\t\ttarget = this;\n\t\t\ti--;\n\t\t}\n\n\t\tfor (; i < length; i++) {\n\t\t\tif ((options = arguments[i]) != null) {\n\t\t\t\tfor (name in options) {\n\t\t\t\t\tsrc = target[name];\n\t\t\t\t\tcopy = options[name];\n\n\t\t\t\t\tif (target === copy) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (deep && copy && ($.isPlainObject(copy) || (copyIsArray = $.isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && $.isArray(src) ? src : [];\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && $.isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget[name] = $.extend(deep, clone, copy);\n\n\t\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn target;\n\t};\n\t/**\n\t * mui noop(function)\n\t */\n\t$.noop = function() {};\n\t/**\n\t * mui slice(array)\n\t */\n\t$.slice = [].slice;\n\t/**\n\t * mui filter(array)\n\t */\n\t$.filter = [].filter;\n\n\t$.type = function(obj) {\n\t\treturn obj == null ? String(obj) : class2type[{}.toString.call(obj)] || \"object\";\n\t};\n\t/**\n\t * mui isArray\n\t */\n\t$.isArray = Array.isArray ||\n\t\tfunction(object) {\n\t\t\treturn object instanceof Array;\n\t\t};\n\t/**\n\t * mui isArrayLike \n\t * @param {Object} obj\n\t */\n\t$.isArrayLike = function(obj) {\n\t\tvar length = !!obj && \"length\" in obj && obj.length;\n\t\tvar type = $.type(obj);\n\t\tif (type === \"function\" || $.isWindow(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn type === \"array\" || length === 0 ||\n\t\t\ttypeof length === \"number\" && length > 0 && (length - 1) in obj;\n\t};\n\t/**\n\t * mui isWindow(需考虑obj为undefined的情况)\n\t */\n\t$.isWindow = function(obj) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\t/**\n\t * mui isObject\n\t */\n\t$.isObject = function(obj) {\n\t\treturn $.type(obj) === \"object\";\n\t};\n\t/**\n\t * mui isPlainObject\n\t */\n\t$.isPlainObject = function(obj) {\n\t\treturn $.isObject(obj) && !$.isWindow(obj) && Object.getPrototypeOf(obj) === Object.prototype;\n\t};\n\t/**\n\t * mui isEmptyObject\n\t * @param {Object} o\n\t */\n\t$.isEmptyObject = function(o) {\n\t\tfor (var p in o) {\n\t\t\tif (p !== undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\t/**\n\t * mui isFunction\n\t */\n\t$.isFunction = function(value) {\n\t\treturn $.type(value) === \"function\";\n\t};\n\t/**\n\t * mui querySelectorAll\n\t * @param {type} selector\n\t * @param {type} context\n\t * @returns {Array}\n\t */\n\t$.qsa = function(selector, context) {\n\t\tcontext = context || document;\n\t\treturn $.slice.call(classSelectorRE.test(selector) ? context.getElementsByClassName(RegExp.$1) : tagSelectorRE.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector));\n\t};\n\t/**\n\t * ready(DOMContentLoaded)\n\t * @param {type} callback\n\t * @returns {_L6.$}\n\t */\n\t$.ready = function(callback) {\n\t\tif (readyRE.test(document.readyState)) {\n\t\t\tcallback($);\n\t\t} else {\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\t\tcallback($);\n\t\t\t}, false);\n\t\t}\n\t\treturn this;\n\t};\n\t/**\n\t * 将 fn 缓存一段时间后, 再被调用执行\n\t * 此方法为了避免在 ms 段时间内, 执行 fn 多次. 常用于 resize , scroll , mousemove 等连续性事件中;\n\t * 当 ms 设置为 -1, 表示立即执行 fn, 即和直接调用 fn 一样;\n\t * 调用返回函数的 stop 停止最后一次的 buffer 效果\n\t * @param {Object} fn\n\t * @param {Object} ms\n\t * @param {Object} context\n\t */\n\t$.buffer = function(fn, ms, context) {\n\t\tvar timer;\n\t\tvar lastStart = 0;\n\t\tvar lastEnd = 0;\n\t\tvar ms = ms || 150;\n\n\t\tfunction run() {\n\t\t\tif (timer) {\n\t\t\t\ttimer.cancel();\n\t\t\t\ttimer = 0;\n\t\t\t}\n\t\t\tlastStart = $.now();\n\t\t\tfn.apply(context || this, arguments);\n\t\t\tlastEnd = $.now();\n\t\t}\n\n\t\treturn $.extend(function() {\n\t\t\tif (\n\t\t\t\t(!lastStart) || // 从未运行过\n\t\t\t\t(lastEnd >= lastStart && $.now() - lastEnd > ms) || // 上次运行成功后已经超过ms毫秒\n\t\t\t\t(lastEnd < lastStart && $.now() - lastStart > ms * 8) // 上次运行或未完成，后8*ms毫秒\n\t\t\t) {\n\t\t\t\trun();\n\t\t\t} else {\n\t\t\t\tif (timer) {\n\t\t\t\t\ttimer.cancel();\n\t\t\t\t}\n\t\t\t\ttimer = $.later(run, ms, null, arguments);\n\t\t\t}\n\t\t}, {\n\t\t\tstop: function() {\n\t\t\t\tif (timer) {\n\t\t\t\t\ttimer.cancel();\n\t\t\t\t\ttimer = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t/**\n\t * each\n\t * @param {type} elements\n\t * @param {type} callback\n\t * @returns {_L8.$}\n\t */\n\t$.each = function(elements, callback, hasOwnProperty) {\n\t\tif (!elements) {\n\t\t\treturn this;\n\t\t}\n\t\tif (typeof elements.length === 'number') {\n\t\t\t[].every.call(elements, function(el, idx) {\n\t\t\t\treturn callback.call(el, idx, el) !== false;\n\t\t\t});\n\t\t} else {\n\t\t\tfor (var key in elements) {\n\t\t\t\tif (hasOwnProperty) {\n\t\t\t\t\tif (elements.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\t$.focus = function(element) {\n\t\tif ($.os.ios) {\n\t\t\tsetTimeout(function() {\n\t\t\t\telement.focus();\n\t\t\t}, 10);\n\t\t} else {\n\t\t\telement.focus();\n\t\t}\n\t};\n\t/**\n\t * trigger event\n\t * @param {type} element\n\t * @param {type} eventType\n\t * @param {type} eventData\n\t * @returns {_L8.$}\n\t */\n\t$.trigger = function(element, eventType, eventData) {\n\t\telement.dispatchEvent(new CustomEvent(eventType, {\n\t\t\tdetail: eventData,\n\t\t\tbubbles: true,\n\t\t\tcancelable: true\n\t\t}));\n\t\treturn this;\n\t};\n\t/**\n\t * getStyles\n\t * @param {type} element\n\t * @param {type} property\n\t * @returns {styles}\n\t */\n\t$.getStyles = function(element, property) {\n\t\tvar styles = element.ownerDocument.defaultView.getComputedStyle(element, null);\n\t\tif (property) {\n\t\t\treturn styles.getPropertyValue(property) || styles[property];\n\t\t}\n\t\treturn styles;\n\t};\n\t/**\n\t * parseTranslate\n\t * @param {type} translateString\n\t * @param {type} position\n\t * @returns {Object}\n\t */\n\t$.parseTranslate = function(translateString, position) {\n\t\tvar result = translateString.match(translateRE || '');\n\t\tif (!result || !result[1]) {\n\t\t\tresult = ['', '0,0,0'];\n\t\t}\n\t\tresult = result[1].split(\",\");\n\t\tresult = {\n\t\t\tx: parseFloat(result[0]),\n\t\t\ty: parseFloat(result[1]),\n\t\t\tz: parseFloat(result[2])\n\t\t};\n\t\tif (position && result.hasOwnProperty(position)) {\n\t\t\treturn result[position];\n\t\t}\n\t\treturn result;\n\t};\n\t/**\n\t * parseTranslateMatrix\n\t * @param {type} translateString\n\t * @param {type} position\n\t * @returns {Object}\n\t */\n\t$.parseTranslateMatrix = function(translateString, position) {\n\t\tvar matrix = translateString.match(translateMatrixRE);\n\t\tvar is3D = matrix && matrix[1];\n\t\tif (matrix) {\n\t\t\tmatrix = matrix[2].split(\",\");\n\t\t\tif (is3D === \"3d\")\n\t\t\t\tmatrix = matrix.slice(12, 15);\n\t\t\telse {\n\t\t\t\tmatrix.push(0);\n\t\t\t\tmatrix = matrix.slice(4, 7);\n\t\t\t}\n\t\t} else {\n\t\t\tmatrix = [0, 0, 0];\n\t\t}\n\t\tvar result = {\n\t\t\tx: parseFloat(matrix[0]),\n\t\t\ty: parseFloat(matrix[1]),\n\t\t\tz: parseFloat(matrix[2])\n\t\t};\n\t\tif (position && result.hasOwnProperty(position)) {\n\t\t\treturn result[position];\n\t\t}\n\t\treturn result;\n\t};\n\t$.hooks = {};\n\t$.addAction = function(type, hook) {\n\t\tvar hooks = $.hooks[type];\n\t\tif (!hooks) {\n\t\t\thooks = [];\n\t\t}\n\t\thook.index = hook.index || 1000;\n\t\thooks.push(hook);\n\t\thooks.sort(function(a, b) {\n\t\t\treturn a.index - b.index;\n\t\t});\n\t\t$.hooks[type] = hooks;\n\t\treturn $.hooks[type];\n\t};\n\t$.doAction = function(type, callback) {\n\t\tif ($.isFunction(callback)) { //指定了callback\n\t\t\t$.each($.hooks[type], callback);\n\t\t} else { //未指定callback，直接执行\n\t\t\t$.each($.hooks[type], function(index, hook) {\n\t\t\t\treturn !hook.handle();\n\t\t\t});\n\t\t}\n\t};\n\t/**\n\t * setTimeout封装\n\t * @param {Object} fn\n\t * @param {Object} when\n\t * @param {Object} context\n\t * @param {Object} data\n\t */\n\t$.later = function(fn, when, context, data) {\n\t\twhen = when || 0;\n\t\tvar m = fn;\n\t\tvar d = data;\n\t\tvar f;\n\t\tvar r;\n\n\t\tif (typeof fn === 'string') {\n\t\t\tm = context[fn];\n\t\t}\n\n\t\tf = function() {\n\t\t\tm.apply(context, $.isArray(d) ? d : [d]);\n\t\t};\n\n\t\tr = setTimeout(f, when);\n\n\t\treturn {\n\t\t\tid: r,\n\t\t\tcancel: function() {\n\t\t\t\tclearTimeout(r);\n\t\t\t}\n\t\t};\n\t};\n\t$.now = Date.now || function() {\n\t\treturn +new Date();\n\t};\n\tvar class2type = {};\n\t$.each(['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Object', 'Error'], function(i, name) {\n\t\tclass2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n\t});\n\tif (window.JSON) {\n\t\t$.parseJSON = JSON.parse;\n\t}\n\t/**\n\t * $.fn\n\t */\n\t$.fn = {\n\t\teach: function(callback) {\n\t\t\t[].every.call(this, function(el, idx) {\n\t\t\t\treturn callback.call(el, idx, el) !== false;\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\t};\n\n\t/**\n\t * 兼容 AMD 模块\n\t **/\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine('mui', [], function() {\n\t\t\treturn $;\n\t\t});\n\t}\n\n\treturn $;\n})(document);\n//window.mui = mui;\n//'$' in window || (window.$ = mui);\n/**\n * $.os\n * @param {type} $\n * @returns {undefined}\n */\n(function($, window) {\n\tfunction detect(ua) {\n\t\tthis.os = {};\n\t\tvar funcs = [\n\n\t\t\tfunction() { //wechat\n\t\t\t\tvar wechat = ua.match(/(MicroMessenger)\\/([\\d\\.]+)/i);\n\t\t\t\tif (wechat) { //wechat\n\t\t\t\t\tthis.os.wechat = {\n\t\t\t\t\t\tversion: wechat[2].replace(/_/g, '.')\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tfunction() { //android\n\t\t\t\tvar android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n\t\t\t\tif (android) {\n\t\t\t\t\tthis.os.android = true;\n\t\t\t\t\tthis.os.version = android[2];\n\n\t\t\t\t\tthis.os.isBadAndroid = !(/Chrome\\/\\d/.test(window.navigator.appVersion));\n\t\t\t\t}\n\t\t\t\treturn this.os.android === true;\n\t\t\t},\n\t\t\tfunction() { //ios\n\t\t\t\tvar iphone = ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\t\t\t\tif (iphone) { //iphone\n\t\t\t\t\tthis.os.ios = this.os.iphone = true;\n\t\t\t\t\tthis.os.version = iphone[2].replace(/_/g, '.');\n\t\t\t\t} else {\n\t\t\t\t\tvar ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n\t\t\t\t\tif (ipad) { //ipad\n\t\t\t\t\t\tthis.os.ios = this.os.ipad = true;\n\t\t\t\t\t\tthis.os.version = ipad[2].replace(/_/g, '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this.os.ios === true;\n\t\t\t}\n\t\t];\n\t\t[].every.call(funcs, function(func) {\n\t\t\treturn !func.call($);\n\t\t});\n\t}\n\tdetect.call($, navigator.userAgent);\n})(mui, window);\n/**\n * $.os.plus\n * @param {type} $\n * @returns {undefined}\n */\n(function($, document) {\n\tfunction detect(ua) {\n\t\tthis.os = this.os || {};\n\t\tvar plus = ua.match(/Html5Plus/i); //TODO 5\\+Browser?\n\t\tif (plus) {\n\t\t\tthis.os.plus = true;\n\t\t\t$(function() {\n\t\t\t\tdocument.body.classList.add('mui-plus');\n\t\t\t});\n\t\t\tif (ua.match(/StreamApp/i)) { //TODO 最好有流应用自己的标识\n\t\t\t\tthis.os.stream = true;\n\t\t\t\t$(function() {\n\t\t\t\t\tdocument.body.classList.add('mui-plus-stream');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tdetect.call($, navigator.userAgent);\n})(mui, document);\n/**\n * 仅提供简单的on，off(仅支持事件委托，不支持当前元素绑定，当前元素绑定请直接使用addEventListener,removeEventListener)\n * @param {Object} $\n */\n(function($) {\n\tif ('ontouchstart' in window) {\n\t\t$.isTouchable = true;\n\t\t$.EVENT_START = 'touchstart';\n\t\t$.EVENT_MOVE = 'touchmove';\n\t\t$.EVENT_END = 'touchend';\n\t} else {\n\t\t$.isTouchable = false;\n\t\t$.EVENT_START = 'mousedown';\n\t\t$.EVENT_MOVE = 'mousemove';\n\t\t$.EVENT_END = 'mouseup';\n\t}\n\t$.EVENT_CANCEL = 'touchcancel';\n\t$.EVENT_CLICK = 'click';\n\n\tvar _mid = 1;\n\tvar delegates = {};\n\t//需要wrap的函数\n\tvar eventMethods = {\n\t\tpreventDefault: 'isDefaultPrevented',\n\t\tstopImmediatePropagation: 'isImmediatePropagationStopped',\n\t\tstopPropagation: 'isPropagationStopped'\n\t};\n\t//默认true返回函数\n\tvar returnTrue = function() {\n\t\treturn true\n\t};\n\t//默认false返回函数\n\tvar returnFalse = function() {\n\t\treturn false\n\t};\n\t//wrap浏览器事件\n\tvar compatible = function(event, target) {\n\t\tif (!event.detail) {\n\t\t\tevent.detail = {\n\t\t\t\tcurrentTarget: target\n\t\t\t};\n\t\t} else {\n\t\t\tevent.detail.currentTarget = target;\n\t\t}\n\t\t$.each(eventMethods, function(name, predicate) {\n\t\t\tvar sourceMethod = event[name];\n\t\t\tevent[name] = function() {\n\t\t\t\tthis[predicate] = returnTrue;\n\t\t\t\treturn sourceMethod && sourceMethod.apply(event, arguments)\n\t\t\t}\n\t\t\tevent[predicate] = returnFalse;\n\t\t}, true);\n\t\treturn event;\n\t};\n\t//简单的wrap对象_mid\n\tvar mid = function(obj) {\n\t\treturn obj && (obj._mid || (obj._mid = _mid++));\n\t};\n\t//事件委托对象绑定的事件回调列表\n\tvar delegateFns = {};\n\t//返回事件委托的wrap事件回调\n\tvar delegateFn = function(element, event, selector, callback) {\n\t\treturn function(e) {\n\t\t\t//same event\n\t\t\tvar callbackObjs = delegates[element._mid][event];\n\t\t\tvar handlerQueue = [];\n\t\t\tvar target = e.target;\n\t\t\tvar selectorAlls = {};\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tif (target === element) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (~['click', 'tap', 'doubletap', 'longtap', 'hold'].indexOf(event) && (target.disabled || target.classList.contains('mui-disabled'))) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar matches = {};\n\t\t\t\t$.each(callbackObjs, function(selector, callbacks) { //same selector\n\t\t\t\t\tselectorAlls[selector] || (selectorAlls[selector] = $.qsa(selector, element));\n\t\t\t\t\tif (selectorAlls[selector] && ~(selectorAlls[selector]).indexOf(target)) {\n\t\t\t\t\t\tif (!matches[selector]) {\n\t\t\t\t\t\t\tmatches[selector] = callbacks;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, true);\n\t\t\t\tif (!$.isEmptyObject(matches)) {\n\t\t\t\t\thandlerQueue.push({\n\t\t\t\t\t\telement: target,\n\t\t\t\t\t\thandlers: matches\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tselectorAlls = null;\n\t\t\te = compatible(e); //compatible event\n\t\t\t$.each(handlerQueue, function(index, handler) {\n\t\t\t\ttarget = handler.element;\n\t\t\t\tvar tagName = target.tagName;\n\t\t\t\tif (event === 'tap' && (tagName !== 'INPUT' && tagName !== 'TEXTAREA' && tagName !== 'SELECT')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault();\n\t\t\t\t}\n\t\t\t\t$.each(handler.handlers, function(index, handler) {\n\t\t\t\t\t$.each(handler, function(index, callback) {\n\t\t\t\t\t\tif (callback.call(target, e) === false) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, true);\n\t\t\t\t}, true)\n\t\t\t\tif (e.isPropagationStopped()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t};\n\t};\n\tvar findDelegateFn = function(element, event) {\n\t\tvar delegateCallbacks = delegateFns[mid(element)];\n\t\tvar result = [];\n\t\tif (delegateCallbacks) {\n\t\t\tresult = [];\n\t\t\tif (event) {\n\t\t\t\tvar filterFn = function(fn) {\n\t\t\t\t\treturn fn.type === event;\n\t\t\t\t}\n\t\t\t\treturn delegateCallbacks.filter(filterFn);\n\t\t\t} else {\n\t\t\t\tresult = delegateCallbacks;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\n\t/**\n\t * mui delegate events\n\t * @param {type} event\n\t * @param {type} selector\n\t * @param {type} callback\n\t * @returns {undefined}\n\t */\n\t$.fn.on = function(event, selector, callback) { //仅支持简单的事件委托,主要是tap事件使用，类似mouse,focus之类暂不封装支持\n\t\treturn this.each(function() {\n\t\t\tvar element = this;\n\t\t\tmid(element);\n\t\t\tmid(callback);\n\t\t\tvar isAddEventListener = false;\n\t\t\tvar delegateEvents = delegates[element._mid] || (delegates[element._mid] = {});\n\t\t\tvar delegateCallbackObjs = delegateEvents[event] || ((delegateEvents[event] = {}));\n\t\t\tif ($.isEmptyObject(delegateCallbackObjs)) {\n\t\t\t\tisAddEventListener = true;\n\t\t\t}\n\t\t\tvar delegateCallbacks = delegateCallbackObjs[selector] || (delegateCallbackObjs[selector] = []);\n\t\t\tdelegateCallbacks.push(callback);\n\t\t\tif (isAddEventListener) {\n\t\t\t\tvar delegateFnArray = delegateFns[mid(element)];\n\t\t\t\tif (!delegateFnArray) {\n\t\t\t\t\tdelegateFnArray = [];\n\t\t\t\t}\n\t\t\t\tvar delegateCallback = delegateFn(element, event, selector, callback);\n\t\t\t\tdelegateFnArray.push(delegateCallback);\n\t\t\t\tdelegateCallback.i = delegateFnArray.length - 1;\n\t\t\t\tdelegateCallback.type = event;\n\t\t\t\tdelegateFns[mid(element)] = delegateFnArray;\n\t\t\t\telement.addEventListener(event, delegateCallback);\n\t\t\t\tif (event === 'tap') { //TODO 需要找个更好的解决方案\n\t\t\t\t\telement.addEventListener('click', function(e) {\n\t\t\t\t\t\tif (e.target) {\n\t\t\t\t\t\t\tvar tagName = e.target.tagName;\n\t\t\t\t\t\t\tif (!preventDefaultException.test(tagName)) {\n\t\t\t\t\t\t\t\tif (tagName === 'A') {\n\t\t\t\t\t\t\t\t\tvar href = e.target.href;\n\t\t\t\t\t\t\t\t\tif (!(href && ~href.indexOf('tel:'))) {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t$.fn.off = function(event, selector, callback) {\n\t\treturn this.each(function() {\n\t\t\tvar _mid = mid(this);\n\t\t\tif (!event) { //mui(selector).off();\n\t\t\t\tdelegates[_mid] && delete delegates[_mid];\n\t\t\t} else if (!selector) { //mui(selector).off(event);\n\t\t\t\tdelegates[_mid] && delete delegates[_mid][event];\n\t\t\t} else if (!callback) { //mui(selector).off(event,selector);\n\t\t\t\tdelegates[_mid] && delegates[_mid][event] && delete delegates[_mid][event][selector];\n\t\t\t} else { //mui(selector).off(event,selector,callback);\n\t\t\t\tvar delegateCallbacks = delegates[_mid] && delegates[_mid][event] && delegates[_mid][event][selector];\n\t\t\t\t$.each(delegateCallbacks, function(index, delegateCallback) {\n\t\t\t\t\tif (mid(delegateCallback) === mid(callback)) {\n\t\t\t\t\t\tdelegateCallbacks.splice(index, 1);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}, true);\n\t\t\t}\n\t\t\tif (delegates[_mid]) {\n\t\t\t\t//如果off掉了所有当前element的指定的event事件，则remove掉当前element的delegate回调\n\t\t\t\tif ((!delegates[_mid][event] || $.isEmptyObject(delegates[_mid][event]))) {\n\t\t\t\t\tfindDelegateFn(this, event).forEach(function(fn) {\n\t\t\t\t\t\tthis.removeEventListener(fn.type, fn);\n\t\t\t\t\t\tdelete delegateFns[_mid][fn.i];\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//如果delegates[_mid]已不存在，删除所有\n\t\t\t\tfindDelegateFn(this).forEach(function(fn) {\n\t\t\t\t\tthis.removeEventListener(fn.type, fn);\n\t\t\t\t\tdelete delegateFns[_mid][fn.i];\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t});\n\n\t};\n})(mui);\n/**\n * mui target(action>popover>modal>tab>toggle)\n */\n(function($, window, document) {\n\t/**\n\t * targets\n\t */\n\t$.targets = {};\n\t/**\n\t * target handles\n\t */\n\t$.targetHandles = [];\n\t/**\n\t * register target\n\t * @param {type} target\n\t * @returns {$.targets}\n\t */\n\t$.registerTarget = function(target) {\n\n\t\ttarget.index = target.index || 1000;\n\n\t\t$.targetHandles.push(target);\n\n\t\t$.targetHandles.sort(function(a, b) {\n\t\t\treturn a.index - b.index;\n\t\t});\n\n\t\treturn $.targetHandles;\n\t};\n\twindow.addEventListener($.EVENT_START, function(event) {\n\t\tvar target = event.target;\n\t\tvar founds = {};\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tvar isFound = false;\n\t\t\t$.each($.targetHandles, function(index, targetHandle) {\n\t\t\t\tvar name = targetHandle.name;\n\t\t\t\tif (!isFound && !founds[name] && targetHandle.hasOwnProperty('handle')) {\n\t\t\t\t\t$.targets[name] = targetHandle.handle(event, target);\n\t\t\t\t\tif ($.targets[name]) {\n\t\t\t\t\t\tfounds[name] = true;\n\t\t\t\t\t\tif (targetHandle.isContinue !== true) {\n\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!founds[name]) {\n\t\t\t\t\t\tif (targetHandle.isReset !== false)\n\t\t\t\t\t\t\t$.targets[name] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isFound) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\twindow.addEventListener('click', function(event) { //解决touch与click的target不一致的问题(比如链接边缘点击时，touch的target为html，而click的target为A)\n\t\tvar target = event.target;\n\t\tvar isFound = false;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.tagName === 'A') {\n\t\t\t\t$.each($.targetHandles, function(index, targetHandle) {\n\t\t\t\t\tvar name = targetHandle.name;\n\t\t\t\t\tif (targetHandle.hasOwnProperty('handle')) {\n\t\t\t\t\t\tif (targetHandle.handle(event, target)) {\n\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (isFound) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(mui, window, document);\n/**\n * fixed trim\n * @param {type} undefined\n * @returns {undefined}\n */\n(function(undefined) {\n\tif (String.prototype.trim === undefined) { // fix for iOS 3.2\n\t\tString.prototype.trim = function() {\n\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t\t};\n\t}\n\tObject.setPrototypeOf = Object.setPrototypeOf || function(obj, proto) {\n\t\tobj['__proto__'] = proto;\n\t\treturn obj;\n\t};\n\n})();\n/**\n * fixed CustomEvent\n */\n(function() {\n\tif (typeof window.CustomEvent === 'undefined') {\n\t\tfunction CustomEvent(event, params) {\n\t\t\tparams = params || {\n\t\t\t\tbubbles: false,\n\t\t\t\tcancelable: false,\n\t\t\t\tdetail: undefined\n\t\t\t};\n\t\t\tvar evt = document.createEvent('Events');\n\t\t\tvar bubbles = true;\n\t\t\tfor (var name in params) {\n\t\t\t\t(name === 'bubbles') ? (bubbles = !!params[name]) : (evt[name] = params[name]);\n\t\t\t}\n\t\t\tevt.initEvent(event, bubbles, true);\n\t\t\treturn evt;\n\t\t};\n\t\tCustomEvent.prototype = window.Event.prototype;\n\t\twindow.CustomEvent = CustomEvent;\n\t}\n})();\n/*\n\tA shim for non ES5 supporting browsers.\n\tAdds function bind to Function prototype, so that you can do partial application.\n\tWorks even with the nasty thing, where the first word is the opposite of extranet, the second one is the profession of Columbus, and the version number is 9, flipped 180 degrees.\n*/\n\nFunction.prototype.bind = Function.prototype.bind || function(to) {\n\t// Make an array of our arguments, starting from second argument\n\tvar partial = Array.prototype.splice.call(arguments, 1),\n\t\t// We'll need the original function.\n\t\tfn = this;\n\tvar bound = function() {\n\t\t\t// Join the already applied arguments to the now called ones (after converting to an array again).\n\t\t\tvar args = partial.concat(Array.prototype.splice.call(arguments, 0));\n\t\t\t// If not being called as a constructor\n\t\t\tif (!(this instanceof bound)) {\n\t\t\t\t// return the result of the function called bound to target and partially applied.\n\t\t\t\treturn fn.apply(to, args);\n\t\t\t}\n\t\t\t// If being called as a constructor, apply the function bound to self.\n\t\t\tfn.apply(this, args);\n\t\t}\n\t\t// Attach the prototype of the function to our newly created function.\n\tbound.prototype = fn.prototype;\n\treturn bound;\n};\n/**\n * mui fixed classList\n * @param {type} document\n * @returns {undefined}\n */\n(function(document) {\n    if (!(\"classList\" in document.documentElement) && Object.defineProperty && typeof HTMLElement !== 'undefined') {\n\n        Object.defineProperty(HTMLElement.prototype, 'classList', {\n            get: function() {\n                var self = this;\n                function update(fn) {\n                    return function(value) {\n                        var classes = self.className.split(/\\s+/),\n                                index = classes.indexOf(value);\n\n                        fn(classes, index, value);\n                        self.className = classes.join(\" \");\n                    };\n                }\n\n                var ret = {\n                    add: update(function(classes, index, value) {\n                        ~index || classes.push(value);\n                    }),\n                    remove: update(function(classes, index) {\n                        ~index && classes.splice(index, 1);\n                    }),\n                    toggle: update(function(classes, index, value) {\n                        ~index ? classes.splice(index, 1) : classes.push(value);\n                    }),\n                    contains: function(value) {\n                        return !!~self.className.split(/\\s+/).indexOf(value);\n                    },\n                    item: function(i) {\n                        return self.className.split(/\\s+/)[i] || null;\n                    }\n                };\n\n                Object.defineProperty(ret, 'length', {\n                    get: function() {\n                        return self.className.split(/\\s+/).length;\n                    }\n                });\n\n                return ret;\n            }\n        });\n    }\n})(document);\n\n/**\n * mui fixed requestAnimationFrame\n * @param {type} window\n * @returns {undefined}\n */\n(function(window) {\n\tif (!window.requestAnimationFrame) {\n\t\tvar lastTime = 0;\n\t\twindow.requestAnimationFrame = window.webkitRequestAnimationFrame || function(callback, element) {\n\t\t\tvar currTime = new Date().getTime();\n\t\t\tvar timeToCall = Math.max(0, 16.7 - (currTime - lastTime));\n\t\t\tvar id = window.setTimeout(function() {\n\t\t\t\tcallback(currTime + timeToCall);\n\t\t\t}, timeToCall);\n\t\t\tlastTime = currTime + timeToCall;\n\t\t\treturn id;\n\t\t};\n\t\twindow.cancelAnimationFrame = window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || function(id) {\n\t\t\tclearTimeout(id);\n\t\t};\n\t};\n}(window));\n/**\n * fastclick(only for radio,checkbox)\n */\n(function($, window, name) {\n\tif (!$.os.android && !$.os.ios) { //目前仅识别android和ios\n\t\treturn;\n\t}\n\tif (window.FastClick) {\n\t\treturn;\n\t}\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'LABEL') {\n\t\t\tif (target.parentNode) {\n\t\t\t\ttarget = target.parentNode.querySelector('input');\n\t\t\t}\n\t\t}\n\t\tif (target && (target.type === 'radio' || target.type === 'checkbox')) {\n\t\t\tif (!target.disabled) { //disabled\n\t\t\t\treturn target;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 40,\n\t\thandle: handle,\n\t\ttarget: false\n\t});\n\tvar dispatchEvent = function(event) {\n\t\tvar targetElement = $.targets.click;\n\t\tif (targetElement) {\n\t\t\tvar clickEvent, touch;\n\t\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect\n\t\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\t\tdocument.activeElement.blur();\n\t\t\t}\n\t\t\ttouch = event.detail.gesture.changedTouches[0];\n\t\t\t// Synthesise a click event, with an extra attribute so it can be tracked\n\t\t\tclickEvent = document.createEvent('MouseEvents');\n\t\t\tclickEvent.initMouseEvent('click', true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\t\tclickEvent.forwardedTouchEvent = true;\n\t\t\ttargetElement.dispatchEvent(clickEvent);\n\t\t\tevent.detail && event.detail.gesture.preventDefault();\n\t\t}\n\t};\n\twindow.addEventListener('tap', dispatchEvent);\n\twindow.addEventListener('doubletap', dispatchEvent);\n\t//捕获\n\twindow.addEventListener('click', function(event) {\n\t\tif ($.targets.click) {\n\t\t\tif (!event.forwardedTouchEvent) { //stop click\n\t\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t} else {\n\t\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation\n\t\t\t\t\tevent.propagationStopped = true;\n\t\t\t\t}\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}, true);\n\n})(mui, window, 'click');\n(function($, document) {\n\t$(function() {\n\t\tif (!$.os.ios) {\n\t\t\treturn;\n\t\t}\n\t\tvar CLASS_FOCUSIN = 'mui-focusin';\n\t\tvar CLASS_BAR_TAB = 'mui-bar-tab';\n\t\tvar CLASS_BAR_FOOTER = 'mui-bar-footer';\n\t\tvar CLASS_BAR_FOOTER_SECONDARY = 'mui-bar-footer-secondary';\n\t\tvar CLASS_BAR_FOOTER_SECONDARY_TAB = 'mui-bar-footer-secondary-tab';\n\t\t// var content = document.querySelector('.' + CLASS_CONTENT);\n\t\t// if (content) {\n\t\t// \tdocument.body.insertBefore(content, document.body.firstElementChild);\n\t\t// }\n\t\tdocument.addEventListener('focusin', function(e) {\n\t\t\tif ($.os.plus) { //在父webview里边不fix\n\t\t\t\tif (window.plus) {\n\t\t\t\t\tif (plus.webview.currentWebview().children().length > 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar target = e.target;\n\t\t\t//TODO 需考虑所有键盘弹起的情况\n\t\t\tif (target.tagName && (target.tagName === 'TEXTAREA' || (target.tagName === 'INPUT' && (target.type === 'text' || target.type === 'search' || target.type === 'number')))) {\n\t\t\t\tif (target.disabled || target.readOnly) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\n\t\t\t\tvar isFooter = false;\n\t\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\t\tvar classList = target.classList;\n\t\t\t\t\tif (classList && classList.contains(CLASS_BAR_TAB) || classList.contains(CLASS_BAR_FOOTER) || classList.contains(CLASS_BAR_FOOTER_SECONDARY) || classList.contains(CLASS_BAR_FOOTER_SECONDARY_TAB)) {\n\t\t\t\t\t\tisFooter = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isFooter) {\n\t\t\t\t\tvar scrollTop = document.body.scrollHeight;\n\t\t\t\t\tvar scrollLeft = document.body.scrollLeft;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\twindow.scrollTo(scrollLeft, scrollTop);\n\t\t\t\t\t}, 20);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tdocument.addEventListener('focusout', function(e) {\n\t\t\tvar classList = document.body.classList;\n\t\t\tif (classList.contains(CLASS_FOCUSIN)) {\n\t\t\t\tclassList.remove(CLASS_FOCUSIN);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\twindow.scrollTo(document.body.scrollLeft, document.body.scrollTop);\n\t\t\t\t}, 20);\n\t\t\t}\n\t\t});\n\t});\n})(mui, document);\n/**\n * mui namespace(optimization)\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.namespace = 'mui';\n\t$.classNamePrefix = $.namespace + '-';\n\t$.classSelectorPrefix = '.' + $.classNamePrefix;\n\t/**\n\t * 返回正确的className\n\t * @param {type} className\n\t * @returns {String}\n\t */\n\t$.className = function(className) {\n\t\treturn $.classNamePrefix + className;\n\t};\n\t/**\n\t * 返回正确的classSelector\n\t * @param {type} classSelector\n\t * @returns {String}\n\t */\n\t$.classSelector = function(classSelector) {\n\t\treturn classSelector.replace(/\\./g, $.classSelectorPrefix);\n\t};\n\t/**\n         * 返回正确的eventName\n         * @param {type} event\n         * @param {type} module\n         * @returns {String}\n         */\n\t$.eventName = function(event, module) {\n\t\treturn event + ($.namespace ? ('.' + $.namespace) : '') + ( module ? ('.' + module) : '');\n\t};\n})(mui);\n\n/**\n * mui gestures\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\t$.gestures = {\n\t\tsession: {}\n\t};\n\t/**\n\t * Gesture preventDefault\n\t * @param {type} e\n\t * @returns {undefined}\n\t */\n\t$.preventDefault = function(e) {\n\t\te.preventDefault();\n\t};\n\t/**\n\t * Gesture stopPropagation\n\t * @param {type} e\n\t * @returns {undefined}\n\t */\n\t$.stopPropagation = function(e) {\n\t\te.stopPropagation();\n\t};\n\n\t/**\n\t * register gesture\n\t * @param {type} gesture\n\t * @returns {$.gestures}\n\t */\n\t$.addGesture = function(gesture) {\n\t\treturn $.addAction('gestures', gesture);\n\n\t};\n\n\tvar round = Math.round;\n\tvar abs = Math.abs;\n\tvar sqrt = Math.sqrt;\n\tvar atan = Math.atan;\n\tvar atan2 = Math.atan2;\n\t/**\n\t * distance\n\t * @param {type} p1\n\t * @param {type} p2\n\t * @returns {Number}\n\t */\n\tvar getDistance = function(p1, p2, props) {\n\t\tif (!props) {\n\t\t\tprops = ['x', 'y'];\n\t\t}\n\t\tvar x = p2[props[0]] - p1[props[0]];\n\t\tvar y = p2[props[1]] - p1[props[1]];\n\t\treturn sqrt((x * x) + (y * y));\n\t};\n\t/**\n\t * scale\n\t * @param {Object} starts\n\t * @param {Object} moves\n\t */\n\tvar getScale = function(starts, moves) {\n\t\tif (starts.length >= 2 && moves.length >= 2) {\n\t\t\tvar props = ['pageX', 'pageY'];\n\t\t\treturn getDistance(moves[1], moves[0], props) / getDistance(starts[1], starts[0], props);\n\t\t}\n\t\treturn 1;\n\t};\n\t/**\n\t * angle\n\t * @param {type} p1\n\t * @param {type} p2\n\t * @returns {Number}\n\t */\n\tvar getAngle = function(p1, p2, props) {\n\t\tif (!props) {\n\t\t\tprops = ['x', 'y'];\n\t\t}\n\t\tvar x = p2[props[0]] - p1[props[0]];\n\t\tvar y = p2[props[1]] - p1[props[1]];\n\t\treturn atan2(y, x) * 180 / Math.PI;\n\t};\n\t/**\n\t * direction\n\t * @param {Object} x\n\t * @param {Object} y\n\t */\n\tvar getDirection = function(x, y) {\n\t\tif (x === y) {\n\t\t\treturn '';\n\t\t}\n\t\tif (abs(x) >= abs(y)) {\n\t\t\treturn x > 0 ? 'left' : 'right';\n\t\t}\n\t\treturn y > 0 ? 'up' : 'down';\n\t};\n\t/**\n\t * rotation\n\t * @param {Object} start\n\t * @param {Object} end\n\t */\n\tvar getRotation = function(start, end) {\n\t\tvar props = ['pageX', 'pageY'];\n\t\treturn getAngle(end[1], end[0], props) - getAngle(start[1], start[0], props);\n\t};\n\t/**\n\t * px per ms\n\t * @param {Object} deltaTime\n\t * @param {Object} x\n\t * @param {Object} y\n\t */\n\tvar getVelocity = function(deltaTime, x, y) {\n\t\treturn {\n\t\t\tx: x / deltaTime || 0,\n\t\t\ty: y / deltaTime || 0\n\t\t};\n\t};\n\t/**\n\t * detect gestures\n\t * @param {type} event\n\t * @param {type} touch\n\t * @returns {undefined}\n\t */\n\tvar detect = function(event, touch) {\n\t\tif ($.gestures.stoped) {\n\t\t\treturn;\n\t\t}\n\t\t$.doAction('gestures', function(index, gesture) {\n\t\t\tif (!$.gestures.stoped) {\n\t\t\t\tif ($.options.gestureConfig[gesture.name] !== false) {\n\t\t\t\t\tgesture.handle(event, touch);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t/**\n\t * 暂时无用\n\t * @param {Object} node\n\t * @param {Object} parent\n\t */\n\tvar hasParent = function(node, parent) {\n\t\twhile (node) {\n\t\t\tif (node == parent) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn false;\n\t};\n\n\tvar uniqueArray = function(src, key, sort) {\n\t\tvar results = [];\n\t\tvar values = [];\n\t\tvar i = 0;\n\n\t\twhile (i < src.length) {\n\t\t\tvar val = key ? src[i][key] : src[i];\n\t\t\tif (values.indexOf(val) < 0) {\n\t\t\t\tresults.push(src[i]);\n\t\t\t}\n\t\t\tvalues[i] = val;\n\t\t\ti++;\n\t\t}\n\n\t\tif (sort) {\n\t\t\tif (!key) {\n\t\t\t\tresults = results.sort();\n\t\t\t} else {\n\t\t\t\tresults = results.sort(function sortUniqueArray(a, b) {\n\t\t\t\t\treturn a[key] > b[key];\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t};\n\tvar getMultiCenter = function(touches) {\n\t\tvar touchesLength = touches.length;\n\t\tif (touchesLength === 1) {\n\t\t\treturn {\n\t\t\t\tx: round(touches[0].pageX),\n\t\t\t\ty: round(touches[0].pageY)\n\t\t\t};\n\t\t}\n\n\t\tvar x = 0;\n\t\tvar y = 0;\n\t\tvar i = 0;\n\t\twhile (i < touchesLength) {\n\t\t\tx += touches[i].pageX;\n\t\t\ty += touches[i].pageY;\n\t\t\ti++;\n\t\t}\n\n\t\treturn {\n\t\t\tx: round(x / touchesLength),\n\t\t\ty: round(y / touchesLength)\n\t\t};\n\t};\n\tvar multiTouch = function() {\n\t\treturn $.options.gestureConfig.pinch;\n\t};\n\tvar copySimpleTouchData = function(touch) {\n\t\tvar touches = [];\n\t\tvar i = 0;\n\t\twhile (i < touch.touches.length) {\n\t\t\ttouches[i] = {\n\t\t\t\tpageX: round(touch.touches[i].pageX),\n\t\t\t\tpageY: round(touch.touches[i].pageY)\n\t\t\t};\n\t\t\ti++;\n\t\t}\n\t\treturn {\n\t\t\ttimestamp: $.now(),\n\t\t\tgesture: touch.gesture,\n\t\t\ttouches: touches,\n\t\t\tcenter: getMultiCenter(touch.touches),\n\t\t\tdeltaX: touch.deltaX,\n\t\t\tdeltaY: touch.deltaY\n\t\t};\n\t};\n\n\tvar calDelta = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar center = touch.center;\n\t\tvar offset = session.offsetDelta || {};\n\t\tvar prevDelta = session.prevDelta || {};\n\t\tvar prevTouch = session.prevTouch || {};\n\n\t\tif (touch.gesture.type === $.EVENT_START || touch.gesture.type === $.EVENT_END) {\n\t\t\tprevDelta = session.prevDelta = {\n\t\t\t\tx: prevTouch.deltaX || 0,\n\t\t\t\ty: prevTouch.deltaY || 0\n\t\t\t};\n\n\t\t\toffset = session.offsetDelta = {\n\t\t\t\tx: center.x,\n\t\t\t\ty: center.y\n\t\t\t};\n\t\t}\n\t\ttouch.deltaX = prevDelta.x + (center.x - offset.x);\n\t\ttouch.deltaY = prevDelta.y + (center.y - offset.y);\n\t};\n\tvar calTouchData = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar touches = touch.touches;\n\t\tvar touchesLength = touches.length;\n\n\t\tif (!session.firstTouch) {\n\t\t\tsession.firstTouch = copySimpleTouchData(touch);\n\t\t}\n\n\t\tif (multiTouch() && touchesLength > 1 && !session.firstMultiTouch) {\n\t\t\tsession.firstMultiTouch = copySimpleTouchData(touch);\n\t\t} else if (touchesLength === 1) {\n\t\t\tsession.firstMultiTouch = false;\n\t\t}\n\n\t\tvar firstTouch = session.firstTouch;\n\t\tvar firstMultiTouch = session.firstMultiTouch;\n\t\tvar offsetCenter = firstMultiTouch ? firstMultiTouch.center : firstTouch.center;\n\n\t\tvar center = touch.center = getMultiCenter(touches);\n\t\ttouch.timestamp = $.now();\n\t\ttouch.deltaTime = touch.timestamp - firstTouch.timestamp;\n\n\t\ttouch.angle = getAngle(offsetCenter, center);\n\t\ttouch.distance = getDistance(offsetCenter, center);\n\n\t\tcalDelta(touch);\n\n\t\ttouch.offsetDirection = getDirection(touch.deltaX, touch.deltaY);\n\n\t\ttouch.scale = firstMultiTouch ? getScale(firstMultiTouch.touches, touches) : 1;\n\t\ttouch.rotation = firstMultiTouch ? getRotation(firstMultiTouch.touches, touches) : 0;\n\n\t\tcalIntervalTouchData(touch);\n\n\t};\n\tvar CAL_INTERVAL = 25;\n\tvar calIntervalTouchData = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar last = session.lastInterval || touch;\n\t\tvar deltaTime = touch.timestamp - last.timestamp;\n\t\tvar velocity;\n\t\tvar velocityX;\n\t\tvar velocityY;\n\t\tvar direction;\n\n\t\tif (touch.gesture.type != $.EVENT_CANCEL && (deltaTime > CAL_INTERVAL || last.velocity === undefined)) {\n\t\t\tvar deltaX = last.deltaX - touch.deltaX;\n\t\t\tvar deltaY = last.deltaY - touch.deltaY;\n\n\t\t\tvar v = getVelocity(deltaTime, deltaX, deltaY);\n\t\t\tvelocityX = v.x;\n\t\t\tvelocityY = v.y;\n\t\t\tvelocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n\t\t\tdirection = getDirection(deltaX, deltaY) || last.direction;\n\n\t\t\tsession.lastInterval = touch;\n\t\t} else {\n\t\t\tvelocity = last.velocity;\n\t\t\tvelocityX = last.velocityX;\n\t\t\tvelocityY = last.velocityY;\n\t\t\tdirection = last.direction;\n\t\t}\n\n\t\ttouch.velocity = velocity;\n\t\ttouch.velocityX = velocityX;\n\t\ttouch.velocityY = velocityY;\n\t\ttouch.direction = direction;\n\t};\n\tvar targetIds = {};\n\tvar convertTouches = function(touches) {\n\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t!touches['identifier'] && (touches['identifier'] = 0);\n\t\t}\n\t\treturn touches;\n\t};\n\tvar getTouches = function(event, touch) {\n\t\tvar allTouches = convertTouches($.slice.call(event.touches || [event]));\n\n\t\tvar type = event.type;\n\n\t\tvar targetTouches = [];\n\t\tvar changedTargetTouches = [];\n\n\t\t//当touchstart或touchmove且touches长度为1，直接获得all和changed\n\t\tif ((type === $.EVENT_START || type === $.EVENT_MOVE) && allTouches.length === 1) {\n\t\t\ttargetIds[allTouches[0].identifier] = true;\n\t\t\ttargetTouches = allTouches;\n\t\t\tchangedTargetTouches = allTouches;\n\t\t\ttouch.target = event.target;\n\t\t} else {\n\t\t\tvar i = 0;\n\t\t\tvar targetTouches = [];\n\t\t\tvar changedTargetTouches = [];\n\t\t\tvar changedTouches = convertTouches($.slice.call(event.changedTouches || [event]));\n\n\t\t\ttouch.target = event.target;\n\t\t\tvar sessionTarget = $.gestures.session.target || event.target;\n\t\t\ttargetTouches = allTouches.filter(function(touch) {\n\t\t\t\treturn hasParent(touch.target, sessionTarget);\n\t\t\t});\n\n\t\t\tif (type === $.EVENT_START) {\n\t\t\t\ti = 0;\n\t\t\t\twhile (i < targetTouches.length) {\n\t\t\t\t\ttargetIds[targetTouches[i].identifier] = true;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = 0;\n\t\t\twhile (i < changedTouches.length) {\n\t\t\t\tif (targetIds[changedTouches[i].identifier]) {\n\t\t\t\t\tchangedTargetTouches.push(changedTouches[i]);\n\t\t\t\t}\n\t\t\t\tif (type === $.EVENT_END || type === $.EVENT_CANCEL) {\n\t\t\t\t\tdelete targetIds[changedTouches[i].identifier];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tif (!changedTargetTouches.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\ttargetTouches = uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true);\n\t\tvar touchesLength = targetTouches.length;\n\t\tvar changedTouchesLength = changedTargetTouches.length;\n\t\tif (type === $.EVENT_START && touchesLength - changedTouchesLength === 0) { //first\n\t\t\ttouch.isFirst = true;\n\t\t\t$.gestures.touch = $.gestures.session = {\n\t\t\t\ttarget: event.target\n\t\t\t};\n\t\t}\n\t\ttouch.isFinal = ((type === $.EVENT_END || type === $.EVENT_CANCEL) && (touchesLength - changedTouchesLength === 0));\n\n\t\ttouch.touches = targetTouches;\n\t\ttouch.changedTouches = changedTargetTouches;\n\t\treturn true;\n\n\t};\n\tvar handleTouchEvent = function(event) {\n\t\tvar touch = {\n\t\t\tgesture: event\n\t\t};\n\t\tvar touches = getTouches(event, touch);\n\t\tif (!touches) {\n\t\t\treturn;\n\t\t}\n\t\tcalTouchData(touch);\n\t\tdetect(event, touch);\n\t\t$.gestures.session.prevTouch = touch;\n\t\tif (event.type === $.EVENT_END && !$.isTouchable) {\n\t\t\t$.gestures.touch = $.gestures.session = {};\n\t\t}\n\t};\n\twindow.addEventListener($.EVENT_START, handleTouchEvent);\n\twindow.addEventListener($.EVENT_MOVE, handleTouchEvent);\n\twindow.addEventListener($.EVENT_END, handleTouchEvent);\n\twindow.addEventListener($.EVENT_CANCEL, handleTouchEvent);\n\t//fixed hashchange(android)\n\twindow.addEventListener($.EVENT_CLICK, function(e) {\n\t\t//TODO 应该判断当前target是不是在targets.popover内部，而不是非要相等\n\t\tif (($.os.android || $.os.ios) && (($.targets.popover && e.target === $.targets.popover) || ($.targets.tab) || $.targets.offcanvas || $.targets.modal)) {\n\t\t\te.preventDefault();\n\t\t}\n\t}, true);\n\n\n\t//增加原生滚动识别\n\t$.isScrolling = false;\n\tvar scrollingTimeout = null;\n\twindow.addEventListener('scroll', function() {\n\t\t$.isScrolling = true;\n\t\tscrollingTimeout && clearTimeout(scrollingTimeout);\n\t\tscrollingTimeout = setTimeout(function() {\n\t\t\t$.isScrolling = false;\n\t\t}, 250);\n\t});\n})(mui, window);\n/**\n * mui gesture flick[left|right|up|down]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar flickStartTime = 0;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tvar now = $.now();\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (now - flickStartTime > 300) {\n\t\t\t\t\tflickStartTime = now;\n\t\t\t\t\tsession.flickStart = touch.center;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\ttouch.flick = false;\n\t\t\t\tif (session.flickStart && options.flickMaxTime > (now - flickStartTime) && touch.distance > options.flickMinDistince) {\n\t\t\t\t\ttouch.flick = true;\n\t\t\t\t\ttouch.flickTime = now - flickStartTime;\n\t\t\t\t\ttouch.flickDistanceX = touch.center.x - session.flickStart.x;\n\t\t\t\t\ttouch.flickDistanceY = touch.center.y - session.flickStart.y;\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t};\n\t/**\n\t * mui gesture flick\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 5,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tflickMaxTime: 200,\n\t\t\tflickMinDistince: 10\n\t\t}\n\t});\n})(mui, 'flick');\n/**\n * mui gesture swipe[left|right|up|down]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tif (event.type === $.EVENT_END || event.type === $.EVENT_CANCEL) {\n\t\t\tvar options = this.options;\n\t\t\ttouch.swipe = false;\n\t\t\t//TODO 后续根据velocity计算\n\t\t\tif (touch.direction && options.swipeMaxTime > touch.deltaTime && touch.distance > options.swipeMinDistince) {\n\t\t\t\ttouch.swipe = true;\n\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * mui gesture swipe\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tswipeMaxTime: 300,\n\t\t\tswipeMinDistince: 18\n\t\t}\n\t});\n})(mui, 'swipe');\n/**\n * mui gesture drag[start|left|right|up|down|end]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (!touch.direction || !session.target) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//修正direction,可在session期间自行锁定拖拽方向，方便开发scroll类不同方向拖拽插件嵌套\n\t\t\t\tif (session.lockDirection && session.startDirection) {\n\t\t\t\t\tif (session.startDirection && session.startDirection !== touch.direction) {\n\t\t\t\t\t\tif (session.startDirection === 'up' || session.startDirection === 'down') {\n\t\t\t\t\t\t\ttouch.direction = touch.deltaY < 0 ? 'up' : 'down';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttouch.direction = touch.deltaX < 0 ? 'left' : 'right';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!session.drag) {\n\t\t\t\t\tsession.drag = true;\n\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\n\t\t\t\t}\n\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif (session.drag && touch.isFinal) {\n\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture drag\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 20,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1\n\t\t}\n\t});\n})(mui, 'drag');\n/**\n * mui gesture tap and doubleTap\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar lastTarget;\n\tvar lastTapTime;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_END:\n\t\t\t\tif (!touch.isFinal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = session.target;\n\t\t\t\tif (!target || (target.disabled || (target.classList && target.classList.contains('mui-disabled')))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (touch.distance < options.tapMaxDistance && touch.deltaTime < options.tapMaxTime) {\n\t\t\t\t\tif ($.options.gestureConfig.doubletap && lastTarget && (lastTarget === target)) { //same target\n\t\t\t\t\t\tif (lastTapTime && (touch.timestamp - lastTapTime) < options.tapMaxInterval) {\n\t\t\t\t\t\t\t$.trigger(target, 'doubletap', touch);\n\t\t\t\t\t\t\tlastTapTime = $.now();\n\t\t\t\t\t\t\tlastTarget = target;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$.trigger(target, name, touch);\n\t\t\t\t\tlastTapTime = $.now();\n\t\t\t\t\tlastTarget = target;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture tap\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 30,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\ttapMaxInterval: 300,\n\t\t\ttapMaxDistance: 5,\n\t\t\ttapMaxTime: 250\n\t\t}\n\t});\n})(mui, 'tap');\n/**\n * mui gesture longtap\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar timer;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t}, options.holdTimeout);\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (touch.distance > options.holdThreshold) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tclearTimeout(timer);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture longtap\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\tholdTimeout: 500,\n\t\t\tholdThreshold: 2\n\t\t}\n\t});\n})(mui, 'longtap');\n/**\n * mui gesture hold\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar timer;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tif ($.options.gestureConfig.hold) {\n\t\t\t\t\ttimer && clearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\t\ttouch.hold = true;\n\t\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t}, options.holdTimeout);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif (timer) {\n\t\t\t\t\tclearTimeout(timer) && (timer = null);\n\t\t\t\t\t$.trigger(session.target, 'release', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture hold\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\tholdTimeout: 0\n\t\t}\n\t});\n})(mui, 'hold');\n/**\n * mui gesture pinch\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar options = this.options;\n\t\tvar session = $.gestures.session;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif ($.options.gestureConfig.pinch) {\n\t\t\t\t\tif (touch.touches.length < 2) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!session.pinch) { //start\n\t\t\t\t\t\tsession.pinch = true;\n\t\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\n\t\t\t\t\t}\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\tvar scale = touch.scale;\n\t\t\t\t\tvar rotation = touch.rotation;\n\t\t\t\t\tvar lastScale = typeof touch.lastScale === 'undefined' ? 1 : touch.lastScale;\n\t\t\t\t\tvar scaleDiff = 0.000000000001; //防止scale与lastScale相等，不触发事件的情况。\n\t\t\t\t\tif (scale > lastScale) { //out\n\t\t\t\t\t\tlastScale = scale - scaleDiff;\n\t\t\t\t\t\t$.trigger(session.target, name + 'out', touch);\n\t\t\t\t\t} //in\n\t\t\t\t\telse if (scale < lastScale) {\n\t\t\t\t\t\tlastScale = scale + scaleDiff;\n\t\t\t\t\t\t$.trigger(session.target, name + 'in', touch);\n\t\t\t\t\t}\n\t\t\t\t\tif (Math.abs(rotation) > options.minRotationAngle) {\n\t\t\t\t\t\t$.trigger(session.target, 'rotate', touch);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif ($.options.gestureConfig.pinch && session.pinch && touch.touches.length === 2) {\n\t\t\t\t\tsession.pinch = false;\n\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture pinch\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tminRotationAngle: 0\n\t\t}\n\t});\n})(mui, 'pinch');\n/**\n * mui.init\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.global = $.options = {\n\t\tgestureConfig: {\n\t\t\ttap: true,\n\t\t\tdoubletap: false,\n\t\t\tlongtap: false,\n\t\t\thold: false,\n\t\t\tflick: true,\n\t\t\tswipe: true,\n\t\t\tdrag: true,\n\t\t\tpinch: false\n\t\t}\n\t};\n\t/**\n\t *\n\t * @param {type} options\n\t * @returns {undefined}\n\t */\n\t$.initGlobal = function(options) {\n\t\t$.options = $.extend(true, $.global, options);\n\t\treturn this;\n\t};\n\tvar inits = {};\n\n\t/**\n\t * 单页配置 初始化\n\t * @param {object} options\n\t */\n\t$.init = function(options) {\n\t\t$.options = $.extend(true, $.global, options || {});\n\t\t$.ready(function() {\n\t\t\t$.doAction('inits', function(index, init) {\n\t\t\t\tvar isInit = !!(!inits[init.name] || init.repeat);\n\t\t\t\tif (isInit) {\n\t\t\t\t\tinit.handle.call($);\n\t\t\t\t\tinits[init.name] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn this;\n\t};\n\n\t/**\n\t * 增加初始化执行流程\n\t * @param {function} init\n\t */\n\t$.addInit = function(init) {\n\t\treturn $.addAction('inits', init);\n\t};\n\t/**\n\t * 处理html5版本subpages \n\t */\n\t$.addInit({\n\t\tname: 'iframe',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar subpages = options.subpages || [];\n\t\t\tif (!$.os.plus && subpages.length) {\n\t\t\t\t//暂时只处理单个subpage。后续可以考虑支持多个subpage\n\t\t\t\tcreateIframe(subpages[0]);\n\t\t\t}\n\t\t}\n\t});\n\tvar createIframe = function(options) {\n\t\tvar wrapper = document.createElement('div');\n\t\twrapper.className = 'mui-iframe-wrapper';\n\t\tvar styles = options.styles || {};\n\t\tif (typeof styles.top !== 'string') {\n\t\t\tstyles.top = '0px';\n\t\t}\n\t\tif (typeof styles.bottom !== 'string') {\n\t\t\tstyles.bottom = '0px';\n\t\t}\n\t\twrapper.style.top = styles.top;\n\t\twrapper.style.bottom = styles.bottom;\n\t\tvar iframe = document.createElement('iframe');\n\t\tiframe.src = options.url;\n\t\tiframe.id = options.id || options.url;\n\t\tiframe.name = iframe.id;\n\t\twrapper.appendChild(iframe);\n\t\tdocument.body.appendChild(wrapper);\n\t\t//目前仅处理微信\n\t\t$.os.wechat && handleScroll(wrapper, iframe);\n\t};\n\n\tfunction handleScroll(wrapper, iframe) {\n\t\tvar key = 'MUI_SCROLL_POSITION_' + document.location.href + '_' + iframe.src;\n\t\tvar scrollTop = (parseFloat(localStorage.getItem(key)) || 0);\n\t\tif (scrollTop) {\n\t\t\t(function(y) {\n\t\t\t\tiframe.onload = function() {\n\t\t\t\t\twindow.scrollTo(0, y);\n\t\t\t\t};\n\t\t\t})(scrollTop);\n\t\t}\n\t\tsetInterval(function() {\n\t\t\tvar _scrollTop = window.scrollY;\n\t\t\tif (scrollTop !== _scrollTop) {\n\t\t\t\tlocalStorage.setItem(key, _scrollTop + '');\n\t\t\t\tscrollTop = _scrollTop;\n\t\t\t}\n\t\t}, 100);\n\t};\n\t$(function() {\n\t\tvar classList = document.body.classList;\n\t\tvar os = [];\n\t\tif ($.os.ios) {\n\t\t\tos.push({\n\t\t\t\tos: 'ios',\n\t\t\t\tversion: $.os.version\n\t\t\t});\n\t\t\tclassList.add('mui-ios');\n\t\t} else if ($.os.android) {\n\t\t\tos.push({\n\t\t\t\tos: 'android',\n\t\t\t\tversion: $.os.version\n\t\t\t});\n\t\t\tclassList.add('mui-android');\n\t\t}\n\t\tif ($.os.wechat) {\n\t\t\tos.push({\n\t\t\t\tos: 'wechat',\n\t\t\t\tversion: $.os.wechat.version\n\t\t\t});\n\t\t\tclassList.add('mui-wechat');\n\t\t}\n\t\tif (os.length) {\n\t\t\t$.each(os, function(index, osObj) {\n\t\t\t\tvar version = '';\n\t\t\t\tvar classArray = [];\n\t\t\t\tif (osObj.version) {\n\t\t\t\t\t$.each(osObj.version.split('.'), function(i, v) {\n\t\t\t\t\t\tversion = version + (version ? '-' : '') + v;\n\t\t\t\t\t\tclassList.add($.className(osObj.os + '-' + version));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(mui);\n/**\n * mui.init 5+\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\tvar defaultOptions = {\n\t\tswipeBack: false,\n\t\tpreloadPages: [], //5+ lazyLoad webview\n\t\tpreloadLimit: 10, //预加载窗口的数量限制(一旦超出，先进先出)\n\t\tkeyEventBind: {\n\t\t\tbackbutton: true,\n\t\t\tmenubutton: true\n\t\t},\n\t\ttitleConfig: {\n\t\t\theight: \"44px\",\n\t\t\tbackgroundColor: \"#f7f7f7\", //导航栏背景色\n\t\t\tbottomBorderColor: \"#cccccc\", //底部边线颜色\n\t\t\ttitle: { //标题配置\n\t\t\t\ttext: \"\", //标题文字\n\t\t\t\tposition: {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\"\n\t\t\t\t},\n\t\t\t\tstyles: {\n\t\t\t\t\tcolor: \"#000000\",\n\t\t\t\t\talign: \"center\",\n\t\t\t\t\tfamily: \"'Helvetica Neue',Helvetica,sans-serif\",\n\t\t\t\t\tsize: \"17px\",\n\t\t\t\t\tstyle: \"normal\",\n\t\t\t\t\tweight: \"normal\",\n\t\t\t\t\tfontSrc: \"\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tback: {\n\t\t\t\timage: {\n\t\t\t\t\tbase64Data: '',\n\t\t\t\t\timgSrc: '',\n\t\t\t\t\tsprite: {\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%'\n\t\t\t\t\t},\n\t\t\t\t\tposition: {\n\t\t\t\t\t\ttop: \"10px\",\n\t\t\t\t\t\tleft: \"10px\",\n\t\t\t\t\t\twidth: \"24px\",\n\t\t\t\t\t\theight: \"24px\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t//默认页面动画\n\tvar defaultShow = {\n\t\tevent:\"titleUpdate\",\n\t\tautoShow: true,\n\t\tduration: 300,\n\t\taniShow: 'slide-in-right',\n\t\textras:{}\n\t};\n\t//若执行了显示动画初始化操作，则要覆盖默认配置\n\tif($.options.show) {\n\t\tdefaultShow = $.extend(true, defaultShow, $.options.show);\n\t}\n\n\t$.currentWebview = null;\n\n\t$.extend(true, $.global, defaultOptions);\n\t$.extend(true, $.options, defaultOptions);\n\t/**\n\t * 等待动画配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.waitingOptions = function(options) {\n\t\treturn $.extend(true, {}, {\n\t\t\tautoShow: true,\n\t\t\ttitle: '',\n\t\t\tmodal: false\n\t\t}, options);\n\t};\n\t/**\n\t * 窗口显示配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.showOptions = function(options) {\n\t\treturn $.extend(true, {}, defaultShow, options);\n\t};\n\t/**\n\t * 窗口默认配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.windowOptions = function(options) {\n\t\treturn $.extend({\n\t\t\tscalable: false,\n\t\t\tbounce: \"\" //vertical\n\t\t}, options);\n\t};\n\t/**\n\t * plusReady\n\t * @param {type} callback\n\t * @returns {_L6.$}\n\t */\n\t$.plusReady = function(callback) {\n\t\tif(window.plus) {\n\t\t\tsetTimeout(function() { //解决callback与plusready事件的执行时机问题(典型案例:showWaiting,closeWaiting)\n\t\t\t\tcallback();\n\t\t\t}, 0);\n\t\t} else {\n\t\t\tdocument.addEventListener(\"plusready\", function() {\n\t\t\t\tcallback();\n\t\t\t}, false);\n\t\t}\n\t\treturn this;\n\t};\n\t/**\n\t * 5+ event(5+没提供之前我自己实现)\n\t * @param {type} webview\n\t * @param {type} eventType\n\t * @param {type} data\n\t * @returns {undefined}\n\t */\n\t$.fire = function(webview, eventType, data) {\n\t\tif(webview) {\n\t\t\tif(typeof data === 'undefined') {\n\t\t\t\tdata = '';\n\t\t\t} else if(typeof data === 'boolean' || typeof data === 'number') {\n\t\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"',\" + data + \")\");\n\t\t\t\treturn;\n\t\t\t} else if($.isPlainObject(data)) {\n\t\t\t\tdata = JSON.stringify(data || {}).replace(/\\'/g, \"\\\\u0027\").replace(/\\\\/g, \"\\\\u005c\");\n\t\t\t}\n\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"','\" + data + \"')\");\n\t\t}\n\t};\n\t/**\n\t * 5+ event(5+没提供之前我自己实现)\n\t * @param {type} eventType\n\t * @param {type} data\n\t * @returns {undefined}\n\t */\n\t$.receive = function(eventType, data) {\n\t\tif(eventType) {\n\t\t\ttry {\n\t\t\t\tif(data && typeof data === 'string') {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\t$.trigger(document, eventType, data);\n\t\t}\n\t};\n\tvar triggerPreload = function(webview) {\n\t\tif(!webview.preloaded) { //保证仅触发一次\n\t\t\t$.fire(webview, 'preload');\n\t\t\tvar list = webview.children();\n\t\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\t\t$.fire(list[i], 'preload');\n\t\t\t}\n\t\t\twebview.preloaded = true;\n\t\t}\n\t};\n\tvar trigger = function(webview, eventType, timeChecked) {\n\t\tif(timeChecked) {\n\t\t\tif(!webview[eventType + 'ed']) {\n\t\t\t\t$.fire(webview, eventType);\n\t\t\t\tvar list = webview.children();\n\t\t\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\t\t\t$.fire(list[i], eventType);\n\t\t\t\t}\n\t\t\t\twebview[eventType + 'ed'] = true;\n\t\t\t}\n\t\t} else {\n\t\t\t$.fire(webview, eventType);\n\t\t\tvar list = webview.children();\n\t\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\t\t$.fire(list[i], eventType);\n\t\t\t}\n\t\t}\n\n\t};\n\t/**\n\t * 打开新窗口\n\t * @param {string} url 要打开的页面地址\n\t * @param {string} id 指定页面ID\n\t * @param {object} options 可选:参数,等待,窗口,显示配置{params:{},waiting:{},styles:{},show:{}}\n\t */\n\t$.openWindow = function(url, id, options) {\n\t\tif(typeof url === 'object') {\n\t\t\toptions = url;\n\t\t\turl = options.url;\n\t\t\tid = options.id || url;\n\t\t} else {\n\t\t\tif(typeof id === 'object') {\n\t\t\t\toptions = id;\n\t\t\t\tid = options.id || url;\n\t\t\t} else {\n\t\t\t\tid = id || url;\n\t\t\t}\n\t\t}\n\t\tif(!$.os.plus) {\n\t\t\t//TODO 先临时这么处理：手机上顶层跳，PC上parent跳\n\t\t\tif($.os.ios || $.os.android) {\n\t\t\t\twindow.top.location.href = url;\n\t\t\t} else {\n\t\t\t\twindow.parent.location.href = url;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif(!window.plus) {\n\t\t\treturn;\n\t\t}\n\n\t\toptions = options || {};\n\t\tvar params = options.params || {};\n\t\tvar webview = null,\n\t\t\twebviewCache = null,\n\t\t\tnShow, nWaiting;\n\n\t\tif($.webviews[id]) {\n\t\t\twebviewCache = $.webviews[id];\n\t\t\t//webview真实存在，才能获取\n\t\t\tif(plus.webview.getWebviewById(id)) {\n\t\t\t\twebview = webviewCache.webview;\n\t\t\t}\n\t\t} else if(options.createNew !== true) {\n\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t}\n\n\t\tif(webview) { //已缓存\n\t\t\t//每次show都需要传递动画参数；\n\t\t\t//预加载的动画参数优先级：openWindow配置>preloadPages配置>mui默认配置；\n\t\t\tnShow = webviewCache ? webviewCache.show : defaultShow;\n\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\n\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function() {\n\t\t\t\ttriggerPreload(webview);\n\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t});\n\t\t\tif(webviewCache) {\n\t\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\n\t\t\t}\n\t\t\treturn webview;\n\t\t} else { //新窗口\n\t\t\tif(!url) {\n\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\n\t\t\t}\n\n\t\t\t//显示waiting\n\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\n\t\t\tif(waitingConfig.autoShow) {\n\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\n\t\t\t}\n\n\t\t\t//创建页面\n\t\t\toptions = $.extend(options, {\n\t\t\t\tid: id,\n\t\t\t\turl: url\n\t\t\t});\n\n\t\t\twebview = $.createWindow(options);\n\n\t\t\t//显示\n\t\t\tnShow = $.showOptions(options.show);\n\t\t\tif(nShow.autoShow) {\n\t\t\t\tvar showWebview = function() {\n\t\t\t\t\t//关闭等待框\n\t\t\t\t\tif(nWaiting) {\n\t\t\t\t\t\tnWaiting.close();\n\t\t\t\t\t}\n\t\t\t\t\t//显示页面\n\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function() {},nShow.extras);\n\t\t\t\t\toptions.afterShowMethodName && webview.evalJS(options.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\n\t\t\t\t};\n\t\t\t\t//titleUpdate触发时机早于loaded，更换为titleUpdate后，可以更早的显示webview\n\t\t\t\twebview.addEventListener(nShow.event, showWebview, false);\n\t\t\t\t//loaded事件发生后，触发预加载和pagebeforeshow事件\n\t\t\t\twebview.addEventListener(\"loaded\", function() {\n\t\t\t\t\ttriggerPreload(webview);\n\t\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t\t}, false);\n\t\t\t}\n\t\t}\n\t\treturn webview;\n\t};\n\n\t$.openWindowWithTitle = function(options, titleConfig) {\n\t\toptions = options || {};\n\t\tvar url = options.url;\n\t\tvar id = options.id || url;\n\n\t\tif(!$.os.plus) {\n\t\t\t//TODO 先临时这么处理：手机上顶层跳，PC上parent跳\n\t\t\tif($.os.ios || $.os.android) {\n\t\t\t\twindow.top.location.href = url;\n\t\t\t} else {\n\t\t\t\twindow.parent.location.href = url;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif(!window.plus) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar params = options.params || {};\n\t\tvar webview = null,\n\t\t\twebviewCache = null,\n\t\t\tnShow, nWaiting;\n\n\t\tif($.webviews[id]) {\n\t\t\twebviewCache = $.webviews[id];\n\t\t\t//webview真实存在，才能获取\n\t\t\tif(plus.webview.getWebviewById(id)) {\n\t\t\t\twebview = webviewCache.webview;\n\t\t\t}\n\t\t} else if(options.createNew !== true) {\n\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t}\n\n\t\tif(webview) { //已缓存\n\t\t\t//每次show都需要传递动画参数；\n\t\t\t//预加载的动画参数优先级：openWindow配置>preloadPages配置>mui默认配置；\n\t\t\tnShow = webviewCache ? webviewCache.show : defaultShow;\n\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\n\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function() {\n\t\t\t\ttriggerPreload(webview);\n\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t});\n\t\t\tif(webviewCache) {\n\t\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\n\t\t\t}\n\t\t\treturn webview;\n\t\t} else { //新窗口\n\t\t\tif(!url) {\n\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\n\t\t\t}\n\n\t\t\t//显示waiting\n\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\n\t\t\tif(waitingConfig.autoShow) {\n\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\n\t\t\t}\n\n\t\t\t//创建页面\n\t\t\toptions = $.extend(options, {\n\t\t\t\tid: id,\n\t\t\t\turl: url\n\t\t\t});\n\n\t\t\twebview = $.createWindow(options);\n\n\t\t\tif(titleConfig) { //处理原生头\n\t\t\t\t$.extend(true, $.options.titleConfig, titleConfig);\n\t\t\t\tvar tid = $.options.titleConfig.id ? $.options.titleConfig.id : id + \"_title\";\n\t\t\t\tvar view = new plus.nativeObj.View(tid, {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\theight: $.options.titleConfig.height,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tdock: \"top\",\n\t\t\t\t\tposition: \"dock\"\n\t\t\t\t});\n\t\t\t\tview.drawRect($.options.titleConfig.backgroundColor); //绘制背景色\n\t\t\t\tvar _b = parseInt($.options.titleConfig.height) - 1;\n\t\t\t\tview.drawRect($.options.titleConfig.bottomBorderColor, {\n\t\t\t\t\ttop: _b + \"px\",\n\t\t\t\t\tleft: \"0px\"\n\t\t\t\t}); //绘制底部边线\n\n\t\t\t\t//绘制文字\n\t\t\t\tif($.options.titleConfig.title.text){\n\t\t\t\t\tvar _title = $.options.titleConfig.title;\n\t\t\t\t\tview.drawText(_title.text,_title.position , _title.styles);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//返回图标绘制\n\t\t\t\tvar _back = $.options.titleConfig.back;\n\t\t\t\tvar backClick = null;\n\t\t\t\t//优先字体\n\n\t\t\t\t//其次是图片\n\t\t\t\tvar _backImage = _back.image;\n\t\t\t\tif(_backImage.base64Data || _backImage.imgSrc) {\n\t\t\t\t\t//TODO 此处需要处理百分比的情况\n\t\t\t\t\tbackClick = {\n\t\t\t\t\t\tleft:parseInt(_backImage.position.left),\n\t\t\t\t\t\tright:parseInt(_backImage.position.left) + parseInt(_backImage.position.width)\n\t\t\t\t\t};\n\t\t\t\t\tvar bitmap = new plus.nativeObj.Bitmap(id + \"_back\");\n\t\t\t\t\tif(_backImage.base64Data) { //优先base64编码字符串\n\t\t\t\t\t\tbitmap.loadBase64Data(_backImage.base64Data);\n\t\t\t\t\t} else { //其次加载图片文件\n\t\t\t\t\t\tbitmap.load(_backImage.imgSrc);\n\t\t\t\t\t}\n\t\t\t\t\tview.drawBitmap(bitmap,_backImage.sprite , _backImage.position);\n\t\t\t\t}\n\n\t\t\t\t//处理点击事件\n\t\t\t\tview.setTouchEventRect({\n\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\"\n\t\t\t\t});\n\t\t\t\tview.interceptTouchEvent(true);\n\t\t\t\tview.addEventListener(\"click\", function(e) {\n\t\t\t\t\tvar x = e.clientX;\n\t\t\t\t\t\n\t\t\t\t\t//返回按钮点击\n\t\t\t\t\tif(backClick&& x > backClick.left && x < backClick.right){\n\t\t\t\t\t\tif( _back.click && $.isFunction(_back.click)){\n\t\t\t\t\t\t\t_back.click();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\twebview.evalJS(\"mui&&mui.back();\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, false);\n\t\t\t\twebview.append(view);\n\n\t\t\t}\n\n\t\t\t//显示\n\t\t\tnShow = $.showOptions(options.show);\n\t\t\tif(nShow.autoShow) {\n\t\t\t\t//titleUpdate触发时机早于loaded，更换为titleUpdate后，可以更早的显示webview\n\t\t\t\twebview.addEventListener(nShow.event, function () {\n\t\t\t\t\t//关闭等待框\n\t\t\t\t\tif(nWaiting) {\n\t\t\t\t\t\tnWaiting.close();\n\t\t\t\t\t}\n\t\t\t\t\t//显示页面\n\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function() {},nShow.extras);\n\t\t\t\t}, false);\n\t\t\t}\n\t\t}\n\t\treturn webview;\n\t};\n\n\t/**\n\t * 根据配置信息创建一个webview\n\t * @param {type} options\n\t * @param {type} isCreate\n\t * @returns {webview}\n\t */\n\t$.createWindow = function(options, isCreate) {\n\t\tif(!window.plus) {\n\t\t\treturn;\n\t\t}\n\t\tvar id = options.id || options.url;\n\t\tvar webview;\n\t\tif(options.preload) {\n\t\t\tif($.webviews[id] && $.webviews[id].webview.getURL()) { //已经cache\n\t\t\t\twebview = $.webviews[id].webview;\n\t\t\t} else { //新增预加载窗口\n\t\t\t\t//判断是否携带createNew参数，默认为false\n\t\t\t\tif(options.createNew !== true) {\n\t\t\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t\t\t}\n\n\t\t\t\t//之前没有，那就新创建\t\n\t\t\t\tif(!webview) {\n\t\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), $.extend({\n\t\t\t\t\t\tpreload: true\n\t\t\t\t\t}, options.extras));\n\t\t\t\t\tif(options.subpages) {\n\t\t\t\t\t\t$.each(options.subpages, function(index, subpage) {\n\t\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\n\t\t\t\t\t\t\tif(subpageId) { //过滤空对象\n\t\t\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\n\t\t\t\t\t\t\t\tif(!subWebview) { //如果该webview不存在，则创建\n\t\t\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), $.extend({\n\t\t\t\t\t\t\t\t\t\tpreload: true\n\t\t\t\t\t\t\t\t\t}, subpage.extras));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twebview.append(subWebview);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//TODO 理论上，子webview也应该计算到预加载队列中，但这样就麻烦了，要退必须退整体，否则可能出现问题；\n\t\t\t$.webviews[id] = {\n\t\t\t\twebview: webview, //目前仅preload的缓存webview\n\t\t\t\tpreload: true,\n\t\t\t\tshow: $.showOptions(options.show),\n\t\t\t\tafterShowMethodName: options.afterShowMethodName //就不应该用evalJS。应该是通过事件消息通讯\n\t\t\t};\n\t\t\t//索引该预加载窗口\n\t\t\tvar preloads = $.data.preloads;\n\t\t\tvar index = preloads.indexOf(id);\n\t\t\tif(~index) { //删除已存在的(变相调整插入位置)\n\t\t\t\tpreloads.splice(index, 1);\n\t\t\t}\n\t\t\tpreloads.push(id);\n\t\t\tif(preloads.length > $.options.preloadLimit) {\n\t\t\t\t//先进先出\n\t\t\t\tvar first = $.data.preloads.shift();\n\t\t\t\tvar webviewCache = $.webviews[first];\n\t\t\t\tif(webviewCache && webviewCache.webview) {\n\t\t\t\t\t//需要将自己打开的所有页面，全部close；\n\t\t\t\t\t//关闭该预加载webview\t\n\t\t\t\t\t$.closeAll(webviewCache.webview);\n\t\t\t\t}\n\t\t\t\t//删除缓存\n\t\t\t\tdelete $.webviews[first];\n\t\t\t}\n\t\t} else {\n\t\t\tif(isCreate !== false) { //直接创建非预加载窗口\n\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), options.extras);\n\t\t\t\tif(options.subpages) {\n\t\t\t\t\t$.each(options.subpages, function(index, subpage) {\n\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\n\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\n\t\t\t\t\t\tif(!subWebview) {\n\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), subpage.extras);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twebview.append(subWebview);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn webview;\n\t};\n\n\t/**\n\t * 预加载\n\t */\n\t$.preload = function(options) {\n\t\t//调用预加载函数，不管是否传递preload参数，强制变为true\n\t\tif(!options.preload) {\n\t\t\toptions.preload = true;\n\t\t}\n\t\treturn $.createWindow(options);\n\t};\n\n\t/**\n\t *关闭当前webview打开的所有webview；\n\t */\n\t$.closeOpened = function(webview) {\n\t\tvar opened = webview.opened();\n\t\tif(opened) {\n\t\t\tfor(var i = 0, len = opened.length; i < len; i++) {\n\t\t\t\tvar openedWebview = opened[i];\n\t\t\t\tvar open_open = openedWebview.opened();\n\t\t\t\tif(open_open && open_open.length > 0) {\n\t\t\t\t\t//关闭打开的webview\n\t\t\t\t\t$.closeOpened(openedWebview);\n\t\t\t\t\t//关闭自己\n\t\t\t\t\topenedWebview.close(\"none\");\n\t\t\t\t} else {\n\t\t\t\t\t//如果直接孩子节点，就不用关闭了，因为父关闭的时候，会自动关闭子；\n\t\t\t\t\tif(openedWebview.parent() !== webview) {\n\t\t\t\t\t\topenedWebview.close('none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.closeAll = function(webview, aniShow) {\n\t\t$.closeOpened(webview);\n\t\tif(aniShow) {\n\t\t\twebview.close(aniShow);\n\t\t} else {\n\t\t\twebview.close();\n\t\t}\n\t};\n\n\t/**\n\t * 批量创建webview\n\t * @param {type} options\n\t * @returns {undefined}\n\t */\n\t$.createWindows = function(options) {\n\t\t$.each(options, function(index, option) {\n\t\t\t//初始化预加载窗口(创建)和非预加载窗口(仅配置，不创建)\n\t\t\t$.createWindow(option, false);\n\t\t});\n\t};\n\t/**\n\t * 创建当前页面的子webview\n\t * @param {type} options\n\t * @returns {webview}\n\t */\n\t$.appendWebview = function(options) {\n\t\tif(!window.plus) {\n\t\t\treturn;\n\t\t}\n\t\tvar id = options.id || options.url;\n\t\tvar webview;\n\t\tif(!$.webviews[id]) { //保证执行一遍\n\t\t\t//TODO 这里也有隐患，比如某个webview不是作为subpage创建的，而是作为target webview的话；\n\t\t\tif(!plus.webview.getWebviewById(id)) {\n\t\t\t\twebview = plus.webview.create(options.url, id, options.styles, options.extras);\n\t\t\t}\n\t\t\t//之前的实现方案：子窗口loaded之后再append到父窗口中；\n\t\t\t//问题：部分子窗口loaded事件发生较晚，此时执行父窗口的children方法会返回空，导致父子通讯失败；\n\t\t\t//     比如父页面执行完preload事件后，需触发子页面的preload事件，此时未append的话，就无法触发；\n\t\t\t//修改方式：不再监控loaded事件，直接append\n\t\t\t//by chb@20150521\n\t\t\t// webview.addEventListener('loaded', function() {\n\t\t\tplus.webview.currentWebview().append(webview);\n\t\t\t// });\n\t\t\t$.webviews[id] = options;\n\n\t\t}\n\t\treturn webview;\n\t};\n\n\t//全局webviews\n\t$.webviews = {};\n\t//预加载窗口索引\n\t$.data.preloads = [];\n\t//$.currentWebview\n\t$.plusReady(function() {\n\t\t$.currentWebview = plus.webview.currentWebview();\n\t});\n\t$.addInit({\n\t\tname: '5+',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar subpages = options.subpages || [];\n\t\t\tif($.os.plus) {\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\t//TODO  这里需要判断一下，最好等子窗口加载完毕后，再调用主窗口的show方法；\n\t\t\t\t\t//或者：在openwindow方法中，监听实现；\n\t\t\t\t\t$.each(subpages, function(index, subpage) {\n\t\t\t\t\t\t$.appendWebview(subpage);\n\t\t\t\t\t});\n\t\t\t\t\t//判断是否首页\n\t\t\t\t\tif(plus.webview.currentWebview() === plus.webview.getWebviewById(plus.runtime.appid)) {\n\t\t\t\t\t\t//首页需要自己激活预加载；\n\t\t\t\t\t\t//timeout因为子页面loaded之后才append的，防止子页面尚未append、从而导致其preload未触发的问题；\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\ttriggerPreload(plus.webview.currentWebview());\n\t\t\t\t\t\t}, 300);\n\t\t\t\t\t}\n\t\t\t\t\t//设置ios顶部状态栏颜色；\n\t\t\t\t\tif($.os.ios && $.options.statusBarBackground) {\n\t\t\t\t\t\tplus.navigator.setStatusBarBackground($.options.statusBarBackground);\n\t\t\t\t\t}\n\t\t\t\t\tif($.os.android && parseFloat($.os.version) < 4.4) {\n\t\t\t\t\t\t//解决Android平台4.4版本以下，resume后，父窗体标题延迟渲染的问题；\n\t\t\t\t\t\tif(plus.webview.currentWebview().parent() == null) {\n\t\t\t\t\t\t\tdocument.addEventListener(\"resume\", function() {\n\t\t\t\t\t\t\t\tvar body = document.body;\n\t\t\t\t\t\t\t\tbody.style.display = 'none';\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tbody.style.display = '';\n\t\t\t\t\t\t\t\t}, 10);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t//已支持iframe嵌入\n\t\t\t\t//\t\t\t\tif (subpages.length > 0) {\n\t\t\t\t//\t\t\t\t\tvar err = document.createElement('div');\n\t\t\t\t//\t\t\t\t\terr.className = 'mui-error';\n\t\t\t\t//\t\t\t\t\t//文字描述\n\t\t\t\t//\t\t\t\t\tvar span = document.createElement('span');\n\t\t\t\t//\t\t\t\t\tspan.innerHTML = '在该浏览器下，不支持创建子页面，具体参考';\n\t\t\t\t//\t\t\t\t\terr.appendChild(span);\n\t\t\t\t//\t\t\t\t\tvar a = document.createElement('a');\n\t\t\t\t//\t\t\t\t\ta.innerHTML = '\"mui框架适用场景\"';\n\t\t\t\t//\t\t\t\t\ta.href = 'http://ask.dcloud.net.cn/article/113';\n\t\t\t\t//\t\t\t\t\terr.appendChild(a);\n\t\t\t\t//\t\t\t\t\tdocument.body.appendChild(err);\n\t\t\t\t//\t\t\t\t\tconsole.log('在该浏览器下，不支持创建子页面');\n\t\t\t\t//\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t});\n\twindow.addEventListener('preload', function() {\n\t\t//处理预加载部分\n\t\tvar webviews = $.options.preloadPages || [];\n\t\t$.plusReady(function() {\n\t\t\t$.each(webviews, function(index, webview) {\n\t\t\t\t$.createWindow($.extend(webview, {\n\t\t\t\t\tpreload: true\n\t\t\t\t}));\n\t\t\t});\n\n\t\t});\n\t});\n\t$.supportStatusbarOffset = function() {\n\t\treturn $.os.plus && $.os.ios && parseFloat($.os.version) >= 7;\n\t};\n\t$.ready(function() {\n\t\t//标识当前环境支持statusbar\n\t\tif($.supportStatusbarOffset()) {\n\t\t\tdocument.body.classList.add('mui-statusbar');\n\t\t}\n\t});\n})(mui);\n/**\n * mui back\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\t/**\n\t * register back\n\t * @param {type} back\n\t * @returns {$.gestures}\n\t */\n\t$.addBack = function(back) {\n\t\treturn $.addAction('backs', back);\n\t};\n\t/**\n\t * default\n\t */\n\t$.addBack({\n\t\tname: 'browser',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tif (window.history.length > 1) {\n\t\t\t\twindow.history.back();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t});\n\t/**\n\t * 后退\n\t */\n\t$.back = function() {\n\t\tif (typeof $.options.beforeback === 'function') {\n\t\t\tif ($.options.beforeback() === false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$.doAction('backs');\n\t};\n\twindow.addEventListener('tap', function(e) {\n\t\tvar action = $.targets.action;\n\t\tif (action && action.classList.contains('mui-action-back')) {\n\t\t\t$.back();\n\t\t\t$.targets.action = false;\n\t\t}\n\t});\n\twindow.addEventListener('swiperight', function(e) {\n\t\tvar detail = e.detail;\n\t\tif ($.options.swipeBack === true && Math.abs(detail.angle) < 3) {\n\t\t\t$.back();\n\t\t}\n\t});\n\n})(mui, window);\n/**\n * mui back 5+\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\tif ($.os.plus && $.os.android) {\n\t\t$.addBack({\n\t\t\tname: 'mui',\n\t\t\tindex: 5,\n\t\t\thandle: function() {\n\t\t\t\t//后续重新设计此处，将back放到各个空间内部实现\n\t\t\t\t//popover\n\t\t\t\tif ($.targets._popover && $.targets._popover.classList.contains('mui-active')) {\n\t\t\t\t\t$($.targets._popover).popover('hide');\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t//offcanvas\n\t\t\t\tvar offCanvas = document.querySelector('.mui-off-canvas-wrap.mui-active');\n\t\t\t\tif (offCanvas) {\n\t\t\t\t\t$(offCanvas).offCanvas('close');\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar previewImage = $.isFunction($.getPreviewImage) && $.getPreviewImage();\n\t\t\t\tif (previewImage && previewImage.isShown()) {\n\t\t\t\t\tpreviewImage.close();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t//popup\n\t\t\t\treturn $.closePopup();\n\t\t\t}\n\t\t});\n\t}\n\t//首次按下back按键的时间\n\t$.__back__first = null;\n\t/**\n\t * 5+ back\n\t */\n\t$.addBack({\n\t\tname: '5+',\n\t\tindex: 10,\n\t\thandle: function() {\n\t\t\tif (!window.plus) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar wobj = plus.webview.currentWebview();\n\t\t\tvar parent = wobj.parent();\n\t\t\tif (parent) {\n\t\t\t\tparent.evalJS('mui&&mui.back();');\n\t\t\t} else {\n\t\t\t\twobj.canBack(function(e) {\n\t\t\t\t\t//by chb 暂时注释，在碰到类似popover之类的锚点的时候，需多次点击才能返回；\n\t\t\t\t\tif (e.canBack) { //webview history back\n\t\t\t\t\t\twindow.history.back();\n\t\t\t\t\t} else { //webview close or hide\n\t\t\t\t\t\t//fixed by fxy 此处不应该用opener判断，因为用户有可能自己close掉当前窗口的opener。这样的话。opener就为空了，导致不能执行close\n\t\t\t\t\t\tif (wobj.id === plus.runtime.appid) { //首页\n\t\t\t\t\t\t\t//首页不存在opener的情况下，后退实际上应该是退出应用；\n\t\t\t\t\t\t\t//首次按键，提示‘再按一次退出应用’\n\t\t\t\t\t\t\tif (!$.__back__first) {\n\t\t\t\t\t\t\t\t$.__back__first = new Date().getTime();\n\t\t\t\t\t\t\t\tmui.toast('再按一次退出应用');\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t$.__back__first = null;\n\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (new Date().getTime() - $.__back__first < 2000) {\n\t\t\t\t\t\t\t\t\tplus.runtime.quit();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else { //其他页面，\n\t\t\t\t\t\t\tif (wobj.preload) {\n\t\t\t\t\t\t\t\twobj.hide(\"auto\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t//关闭页面时，需要将其打开的所有子页面全部关闭；\n\t\t\t\t\t\t\t\t$.closeAll(wobj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t});\n\n\n\t$.menu = function() {\n\t\tvar menu = document.querySelector('.mui-action-menu');\n\t\tif (menu) {\n\t\t\t$.trigger(menu, $.EVENT_START); //临时处理menu无touchstart的话，找不到当前targets的问题\n\t\t\t$.trigger(menu, 'tap');\n\t\t} else { //执行父窗口的menu\n\t\t\tif (window.plus) {\n\t\t\t\tvar wobj = $.currentWebview;\n\t\t\t\tvar parent = wobj.parent();\n\t\t\t\tif (parent) { //又得evalJS\n\t\t\t\t\tparent.evalJS('mui&&mui.menu();');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tvar __back = function() {\n\t\t$.back();\n\t};\n\tvar __menu = function() {\n\t\t$.menu();\n\t};\n\t//默认监听\n\t$.plusReady(function() {\n\t\tif ($.options.keyEventBind.backbutton) {\n\t\t\tplus.key.addEventListener('backbutton', __back, false);\n\t\t}\n\t\tif ($.options.keyEventBind.menubutton) {\n\t\t\tplus.key.addEventListener('menubutton', __menu, false);\n\t\t}\n\t});\n\t//处理按键监听事件\n\t$.addInit({\n\t\tname: 'keyEventBind',\n\t\tindex: 1000,\n\t\thandle: function() {\n\t\t\t$.plusReady(function() {\n\t\t\t\t//如果不为true，则移除默认监听\n\t\t\t\tif (!$.options.keyEventBind.backbutton) {\n\t\t\t\t\tplus.key.removeEventListener('backbutton', __back);\n\t\t\t\t}\n\t\t\t\tif (!$.options.keyEventBind.menubutton) {\n\t\t\t\t\tplus.key.removeEventListener('menubutton', __menu);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(mui, window);\n/**\n * mui.init pulldownRefresh\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.addInit({\n\t\tname: 'pullrefresh',\n\t\tindex: 1000,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar pullRefreshOptions = options.pullRefresh || {};\n\t\t\tvar hasPulldown = pullRefreshOptions.down && pullRefreshOptions.down.hasOwnProperty('callback');\n\t\t\tvar hasPullup = pullRefreshOptions.up && pullRefreshOptions.up.hasOwnProperty('callback');\n\t\t\tif (hasPulldown || hasPullup) {\n\t\t\t\tvar container = pullRefreshOptions.container;\n\t\t\t\tif (container) {\n\t\t\t\t\tvar $container = $(container);\n\t\t\t\t\tif ($container.length === 1) {\n\t\t\t\t\t\tif ($.os.plus && $.os.android) { //android 5+\n\t\t\t\t\t\t\t$.plusReady(function() {\n\t\t\t\t\t\t\t\tvar webview = plus.webview.currentWebview();\n\t\t\t\t\t\t\t\tif (hasPullup) {\n\t\t\t\t\t\t\t\t\t//当前页面初始化pullup\n\t\t\t\t\t\t\t\t\tvar upOptions = {};\n\t\t\t\t\t\t\t\t\tupOptions.up = pullRefreshOptions.up;\n\t\t\t\t\t\t\t\t\tupOptions.webviewId = webview.id || webview.getURL();\n\t\t\t\t\t\t\t\t\t$container.pullRefresh(upOptions);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (hasPulldown) {\n\t\t\t\t\t\t\t\t\tvar parent = webview.parent();\n\t\t\t\t\t\t\t\t\tvar id = webview.id || webview.getURL();\n\t\t\t\t\t\t\t\t\tif (parent) {\n\t\t\t\t\t\t\t\t\t\tif (!hasPullup) { //如果没有上拉加载，需要手动初始化一个默认的pullRefresh，以便当前页面容器可以调用endPulldownToRefresh等方法\n\t\t\t\t\t\t\t\t\t\t\t$container.pullRefresh({\n\t\t\t\t\t\t\t\t\t\t\t\twebviewId: id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvar downOptions = {\n\t\t\t\t\t\t\t\t\t\t\twebviewId: id\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tdownOptions.down = $.extend({}, pullRefreshOptions.down);\n\t\t\t\t\t\t\t\t\t\tdownOptions.down.callback = '_CALLBACK';\n\t\t\t\t\t\t\t\t\t\t//父页面初始化pulldown\n\t\t\t\t\t\t\t\t\t\tparent.evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + JSON.stringify(downOptions) + \"')\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(mui);\n/**\n * mui ajax\n * @param {type} $\n * @returns {undefined}\n */\n(function($, window, undefined) {\n\n\tvar jsonType = 'application/json';\n\tvar htmlType = 'text/html';\n\tvar rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n\tvar scriptTypeRE = /^(?:text|application)\\/javascript/i;\n\tvar xmlTypeRE = /^(?:text|application)\\/xml/i;\n\tvar blankRE = /^\\s*$/;\n\n\t$.ajaxSettings = {\n\t\ttype: 'GET',\n\t\tbeforeSend: $.noop,\n\t\tsuccess: $.noop,\n\t\terror: $.noop,\n\t\tcomplete: $.noop,\n\t\tcontext: null,\n\t\txhr: function(protocol) {\n\t\t\treturn new window.XMLHttpRequest();\n\t\t},\n\t\taccepts: {\n\t\t\tscript: 'text/javascript, application/javascript, application/x-javascript',\n\t\t\tjson: jsonType,\n\t\t\txml: 'application/xml, text/xml',\n\t\t\thtml: htmlType,\n\t\t\ttext: 'text/plain'\n\t\t},\n\t\ttimeout: 0,\n\t\tprocessData: true,\n\t\tcache: true\n\t};\n\tvar ajaxBeforeSend = function(xhr, settings) {\n\t\tvar context = settings.context\n\t\tif(settings.beforeSend.call(context, xhr, settings) === false) {\n\t\t\treturn false;\n\t\t}\n\t};\n\tvar ajaxSuccess = function(data, xhr, settings) {\n\t\tsettings.success.call(settings.context, data, 'success', xhr);\n\t\tajaxComplete('success', xhr, settings);\n\t};\n\t// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n\tvar ajaxError = function(error, type, xhr, settings) {\n\t\tsettings.error.call(settings.context, xhr, type, error);\n\t\tajaxComplete(type, xhr, settings);\n\t};\n\t// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n\tvar ajaxComplete = function(status, xhr, settings) {\n\t\tsettings.complete.call(settings.context, xhr, status);\n\t};\n\n\tvar serialize = function(params, obj, traditional, scope) {\n\t\tvar type, array = $.isArray(obj),\n\t\t\thash = $.isPlainObject(obj);\n\t\t$.each(obj, function(key, value) {\n\t\t\ttype = $.type(value);\n\t\t\tif(scope) {\n\t\t\t\tkey = traditional ? scope :\n\t\t\t\t\tscope + '[' + (hash || type === 'object' || type === 'array' ? key : '') + ']';\n\t\t\t}\n\t\t\t// handle data in serializeArray() format\n\t\t\tif(!scope && array) {\n\t\t\t\tparams.add(value.name, value.value);\n\t\t\t}\n\t\t\t// recurse into nested objects\n\t\t\telse if(type === \"array\" || (!traditional && type === \"object\")) {\n\t\t\t\tserialize(params, value, traditional, key);\n\t\t\t} else {\n\t\t\t\tparams.add(key, value);\n\t\t\t}\n\t\t});\n\t};\n\tvar serializeData = function(options) {\n\t\tif(options.processData && options.data && typeof options.data !== \"string\") {\n\t\t\tvar contentType = options.contentType;\n\t\t\tif(!contentType && options.headers) {\n\t\t\t\tcontentType = options.headers['Content-Type'];\n\t\t\t}\n\t\t\tif(contentType && ~contentType.indexOf(jsonType)) { //application/json\n\t\t\t\toptions.data = JSON.stringify(options.data);\n\t\t\t} else {\n\t\t\t\toptions.data = $.param(options.data, options.traditional);\n\t\t\t}\n\t\t}\n\t\tif(options.data && (!options.type || options.type.toUpperCase() === 'GET')) {\n\t\t\toptions.url = appendQuery(options.url, options.data);\n\t\t\toptions.data = undefined;\n\t\t}\n\t};\n\tvar appendQuery = function(url, query) {\n\t\tif(query === '') {\n\t\t\treturn url;\n\t\t}\n\t\treturn(url + '&' + query).replace(/[&?]{1,2}/, '?');\n\t};\n\tvar mimeToDataType = function(mime) {\n\t\tif(mime) {\n\t\t\tmime = mime.split(';', 2)[0];\n\t\t}\n\t\treturn mime && (mime === htmlType ? 'html' :\n\t\t\tmime === jsonType ? 'json' :\n\t\t\tscriptTypeRE.test(mime) ? 'script' :\n\t\t\txmlTypeRE.test(mime) && 'xml') || 'text';\n\t};\n\tvar parseArguments = function(url, data, success, dataType) {\n\t\tif($.isFunction(data)) {\n\t\t\tdataType = success, success = data, data = undefined;\n\t\t}\n\t\tif(!$.isFunction(success)) {\n\t\t\tdataType = success, success = undefined;\n\t\t}\n\t\treturn {\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\tsuccess: success,\n\t\t\tdataType: dataType\n\t\t};\n\t};\n\t$.ajax = function(url, options) {\n\t\tif(typeof url === \"object\") {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\t\tvar settings = options || {};\n\t\tsettings.url = url || settings.url;\n\t\tfor(var key in $.ajaxSettings) {\n\t\t\tif(settings[key] === undefined) {\n\t\t\t\tsettings[key] = $.ajaxSettings[key];\n\t\t\t}\n\t\t}\n\t\tserializeData(settings);\n\t\tvar dataType = settings.dataType;\n\n\t\tif(settings.cache === false || ((!options || options.cache !== true) && ('script' === dataType))) {\n\t\t\tsettings.url = appendQuery(settings.url, '_=' + $.now());\n\t\t}\n\t\tvar mime = settings.accepts[dataType && dataType.toLowerCase()];\n\t\tvar headers = {};\n\t\tvar setHeader = function(name, value) {\n\t\t\theaders[name.toLowerCase()] = [name, value];\n\t\t};\n\t\tvar protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol;\n\t\tvar xhr = settings.xhr(settings);\n\t\tvar nativeSetHeader = xhr.setRequestHeader;\n\t\tvar abortTimeout;\n\n\t\tsetHeader('X-Requested-With', 'XMLHttpRequest');\n\t\tsetHeader('Accept', mime || '*/*');\n\t\tif(!!(mime = settings.mimeType || mime)) {\n\t\t\tif(mime.indexOf(',') > -1) {\n\t\t\t\tmime = mime.split(',', 2)[0];\n\t\t\t}\n\t\t\txhr.overrideMimeType && xhr.overrideMimeType(mime);\n\t\t}\n\t\tif(settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() !== 'GET')) {\n\t\t\tsetHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\n\t\t}\n\t\tif(settings.headers) {\n\t\t\tfor(var name in settings.headers)\n\t\t\t\tsetHeader(name, settings.headers[name]);\n\t\t}\n\t\txhr.setRequestHeader = setHeader;\n\n\t\txhr.onreadystatechange = function() {\n\t\t\tif(xhr.readyState === 4) {\n\t\t\t\txhr.onreadystatechange = $.noop;\n\t\t\t\tclearTimeout(abortTimeout);\n\t\t\t\tvar result, error = false;\n\t\t\t\tvar isLocal = protocol === 'file:';\n\t\t\t\tif((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (xhr.status === 0 && isLocal && xhr.responseText)) {\n\t\t\t\t\tdataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\n\t\t\t\t\tresult = xhr.responseText;\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// http://perfectionkills.com/global-eval-what-are-the-options/\n\t\t\t\t\t\tif(dataType === 'script') {\n\t\t\t\t\t\t\t(1, eval)(result);\n\t\t\t\t\t\t} else if(dataType === 'xml') {\n\t\t\t\t\t\t\tresult = xhr.responseXML;\n\t\t\t\t\t\t} else if(dataType === 'json') {\n\t\t\t\t\t\t\tresult = blankRE.test(result) ? null : $.parseJSON(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\terror = e;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(error) {\n\t\t\t\t\t\tajaxError(error, 'parsererror', xhr, settings);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tajaxSuccess(result, xhr, settings);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar status = xhr.status ? 'error' : 'abort';\n\t\t\t\t\tvar statusText = xhr.statusText || null;\n\t\t\t\t\tif(isLocal) {\n\t\t\t\t\t\tstatus = 'error';\n\t\t\t\t\t\tstatusText = '404';\n\t\t\t\t\t}\n\t\t\t\t\tajaxError(statusText, status, xhr, settings);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif(ajaxBeforeSend(xhr, settings) === false) {\n\t\t\txhr.abort();\n\t\t\tajaxError(null, 'abort', xhr, settings);\n\t\t\treturn xhr;\n\t\t}\n\n\t\tif(settings.xhrFields) {\n\t\t\tfor(var name in settings.xhrFields) {\n\t\t\t\txhr[name] = settings.xhrFields[name];\n\t\t\t}\n\t\t}\n\n\t\tvar async = 'async' in settings ? settings.async : true;\n\n\t\txhr.open(settings.type.toUpperCase(), settings.url, async, settings.username, settings.password);\n\n\t\tfor(var name in headers) {\n\t\t\tif(headers.hasOwnProperty(name)) {\n\t\t\t\tnativeSetHeader.apply(xhr, headers[name]);\n\t\t\t}\n\t\t}\n\t\tif(settings.timeout > 0) {\n\t\t\tabortTimeout = setTimeout(function() {\n\t\t\t\txhr.onreadystatechange = $.noop;\n\t\t\t\txhr.abort();\n\t\t\t\tajaxError(null, 'timeout', xhr, settings);\n\t\t\t}, settings.timeout);\n\t\t}\n\t\txhr.send(settings.data ? settings.data : null);\n\t\treturn xhr;\n\t};\n\n\t$.param = function(obj, traditional) {\n\t\tvar params = [];\n\t\tparams.add = function(k, v) {\n\t\t\tthis.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n\t\t};\n\t\tserialize(params, obj, traditional);\n\t\treturn params.join('&').replace(/%20/g, '+');\n\t};\n\t$.get = function( /* url, data, success, dataType */ ) {\n\t\treturn $.ajax(parseArguments.apply(null, arguments));\n\t};\n\n\t$.post = function( /* url, data, success, dataType */ ) {\n\t\tvar options = parseArguments.apply(null, arguments);\n\t\toptions.type = 'POST';\n\t\treturn $.ajax(options);\n\t};\n\n\t$.getJSON = function( /* url, data, success */ ) {\n\t\tvar options = parseArguments.apply(null, arguments);\n\t\toptions.dataType = 'json';\n\t\treturn $.ajax(options);\n\t};\n\n\t$.fn.load = function(url, data, success) {\n\t\tif(!this.length)\n\t\t\treturn this;\n\t\tvar self = this,\n\t\t\tparts = url.split(/\\s/),\n\t\t\tselector,\n\t\t\toptions = parseArguments(url, data, success),\n\t\t\tcallback = options.success;\n\t\tif(parts.length > 1)\n\t\t\toptions.url = parts[0], selector = parts[1];\n\t\toptions.success = function(response) {\n\t\t\tif(selector) {\n\t\t\t\tvar div = document.createElement('div');\n\t\t\t\tdiv.innerHTML = response.replace(rscript, \"\");\n\t\t\t\tvar selectorDiv = document.createElement('div');\n\t\t\t\tvar childs = div.querySelectorAll(selector);\n\t\t\t\tif(childs && childs.length > 0) {\n\t\t\t\t\tfor(var i = 0, len = childs.length; i < len; i++) {\n\t\t\t\t\t\tselectorDiv.appendChild(childs[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself[0].innerHTML = selectorDiv.innerHTML;\n\t\t\t} else {\n\t\t\t\tself[0].innerHTML = response;\n\t\t\t}\n\t\t\tcallback && callback.apply(self, arguments);\n\t\t};\n\t\t$.ajax(options);\n\t\treturn this;\n\t};\n\n})(mui, window);\n/**\n * 5+ ajax\n */\n(function($) {\n\tvar originAnchor = document.createElement('a');\n\toriginAnchor.href = window.location.href;\n\t$.plusReady(function() {\n\t\t$.ajaxSettings = $.extend($.ajaxSettings, {\n\t\t\txhr: function(settings) {\n\t\t\t\tif (settings.crossDomain) { //强制使用plus跨域\n\t\t\t\t\treturn new plus.net.XMLHttpRequest();\n\t\t\t\t}\n\t\t\t\t//仅在webview的url为远程文件，且ajax请求的资源不同源下使用plus.net.XMLHttpRequest\n\t\t\t\tif (originAnchor.protocol !== 'file:') {\n\t\t\t\t\tvar urlAnchor = document.createElement('a');\n\t\t\t\t\turlAnchor.href = settings.url;\n\t\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\t\tsettings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host);\n\t\t\t\t\tif (settings.crossDomain) {\n\t\t\t\t\t\treturn new plus.net.XMLHttpRequest();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn new window.XMLHttpRequest();\n\t\t\t}\n\t\t});\n\t});\n})(mui);\n/**\n * mui layout(offset[,position,width,height...])\n * @param {type} $\n * @param {type} window\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, undefined) {\n\t$.offset = function(element) {\n\t\tvar box = {\n\t\t\ttop : 0,\n\t\t\tleft : 0\n\t\t};\n\t\tif ( typeof element.getBoundingClientRect !== undefined) {\n\t\t\tbox = element.getBoundingClientRect();\n\t\t}\n\t\treturn {\n\t\t\ttop : box.top + window.pageYOffset - element.clientTop,\n\t\t\tleft : box.left + window.pageXOffset - element.clientLeft\n\t\t};\n\t};\n})(mui, window); \n/**\n * mui animation\n */\n(function($, window) {\n\t/**\n\t * scrollTo\n\t */\n\t$.scrollTo = function(scrollTop, duration, callback) {\n\t\tduration = duration || 1000;\n\t\tvar scroll = function(duration) {\n\t\t\tif (duration <= 0) {\n\t\t\t\twindow.scrollTo(0, scrollTop);\n\t\t\t\tcallback && callback();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar distaince = scrollTop - window.scrollY;\n\t\t\tsetTimeout(function() {\n\t\t\t\twindow.scrollTo(0, window.scrollY + distaince / duration * 10);\n\t\t\t\tscroll(duration - 10);\n\t\t\t}, 16.7);\n\t\t};\n\t\tscroll(duration);\n\t};\n\t$.animationFrame = function(cb) {\n\t\tvar args, isQueued, context;\n\t\treturn function() {\n\t\t\targs = arguments;\n\t\t\tcontext = this;\n\t\t\tif (!isQueued) {\n\t\t\t\tisQueued = true;\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tcb.apply(context, args);\n\t\t\t\t\tisQueued = false;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n\n})(mui, window);\n(function($) {\n\tvar initializing = false,\n\t\tfnTest = /xyz/.test(function() {\n\t\t\txyz;\n\t\t}) ? /\\b_super\\b/ : /.*/;\n\n\tvar Class = function() {};\n\tClass.extend = function(prop) {\n\t\tvar _super = this.prototype;\n\t\tinitializing = true;\n\t\tvar prototype = new this();\n\t\tinitializing = false;\n\t\tfor (var name in prop) {\n\t\t\tprototype[name] = typeof prop[name] == \"function\" &&\n\t\t\t\ttypeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n\t\t\t\t(function(name, fn) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tvar tmp = this._super;\n\n\t\t\t\t\t\tthis._super = _super[name];\n\n\t\t\t\t\t\tvar ret = fn.apply(this, arguments);\n\t\t\t\t\t\tthis._super = tmp;\n\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t};\n\t\t\t\t})(name, prop[name]) :\n\t\t\t\tprop[name];\n\t\t}\n\t\tfunction Class() {\n\t\t\tif (!initializing && this.init)\n\t\t\t\tthis.init.apply(this, arguments);\n\t\t}\n\t\tClass.prototype = prototype;\n\t\tClass.prototype.constructor = Class;\n\t\tClass.extend = arguments.callee;\n\t\treturn Class;\n\t};\n\t$.Class = Class;\n})(mui);\n(function($, document, undefined) {\n\tvar CLASS_PULL_TOP_POCKET = 'mui-pull-top-pocket';\n\tvar CLASS_PULL_BOTTOM_POCKET = 'mui-pull-bottom-pocket';\n\tvar CLASS_PULL = 'mui-pull';\n\tvar CLASS_PULL_LOADING = 'mui-pull-loading';\n\tvar CLASS_PULL_CAPTION = 'mui-pull-caption';\n\tvar CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\n\tvar CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\n\tvar CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\n\n\tvar CLASS_ICON = 'mui-icon';\n\tvar CLASS_SPINNER = 'mui-spinner';\n\tvar CLASS_ICON_PULLDOWN = 'mui-icon-pulldown';\n\n\tvar CLASS_BLOCK = 'mui-block';\n\tvar CLASS_HIDDEN = 'mui-hidden';\n\tvar CLASS_VISIBILITY = 'mui-visibility';\n\n\tvar CLASS_LOADING_UP = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\n\tvar CLASS_LOADING_DOWN = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\n\tvar CLASS_LOADING = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_SPINNER;\n\n\tvar pocketHtml = ['<div class=\"' + CLASS_PULL + '\">', '<div class=\"{icon}\"></div>', '<div class=\"' + CLASS_PULL_CAPTION + '\">{contentrefresh}</div>', '</div>'].join('');\n\n\tvar PullRefresh = {\n\t\tinit: function(element, options) {\n\t\t\tthis._super(element, $.extend(true, {\n\t\t\t\tscrollY: true,\n\t\t\t\tscrollX: false,\n\t\t\t\tindicators: true,\n\t\t\t\tdeceleration: 0.003,\n\t\t\t\tdown: {\n\t\t\t\t\theight: 50,\n\t\t\t\t\tcontentinit: '下拉可以刷新',\n\t\t\t\t\tcontentdown: '下拉可以刷新',\n\t\t\t\t\tcontentover: '释放立即刷新',\n\t\t\t\t\tcontentrefresh: '正在刷新...'\n\t\t\t\t},\n\t\t\t\tup: {\n\t\t\t\t\theight: 50,\n\t\t\t\t\tauto: false,\n\t\t\t\t\tcontentinit: '上拉显示更多',\n\t\t\t\t\tcontentdown: '上拉显示更多',\n\t\t\t\t\tcontentrefresh: '正在加载...',\n\t\t\t\t\tcontentnomore: '没有更多数据了',\n\t\t\t\t\tduration: 300\n\t\t\t\t}\n\t\t\t}, options));\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._super();\n\t\t\tthis._initPocket();\n\t\t},\n\t\t_initPulldownRefresh: function() {\n\t\t\tthis.pulldown = true;\n\t\t\tthis.pullPocket = this.topPocket;\n\t\t\tthis.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\tthis.pullPocket.classList.add(CLASS_VISIBILITY);\n\t\t\tthis.pullCaption = this.topCaption;\n\t\t\tthis.pullLoading = this.topLoading;\n\t\t},\n\t\t_initPullupRefresh: function() {\n\t\t\tthis.pulldown = false;\n\t\t\tthis.pullPocket = this.bottomPocket;\n\t\t\tthis.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\tthis.pullPocket.classList.add(CLASS_VISIBILITY);\n\t\t\tthis.pullCaption = this.bottomCaption;\n\t\t\tthis.pullLoading = this.bottomLoading;\n\t\t},\n\t\t_initPocket: function() {\n\t\t\tvar options = this.options;\n\t\t\tif (options.down && options.down.hasOwnProperty('callback')) {\n\t\t\t\tthis.topPocket = this.scroller.querySelector('.' + CLASS_PULL_TOP_POCKET);\n\t\t\t\tif (!this.topPocket) {\n\t\t\t\t\tthis.topPocket = this._createPocket(CLASS_PULL_TOP_POCKET, options.down, CLASS_LOADING_DOWN);\n\t\t\t\t\tthis.wrapper.insertBefore(this.topPocket, this.wrapper.firstChild);\n\t\t\t\t}\n\t\t\t\tthis.topLoading = this.topPocket.querySelector('.' + CLASS_PULL_LOADING);\n\t\t\t\tthis.topCaption = this.topPocket.querySelector('.' + CLASS_PULL_CAPTION);\n\t\t\t}\n\t\t\tif (options.up && options.up.hasOwnProperty('callback')) {\n\t\t\t\tthis.bottomPocket = this.scroller.querySelector('.' + CLASS_PULL_BOTTOM_POCKET);\n\t\t\t\tif (!this.bottomPocket) {\n\t\t\t\t\tthis.bottomPocket = this._createPocket(CLASS_PULL_BOTTOM_POCKET, options.up, CLASS_LOADING);\n\t\t\t\t\tthis.scroller.appendChild(this.bottomPocket);\n\t\t\t\t}\n\t\t\t\tthis.bottomLoading = this.bottomPocket.querySelector('.' + CLASS_PULL_LOADING);\n\t\t\t\tthis.bottomCaption = this.bottomPocket.querySelector('.' + CLASS_PULL_CAPTION);\n\t\t\t\t//TODO only for h5\n\t\t\t\tthis.wrapper.addEventListener('scrollbottom', this);\n\t\t\t}\n\t\t},\n\t\t_createPocket: function(clazz, options, iconClass) {\n\t\t\tvar pocket = document.createElement('div');\n\t\t\tpocket.className = clazz;\n\t\t\tpocket.innerHTML = pocketHtml.replace('{contentrefresh}', options.contentinit).replace('{icon}', iconClass);\n\t\t\treturn pocket;\n\t\t},\n\t\t_resetPullDownLoading: function() {\n\t\t\tvar loading = this.pullLoading;\n\t\t\tif (loading) {\n\t\t\t\tthis.pullCaption.innerHTML = this.options.down.contentdown;\n\t\t\t\tloading.style.webkitTransition = \"\";\n\t\t\t\tloading.style.webkitTransform = \"\";\n\t\t\t\tloading.style.webkitAnimation = \"\";\n\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t}\n\t\t},\n\t\t_setCaptionClass: function(isPulldown, caption, title) {\n\t\t\tif (!isPulldown) {\n\t\t\t\tswitch (title) {\n\t\t\t\t\tcase this.options.up.contentdown:\n\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.options.up.contentrefresh:\n\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.options.up.contentnomore:\n\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setCaption: function(title, reset) {\n\t\t\tif (this.loading) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar options = this.options;\n\t\t\tvar pocket = this.pullPocket;\n\t\t\tvar caption = this.pullCaption;\n\t\t\tvar loading = this.pullLoading;\n\t\t\tvar isPulldown = this.pulldown;\n\t\t\tvar self = this;\n\t\t\tif (pocket) {\n\t\t\t\tif (reset) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tcaption.innerHTML = self.lastTitle = title;\n\t\t\t\t\t\tif (isPulldown) {\n\t\t\t\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._setCaptionClass(false, caption, title);\n\t\t\t\t\t\t\tloading.className = CLASS_LOADING;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tloading.style.webkitAnimation = \"\";\n\t\t\t\t\t\tloading.style.webkitTransition = \"\";\n\t\t\t\t\t\tloading.style.webkitTransform = \"\";\n\t\t\t\t\t}, 100);\n\t\t\t\t} else {\n\t\t\t\t\tif (title !== this.lastTitle) {\n\t\t\t\t\t\tcaption.innerHTML = title;\n\t\t\t\t\t\tif (isPulldown) {\n\t\t\t\t\t\t\tif (title === options.down.contentrefresh) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING;\n\t\t\t\t\t\t\t\tloading.style.webkitAnimation = \"spinner-spin 1s step-end infinite\";\n\t\t\t\t\t\t\t} else if (title === options.down.contentover) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING_UP;\n\t\t\t\t\t\t\t\tloading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\n\t\t\t\t\t\t\t\tloading.style.webkitTransform = \"rotate(180deg)\";\n\t\t\t\t\t\t\t} else if (title === options.down.contentdown) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t\t\t\t\t\tloading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\n\t\t\t\t\t\t\t\tloading.style.webkitTransform = \"rotate(0deg)\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (title === options.up.contentrefresh) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING + ' ' + CLASS_VISIBILITY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING + ' ' + CLASS_HIDDEN;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself._setCaptionClass(false, caption, title);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.lastTitle = title;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t$.PullRefresh = PullRefresh;\n})(mui, document);\n(function($, window, document, undefined) {\n\tvar CLASS_SCROLL = 'mui-scroll';\n\tvar CLASS_SCROLLBAR = 'mui-scrollbar';\n\tvar CLASS_INDICATOR = 'mui-scrollbar-indicator';\n\tvar CLASS_SCROLLBAR_VERTICAL = CLASS_SCROLLBAR + '-vertical';\n\tvar CLASS_SCROLLBAR_HORIZONTAL = CLASS_SCROLLBAR + '-horizontal';\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\tvar ease = {\n\t\tquadratic: {\n\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n\t\t\tfn: function(k) {\n\t\t\t\treturn k * (2 - k);\n\t\t\t}\n\t\t},\n\t\tcircular: {\n\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\n\t\t\tfn: function(k) {\n\t\t\t\treturn Math.sqrt(1 - (--k * k));\n\t\t\t}\n\t\t},\n\t\toutCirc: {\n\t\t\tstyle: 'cubic-bezier(0.075, 0.82, 0.165, 1)'\n\t\t},\n\t\toutCubic: {\n\t\t\tstyle: 'cubic-bezier(0.165, 0.84, 0.44, 1)'\n\t\t}\n\t}\n\tvar Scroll = $.Class.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis.wrapper = this.element = element;\n\t\t\tthis.scroller = this.wrapper.children[0];\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\tthis.stopped = false;\n\n\t\t\tthis.options = $.extend(true, {\n\t\t\t\tscrollY: true, //是否竖向滚动\n\t\t\t\tscrollX: false, //是否横向滚动\n\t\t\t\tstartX: 0, //初始化时滚动至x\n\t\t\t\tstartY: 0, //初始化时滚动至y\n\n\t\t\t\tindicators: true, //是否显示滚动条\n\t\t\t\tstopPropagation: false,\n\t\t\t\thardwareAccelerated: true,\n\t\t\t\tfixedBadAndorid: false,\n\t\t\t\tpreventDefaultException: {\n\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\n\t\t\t\t},\n\t\t\t\tmomentum: true,\n\n\t\t\t\tsnapX: 0.5, //横向切换距离(以当前容器宽度为基准)\n\t\t\t\tsnap: false, //图片轮播，拖拽式选项卡\n\n\t\t\t\tbounce: true, //是否启用回弹\n\t\t\t\tbounceTime: 500, //回弹动画时间\n\t\t\t\tbounceEasing: ease.outCirc, //回弹动画曲线\n\n\t\t\t\tscrollTime: 500,\n\t\t\t\tscrollEasing: ease.outCubic, //轮播动画曲线\n\n\t\t\t\tdirectionLockThreshold: 5,\n\n\t\t\t\tparallaxElement: false, //视差元素\n\t\t\t\tparallaxRatio: 0.5\n\t\t\t}, options);\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.translateZ = this.options.hardwareAccelerated ? ' translateZ(0)' : '';\n\n\t\t\tthis._init();\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.refresh();\n\t\t\t\t//\t\t\t\tif (this.options.startX !== 0 || this.options.startY !== 0) { //需要判断吗？后续根据实际情况再看看\n\t\t\t\tthis.scrollTo(this.options.startX, this.options.startY);\n\t\t\t\t//\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._initParallax();\n\t\t\tthis._initIndicators();\n\t\t\tthis._initEvent();\n\t\t},\n\t\t_initParallax: function() {\n\t\t\tif (this.options.parallaxElement) {\n\t\t\t\tthis.parallaxElement = document.querySelector(this.options.parallaxElement);\n\t\t\t\tthis.parallaxStyle = this.parallaxElement.style;\n\t\t\t\tthis.parallaxHeight = this.parallaxElement.offsetHeight;\n\t\t\t\tthis.parallaxImgStyle = this.parallaxElement.querySelector('img').style;\n\t\t\t}\n\t\t},\n\t\t_initIndicators: function() {\n\t\t\tvar self = this;\n\t\t\tself.indicators = [];\n\t\t\tif (!this.options.indicators) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar indicators = [],\n\t\t\t\tindicator;\n\n\t\t\t// Vertical scrollbar\n\t\t\tif (self.options.scrollY) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_VERTICAL),\n\t\t\t\t\tlistenX: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\n\t\t\t// Horizontal scrollbar\n\t\t\tif (this.options.scrollX) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_HORIZONTAL),\n\t\t\t\t\tlistenY: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\n\t\t\tfor (var i = indicators.length; i--;) {\n\t\t\t\tthis.indicators.push(new Indicator(this, indicators[i]));\n\t\t\t}\n\n\t\t},\n\t\t_initSnap: function() {\n\t\t\tthis.currentPage = {};\n\t\t\tthis.pages = [];\n\t\t\tvar snaps = this.snaps;\n\t\t\tvar length = snaps.length;\n\t\t\tvar m = 0;\n\t\t\tvar n = -1;\n\t\t\tvar x = 0;\n\t\t\tvar leftX = 0;\n\t\t\tvar rightX = 0;\n\t\t\tvar snapX = 0;\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar snap = snaps[i];\n\t\t\t\tvar offsetLeft = snap.offsetLeft;\n\t\t\t\tvar offsetWidth = snap.offsetWidth;\n\t\t\t\tif (i === 0 || offsetLeft <= snaps[i - 1].offsetLeft) {\n\t\t\t\t\tm = 0;\n\t\t\t\t\tn++;\n\t\t\t\t}\n\t\t\t\tif (!this.pages[m]) {\n\t\t\t\t\tthis.pages[m] = [];\n\t\t\t\t}\n\t\t\t\tx = this._getSnapX(offsetLeft);\n\t\t\t\tsnapX = Math.round((offsetWidth) * this.options.snapX);\n\t\t\t\tleftX = x - snapX;\n\t\t\t\trightX = x - offsetWidth + snapX;\n\t\t\t\tthis.pages[m][n] = {\n\t\t\t\t\tx: x,\n\t\t\t\t\tleftX: leftX,\n\t\t\t\t\trightX: rightX,\n\t\t\t\t\tpageX: m,\n\t\t\t\t\telement: snap\n\t\t\t\t}\n\t\t\t\tif (snap.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\tthis.currentPage = this.pages[m][0];\n\t\t\t\t}\n\t\t\t\tif (x >= this.maxScrollX) {\n\t\t\t\t\tm++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.options.startX = this.currentPage.x || 0;\n\t\t},\n\t\t_getSnapX: function(offsetLeft) {\n\t\t\treturn Math.max(Math.min(0, -offsetLeft + (this.wrapperWidth / 2)), this.maxScrollX);\n\t\t},\n\t\t_gotoPage: function(index) {\n\t\t\tthis.currentPage = this.pages[Math.min(index, this.pages.length - 1)][0];\n\t\t\tfor (var i = 0, len = this.snaps.length; i < len; i++) {\n\t\t\t\tif (i === index) {\n\t\t\t\t\tthis.snaps[i].classList.add(CLASS_ACTIVE);\n\t\t\t\t} else {\n\t\t\t\t\tthis.snaps[i].classList.remove(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollTo(this.currentPage.x, 0, this.options.scrollTime);\n\t\t},\n\t\t_nearestSnap: function(x) {\n\t\t\tif (!this.pages.length) {\n\t\t\t\treturn {\n\t\t\t\t\tx: 0,\n\t\t\t\t\tpageX: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar length = this.pages.length;\n\t\t\tif (x > 0) {\n\t\t\t\tx = 0;\n\t\t\t} else if (x < this.maxScrollX) {\n\t\t\t\tx = this.maxScrollX;\n\t\t\t}\n\t\t\tfor (; i < length; i++) {\n\t\t\t\tvar nearestX = this.direction === 'left' ? this.pages[i][0].leftX : this.pages[i][0].rightX;\n\t\t\t\tif (x >= nearestX) {\n\t\t\t\t\treturn this.pages[i][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: 0,\n\t\t\t\tpageX: 0\n\t\t\t};\n\t\t},\n\t\t_initEvent: function(detach) {\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\twindow[action]('orientationchange', this);\n\t\t\twindow[action]('resize', this);\n\n\t\t\tthis.scroller[action]('webkitTransitionEnd', this);\n\n\t\t\tthis.wrapper[action]($.EVENT_START, this);\n\t\t\tthis.wrapper[action]($.EVENT_CANCEL, this);\n\t\t\tthis.wrapper[action]($.EVENT_END, this);\n\t\t\tthis.wrapper[action]('drag', this);\n\t\t\tthis.wrapper[action]('dragend', this);\n\t\t\tthis.wrapper[action]('flick', this);\n\t\t\tthis.wrapper[action]('scrollend', this);\n\t\t\tif (this.options.scrollX) {\n\t\t\t\tthis.wrapper[action]('swiperight', this);\n\t\t\t}\n\t\t\tvar segmentedControl = this.wrapper.querySelector('.mui-segmented-control');\n\t\t\tif (segmentedControl) { //靠，这个bug排查了一下午，阻止hash跳转，一旦hash跳转会导致可拖拽选项卡的tab不见\n\t\t\t\tmui(segmentedControl)[detach ? 'off' : 'on']('click', 'a', $.preventDefault);\n\t\t\t}\n\n\t\t\tthis.wrapper[action]('scrollstart', this);\n\t\t\tthis.wrapper[action]('refresh', this);\n\t\t},\n\t\t_handleIndicatorScrollend: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade();\n\t\t\t});\n\t\t},\n\t\t_handleIndicatorScrollstart: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade(1);\n\t\t\t});\n\t\t},\n\t\t_handleIndicatorRefresh: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.refresh();\n\t\t\t});\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tif (this.stopped) {\n\t\t\t\tthis.resetPosition();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (e.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\tthis._start(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'drag':\n\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\n\t\t\t\t\tthis._drag(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\tcase 'flick':\n\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\n\t\t\t\t\tthis._flick(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\t\tthis._end(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'webkitTransitionEnd':\n\t\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\n\t\t\t\t\tthis._transitionEnd(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scrollstart':\n\t\t\t\t\tthis._handleIndicatorScrollstart(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scrollend':\n\t\t\t\t\tthis._handleIndicatorScrollend(e);\n\t\t\t\t\tthis._scrollend(e);\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'orientationchange':\n\t\t\t\tcase 'resize':\n\t\t\t\t\tthis._resize();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swiperight':\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'refresh':\n\t\t\t\t\tthis._handleIndicatorRefresh(e);\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t},\n\t\t_start: function(e) {\n\t\t\tthis.moved = this.needReset = false;\n\t\t\tthis._transitionTime();\n\t\t\tif (this.isInTransition) {\n\t\t\t\tthis.needReset = true;\n\t\t\t\tthis.isInTransition = false;\n\t\t\t\tvar pos = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\n\t\t\t\tthis.setTranslate(Math.round(pos.x), Math.round(pos.y));\n\t\t\t\t//\t\t\t\tthis.resetPosition(); //reset\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t\t//\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tthis.reLayout();\n\t\t\t$.trigger(this.scroller, 'beforescrollstart', this);\n\t\t},\n\t\t_getDirectionByAngle: function(angle) {\n\t\t\tif (angle < -80 && angle > -100) {\n\t\t\t\treturn 'up';\n\t\t\t} else if (angle >= 80 && angle < 100) {\n\t\t\t\treturn 'down';\n\t\t\t} else if (angle >= 170 || angle <= -170) {\n\t\t\t\treturn 'left';\n\t\t\t} else if (angle >= -35 && angle <= 10) {\n\t\t\t\treturn 'right';\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t_drag: function(e) {\n\t\t\t//\t\t\tif (this.needReset) {\n\t\t\t//\t\t\t\te.stopPropagation(); //disable parent drag(nested scroller)\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tif (this.options.scrollY || detail.direction === 'up' || detail.direction === 'down') { //如果是竖向滚动或手势方向是上或下\n\t\t\t\t//ios8 hack\n\t\t\t\tif ($.os.ios && parseFloat($.os.version) >= 8) { //多webview时，离开当前webview会导致后续touch事件不触发\n\t\t\t\t\tvar clientY = detail.gesture.touches[0].clientY;\n\t\t\t\t\t//下拉刷新 or 上拉加载\n\t\t\t\t\tif ((clientY + 10) > window.innerHeight || clientY < 10) {\n\t\t\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isPreventDefault = isReturn = false;\n\t\t\tvar direction = this._getDirectionByAngle(detail.angle);\n\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\n\t\t\t\tif (this.options.scrollX) {\n\t\t\t\t\tisPreventDefault = true;\n\t\t\t\t\tif (!this.moved) { //识别角度(该角度导致轮播不灵敏)\n\t\t\t\t\t\t//\t\t\t\t\t\tif (direction !== 'left' && direction !== 'right') {\n\t\t\t\t\t\t//\t\t\t\t\t\t\tisReturn = true;\n\t\t\t\t\t\t//\t\t\t\t\t\t} else {\n\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\t\t\t\t\t//\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.scrollY && !this.moved) {\n\t\t\t\t\tisReturn = true;\n\t\t\t\t}\n\t\t\t} else if (detail.direction === 'up' || detail.direction === 'down') {\n\t\t\t\tif (this.options.scrollY) {\n\t\t\t\t\tisPreventDefault = true;\n\t\t\t\t\t//\t\t\t\t\tif (!this.moved) { //识别角度,竖向滚动似乎没必要进行小角度验证\n\t\t\t\t\t//\t\t\t\t\t\tif (direction !== 'up' && direction !== 'down') {\n\t\t\t\t\t//\t\t\t\t\t\t\tisReturn = true;\n\t\t\t\t\t//\t\t\t\t\t\t}\n\t\t\t\t\t//\t\t\t\t\t}\n\t\t\t\t\tif (!this.moved) {\n\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.scrollX && !this.moved) {\n\t\t\t\t\tisReturn = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisReturn = true;\n\t\t\t}\n\t\t\tif (this.moved || isPreventDefault) {\n\t\t\t\te.stopPropagation(); //阻止冒泡(scroll类嵌套)\n\t\t\t\tdetail.gesture && detail.gesture.preventDefault();\n\t\t\t}\n\t\t\tif (isReturn) { //禁止非法方向滚动\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.moved) {\n\t\t\t\t$.trigger(this.scroller, 'scrollstart', this);\n\t\t\t} else {\n\t\t\t\te.stopPropagation(); //move期间阻止冒泡(scroll嵌套)\n\t\t\t}\n\t\t\tvar deltaX = 0;\n\t\t\tvar deltaY = 0;\n\t\t\tif (!this.moved) { //start\n\t\t\t\tdeltaX = detail.deltaX;\n\t\t\t\tdeltaY = detail.deltaY;\n\t\t\t} else { //move\n\t\t\t\tdeltaX = detail.deltaX - $.gestures.session.prevTouch.deltaX;\n\t\t\t\tdeltaY = detail.deltaY - $.gestures.session.prevTouch.deltaY;\n\t\t\t}\n\t\t\tvar absDeltaX = Math.abs(detail.deltaX);\n\t\t\tvar absDeltaY = Math.abs(detail.deltaY);\n\t\t\tif (absDeltaX > absDeltaY + this.options.directionLockThreshold) {\n\t\t\t\tdeltaY = 0;\n\t\t\t} else if (absDeltaY >= absDeltaX + this.options.directionLockThreshold) {\n\t\t\t\tdeltaX = 0;\n\t\t\t}\n\n\t\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;\n\t\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;\n\t\t\tvar newX = this.x + deltaX;\n\t\t\tvar newY = this.y + deltaY;\n\t\t\t// Slow down if outside of the boundaries\n\t\t\tif (newX > 0 || newX < this.maxScrollX) {\n\t\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n\t\t\t}\n\t\t\tif (newY > 0 || newY < this.maxScrollY) {\n\t\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n\t\t\t}\n\n\t\t\tif (!this.requestAnimationFrame) {\n\t\t\t\tthis._updateTranslate();\n\t\t\t}\n\t\t\tthis.direction = detail.deltaX > 0 ? 'right' : 'left';\n\t\t\tthis.moved = true;\n\t\t\tthis.x = newX;\n\t\t\tthis.y = newY;\n\t\t\t$.trigger(this.scroller, 'scroll', this);\n\t\t},\n\t\t_flick: function(e) {\n\t\t\t//\t\t\tif (!this.moved || this.needReset) {\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tif (!this.moved) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t\tvar detail = e.detail;\n\t\t\tthis._clearRequestAnimationFrame();\n\t\t\tif (e.type === 'dragend' && detail.flick) { //dragend\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar newX = Math.round(this.x);\n\t\t\tvar newY = Math.round(this.y);\n\n\t\t\tthis.isInTransition = false;\n\t\t\t// reset if we are outside of the boundaries\n\t\t\tif (this.resetPosition(this.options.bounceTime)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.scrollTo(newX, newY); // ensures that the last position is rounded\n\n\t\t\tif (e.type === 'dragend') { //dragend\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = 0;\n\t\t\tvar easing = '';\n\t\t\t// start momentum animation if needed\n\t\t\tif (this.options.momentum && detail.flickTime < 300) {\n\t\t\t\tmomentumX = this.hasHorizontalScroll ? this._momentum(this.x, detail.flickDistanceX, detail.flickTime, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\n\t\t\t\t\tdestination: newX,\n\t\t\t\t\tduration: 0\n\t\t\t\t};\n\t\t\t\tmomentumY = this.hasVerticalScroll ? this._momentum(this.y, detail.flickDistanceY, detail.flickTime, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\n\t\t\t\t\tdestination: newY,\n\t\t\t\t\tduration: 0\n\t\t\t\t};\n\t\t\t\tnewX = momentumX.destination;\n\t\t\t\tnewY = momentumY.destination;\n\t\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);\n\t\t\t\tthis.isInTransition = true;\n\t\t\t}\n\n\t\t\tif (newX != this.x || newY != this.y) {\n\t\t\t\tif (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\n\t\t\t\t\teasing = ease.quadratic;\n\t\t\t\t}\n\t\t\t\tthis.scrollTo(newX, newY, time, easing);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t//\t\t\te.stopPropagation();\n\t\t},\n\t\t_end: function(e) {\n\t\t\tthis.needReset = false;\n\t\t\tif ((!this.moved && this.needReset) || e.type === $.EVENT_CANCEL) {\n\t\t\t\tthis.resetPosition();\n\t\t\t}\n\t\t},\n\t\t_transitionEnd: function(e) {\n\t\t\tif (e.target != this.scroller || !this.isInTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._transitionTime();\n\t\t\tif (!this.resetPosition(this.options.bounceTime)) {\n\t\t\t\tthis.isInTransition = false;\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t_scrollend: function(e) {\n\t\t\tif ((this.y === 0 && this.maxScrollY === 0) || (Math.abs(this.y) > 0 && this.y <= this.maxScrollY)) {\n\t\t\t\t$.trigger(this.scroller, 'scrollbottom', this);\n\t\t\t}\n\t\t},\n\t\t_resize: function() {\n\t\t\tvar that = this;\n\t\t\tclearTimeout(that.resizeTimeout);\n\t\t\tthat.resizeTimeout = setTimeout(function() {\n\t\t\t\tthat.refresh();\n\t\t\t}, that.options.resizePolling);\n\t\t},\n\t\t_transitionTime: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\t}\n\t\t\tif (this.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\n\t\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].transitionTime(time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time) { //自定义timer，保证webkitTransitionEnd始终触发\n\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\n\t\t\t\tthis.transitionTimer = $.later(function() {\n\t\t\t\t\t$.trigger(this.scroller, 'webkitTransitionEnd');\n\t\t\t\t}, time + 100, this);\n\t\t\t}\n\t\t},\n\t\t_transitionTimingFunction: function(easing) {\n\t\t\tthis.scrollerStyle['webkitTransitionTimingFunction'] = easing;\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = easing;\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_translate: function(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t},\n\t\t_clearRequestAnimationFrame: function() {\n\t\t\tif (this.requestAnimationFrame) {\n\t\t\t\tcancelAnimationFrame(this.requestAnimationFrame);\n\t\t\t\tthis.requestAnimationFrame = null;\n\t\t\t}\n\t\t},\n\t\t_updateTranslate: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.x !== self.lastX || self.y !== self.lastY) {\n\t\t\t\tself.setTranslate(self.x, self.y);\n\t\t\t}\n\t\t\tself.requestAnimationFrame = requestAnimationFrame(function() {\n\t\t\t\tself._updateTranslate();\n\t\t\t});\n\t\t},\n\t\t_createScrollBar: function(clazz) {\n\t\t\tvar scrollbar = document.createElement('div');\n\t\t\tvar indicator = document.createElement('div');\n\t\t\tscrollbar.className = CLASS_SCROLLBAR + ' ' + clazz;\n\t\t\tindicator.className = CLASS_INDICATOR;\n\t\t\tscrollbar.appendChild(indicator);\n\t\t\tif (clazz === CLASS_SCROLLBAR_VERTICAL) {\n\t\t\t\tthis.scrollbarY = scrollbar;\n\t\t\t\tthis.scrollbarIndicatorY = indicator;\n\t\t\t} else if (clazz === CLASS_SCROLLBAR_HORIZONTAL) {\n\t\t\t\tthis.scrollbarX = scrollbar;\n\t\t\t\tthis.scrollbarIndicatorX = indicator;\n\t\t\t}\n\t\t\tthis.wrapper.appendChild(scrollbar);\n\t\t\treturn scrollbar;\n\t\t},\n\t\t_preventDefaultException: function(el, exceptions) {\n\t\t\tfor (var i in exceptions) {\n\t\t\t\tif (exceptions[i].test(el[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t_reLayout: function() {\n\t\t\tif (!this.hasHorizontalScroll) {\n\t\t\t\tthis.maxScrollX = 0;\n\t\t\t\tthis.scrollerWidth = this.wrapperWidth;\n\t\t\t}\n\n\t\t\tif (!this.hasVerticalScroll) {\n\t\t\t\tthis.maxScrollY = 0;\n\t\t\t\tthis.scrollerHeight = this.wrapperHeight;\n\t\t\t}\n\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.refresh();\n\t\t\t});\n\n\t\t\t//以防slider类嵌套使用\n\t\t\tif (this.options.snap && typeof this.options.snap === 'string') {\n\t\t\t\tvar items = this.scroller.querySelectorAll(this.options.snap);\n\t\t\t\tthis.itemLength = 0;\n\t\t\t\tthis.snaps = [];\n\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tif (item.parentNode === this.scroller) {\n\t\t\t\t\t\tthis.itemLength++;\n\t\t\t\t\t\tthis.snaps.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._initSnap(); //需要每次都_initSnap么。其实init的时候执行一次，后续resize的时候执行一次就行了吧.先这么做吧，如果影响性能，再调整\n\t\t\t}\n\t\t},\n\t\t_momentum: function(current, distance, time, lowerMargin, wrapperSize, deceleration) {\n\t\t\tvar speed = parseFloat(Math.abs(distance) / time),\n\t\t\t\tdestination,\n\t\t\t\tduration;\n\n\t\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;\n\t\t\tdestination = current + (speed * speed) / (2 * deceleration) * (distance < 0 ? -1 : 1);\n\t\t\tduration = speed / deceleration;\n\t\t\tif (destination < lowerMargin) {\n\t\t\t\tdestination = wrapperSize ? lowerMargin - (wrapperSize / 2.5 * (speed / 8)) : lowerMargin;\n\t\t\t\tdistance = Math.abs(destination - current);\n\t\t\t\tduration = distance / speed;\n\t\t\t} else if (destination > 0) {\n\t\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\n\t\t\t\tdistance = Math.abs(current) + destination;\n\t\t\t\tduration = distance / speed;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdestination: Math.round(destination),\n\t\t\t\tduration: duration\n\t\t\t};\n\t\t},\n\t\t_getTranslateStr: function(x, y) {\n\t\t\tif (this.options.hardwareAccelerated) {\n\t\t\t\treturn 'translate3d(' + x + 'px,' + y + 'px,0px) ' + this.translateZ;\n\t\t\t}\n\t\t\treturn 'translate(' + x + 'px,' + y + 'px) ';\n\t\t},\n\t\t//API\n\t\tsetStopped: function(stopped) {\n\t\t\tthis.stopped = !!stopped;\n\t\t},\n\t\tsetTranslate: function(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.scrollerStyle['webkitTransform'] = this._getTranslateStr(x, y);\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tvar parallaxY = y * this.options.parallaxRatio;\n\t\t\t\tvar scale = 1 + parallaxY / ((this.parallaxHeight - parallaxY) / 2);\n\t\t\t\tif (scale > 1) {\n\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1 - parallaxY / 100 * this.options.parallaxRatio;\n\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -parallaxY) + ' scale(' + scale + ',' + scale + ')';\n\t\t\t\t} else {\n\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1;\n\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -1) + ' scale(1,1)';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].updatePosition();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.lastX = this.x;\n\t\t\tthis.lastY = this.y;\n\t\t\t$.trigger(this.scroller, 'scroll', this);\n\t\t},\n\t\treLayout: function() {\n\t\t\tthis.wrapper.offsetHeight;\n\n\t\t\tvar paddingLeft = parseFloat($.getStyles(this.wrapper, 'padding-left')) || 0;\n\t\t\tvar paddingRight = parseFloat($.getStyles(this.wrapper, 'padding-right')) || 0;\n\t\t\tvar paddingTop = parseFloat($.getStyles(this.wrapper, 'padding-top')) || 0;\n\t\t\tvar paddingBottom = parseFloat($.getStyles(this.wrapper, 'padding-bottom')) || 0;\n\n\t\t\tvar clientWidth = this.wrapper.clientWidth;\n\t\t\tvar clientHeight = this.wrapper.clientHeight;\n\n\t\t\tthis.scrollerWidth = this.scroller.offsetWidth;\n\t\t\tthis.scrollerHeight = this.scroller.offsetHeight;\n\n\t\t\tthis.wrapperWidth = clientWidth - paddingLeft - paddingRight;\n\t\t\tthis.wrapperHeight = clientHeight - paddingTop - paddingBottom;\n\n\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\n\t\t\tthis.maxScrollY = Math.min(this.wrapperHeight - this.scrollerHeight, 0);\n\t\t\tthis.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\n\t\t\tthis.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\n\t\t\tthis._reLayout();\n\t\t},\n\t\tresetPosition: function(time) {\n\t\t\tvar x = this.x,\n\t\t\t\ty = this.y;\n\n\t\t\ttime = time || 0;\n\t\t\tif (!this.hasHorizontalScroll || this.x > 0) {\n\t\t\t\tx = 0;\n\t\t\t} else if (this.x < this.maxScrollX) {\n\t\t\t\tx = this.maxScrollX;\n\t\t\t}\n\n\t\t\tif (!this.hasVerticalScroll || this.y > 0) {\n\t\t\t\ty = 0;\n\t\t\t} else if (this.y < this.maxScrollY) {\n\t\t\t\ty = this.maxScrollY;\n\t\t\t}\n\n\t\t\tif (x == this.x && y == this.y) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.scrollTo(x, y, time, this.options.scrollEasing);\n\n\t\t\treturn true;\n\t\t},\n\t\t_reInit: function() {\n\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SCROLL);\n\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\n\t\t\t\tif (groups[i].parentNode === this.wrapper) {\n\t\t\t\t\tthis.scroller = groups[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t},\n\t\trefresh: function() {\n\t\t\tthis._reInit();\n\t\t\tthis.reLayout();\n\t\t\t$.trigger(this.scroller, 'refresh', this);\n\t\t\tthis.resetPosition();\n\t\t},\n\t\tscrollTo: function(x, y, time, easing) {\n\t\t\tvar easing = easing || ease.circular;\n\t\t\t//\t\t\tthis.isInTransition = time > 0 && (this.lastX != x || this.lastY != y);\n\t\t\t//暂不严格判断x,y，否则会导致部分版本上不正常触发轮播\n\t\t\tthis.isInTransition = time > 0;\n\t\t\tif (this.isInTransition) {\n\t\t\t\tthis._clearRequestAnimationFrame();\n\t\t\t\tthis._transitionTimingFunction(easing.style);\n\t\t\t\tthis._transitionTime(time);\n\t\t\t\tthis.setTranslate(x, y);\n\t\t\t} else {\n\t\t\t\tthis.setTranslate(x, y);\n\t\t\t}\n\n\t\t},\n\t\tscrollToBottom: function(time, easing) {\n\t\t\ttime = time || this.options.scrollTime;\n\t\t\tthis.scrollTo(0, this.maxScrollY, time, easing);\n\t\t},\n\t\tgotoPage: function(index) {\n\t\t\tthis._gotoPage(index);\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis._initEvent(true); //detach\n\t\t\tdelete $.data[this.wrapper.getAttribute('data-scroll')];\n\t\t\tthis.wrapper.setAttribute('data-scroll', '');\n\t\t}\n\t});\n\t//Indicator\n\tvar Indicator = function(scroller, options) {\n\t\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n\t\tthis.wrapperStyle = this.wrapper.style;\n\t\tthis.indicator = this.wrapper.children[0];\n\t\tthis.indicatorStyle = this.indicator.style;\n\t\tthis.scroller = scroller;\n\n\t\tthis.options = $.extend({\n\t\t\tlistenX: true,\n\t\t\tlistenY: true,\n\t\t\tfade: false,\n\t\t\tspeedRatioX: 0,\n\t\t\tspeedRatioY: 0\n\t\t}, options);\n\n\t\tthis.sizeRatioX = 1;\n\t\tthis.sizeRatioY = 1;\n\t\tthis.maxPosX = 0;\n\t\tthis.maxPosY = 0;\n\n\t\tif (this.options.fade) {\n\t\t\tthis.wrapperStyle['webkitTransform'] = this.scroller.translateZ;\n\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = this.options.fixedBadAndorid && $.os.isBadAndroid ? '0.001s' : '0ms';\n\t\t\tthis.wrapperStyle.opacity = '0';\n\t\t}\n\t}\n\tIndicator.prototype = {\n\t\thandleEvent: function(e) {\n\n\t\t},\n\t\ttransitionTime: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\tif (this.scroller.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\n\t\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t}\n\t\t},\n\t\ttransitionTimingFunction: function(easing) {\n\t\t\tthis.indicatorStyle['webkitTransitionTimingFunction'] = easing;\n\t\t},\n\t\trefresh: function() {\n\t\t\tthis.transitionTime();\n\n\t\t\tif (this.options.listenX && !this.options.listenY) {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n\t\t\t} else if (this.options.listenY && !this.options.listenX) {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t\t} else {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t\t}\n\n\t\t\tthis.wrapper.offsetHeight; // force refresh\n\n\t\t\tif (this.options.listenX) {\n\t\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;\n\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';\n\n\t\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n\t\t\t\tthis.minBoundaryX = 0;\n\t\t\t\tthis.maxBoundaryX = this.maxPosX;\n\n\t\t\t\tthis.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n\t\t\t}\n\n\t\t\tif (this.options.listenY) {\n\t\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;\n\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';\n\n\t\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n\t\t\t\tthis.minBoundaryY = 0;\n\t\t\t\tthis.maxBoundaryY = this.maxPosY;\n\n\t\t\t\tthis.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n\t\t\t}\n\n\t\t\tthis.updatePosition();\n\t\t},\n\n\t\tupdatePosition: function() {\n\t\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n\t\t\t\ty = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n\t\t\tif (x < this.minBoundaryX) {\n\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\tx = this.minBoundaryX;\n\t\t\t} else if (x > this.maxBoundaryX) {\n\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;\n\t\t\t} else if (this.width != this.indicatorWidth) {\n\t\t\t\tthis.width = this.indicatorWidth;\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t}\n\n\t\t\tif (y < this.minBoundaryY) {\n\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\ty = this.minBoundaryY;\n\t\t\t} else if (y > this.maxBoundaryY) {\n\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;\n\t\t\t} else if (this.height != this.indicatorHeight) {\n\t\t\t\tthis.height = this.indicatorHeight;\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t}\n\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\n\t\t\tthis.indicatorStyle['webkitTransform'] = this.scroller._getTranslateStr(x, y);\n\n\t\t},\n\t\tfade: function(val, hold) {\n\t\t\tif (hold && !this.visible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(this.fadeTimeout);\n\t\t\tthis.fadeTimeout = null;\n\n\t\t\tvar time = val ? 250 : 500,\n\t\t\t\tdelay = val ? 0 : 300;\n\n\t\t\tval = val ? '1' : '0';\n\n\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = time + 'ms';\n\n\t\t\tthis.fadeTimeout = setTimeout((function(val) {\n\t\t\t\tthis.wrapperStyle.opacity = val;\n\t\t\t\tthis.visible = +val;\n\t\t\t}).bind(this, val), delay);\n\t\t}\n\t};\n\n\t$.Scroll = Scroll;\n\n\t$.fn.scroll = function(options) {\n\t\tvar scrollApis = [];\n\t\tthis.each(function() {\n\t\t\tvar scrollApi = null;\n\t\t\tvar self = this;\n\t\t\tvar id = self.getAttribute('data-scroll');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\tvar _options = $.extend({}, options);\n\t\t\t\tif (self.classList.contains('mui-segmented-control')) {\n\t\t\t\t\t_options = $.extend(_options, {\n\t\t\t\t\t\tscrollY: false,\n\t\t\t\t\t\tscrollX: true,\n\t\t\t\t\t\tindicators: false,\n\t\t\t\t\t\tsnap: '.mui-control-item'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$.data[id] = scrollApi = new Scroll(self, _options);\n\t\t\t\tself.setAttribute('data-scroll', id);\n\t\t\t} else {\n\t\t\t\tscrollApi = $.data[id];\n\t\t\t}\n\t\t\tscrollApis.push(scrollApi);\n\t\t});\n\t\treturn scrollApis.length === 1 ? scrollApis[0] : scrollApis;\n\t};\n})(mui, window, document);\n(function($, window, document, undefined) {\n\n\tvar CLASS_VISIBILITY = 'mui-visibility';\n\tvar CLASS_HIDDEN = 'mui-hidden';\n\n\tvar PullRefresh = $.Scroll.extend($.extend({\n\t\thandleEvent: function(e) {\n\t\t\tthis._super(e);\n\t\t\tif (e.type === 'scrollbottom') {\n\t\t\t\tif (e.target === this.scroller) {\n\t\t\t\t\tthis._scrollbottom();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_scrollbottom: function() {\n\t\t\tif (!this.pulldown && !this.loading) {\n\t\t\t\tthis.pulldown = false;\n\t\t\t\tthis._initPullupRefresh();\n\t\t\t\tthis.pullupLoading();\n\t\t\t}\n\t\t},\n\t\t_start: function(e) {\n\t\t\t//仅下拉刷新在start阻止默认事件\n\t\t\tif (e.touches && e.touches.length && e.touches[0].clientX > 30) {\n\t\t\t\te.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n\t\t\t}\n\t\t\tif (!this.loading) {\n\t\t\t\tthis.pulldown = this.pullPocket = this.pullCaption = this.pullLoading = false\n\t\t\t}\n\t\t\tthis._super(e);\n\t\t},\n\t\t_drag: function(e) {\n\t\t\tthis._super(e);\n\t\t\tif (!this.pulldown && !this.loading && this.topPocket && e.detail.direction === 'down' && this.y >= 0) {\n\t\t\t\tthis._initPulldownRefresh();\n\t\t\t}\n\t\t\tif (this.pulldown) {\n\t\t\t\tthis._setCaption(this.y > this.options.down.height ? this.options.down.contentover : this.options.down.contentdown);\n\t\t\t}\n\t\t},\n\n\t\t_reLayout: function() {\n\t\t\tthis.hasVerticalScroll = true;\n\t\t\tthis._super();\n\t\t},\n\t\t//API\n\t\tresetPosition: function(time) {\n\t\t\tif (this.pulldown) {\n\t\t\t\tif (this.y >= this.options.down.height) {\n\t\t\t\t\tthis.pulldownLoading(undefined, time || 0);\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\t!this.loading && this.topPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this._super(time);\n\t\t},\n\t\tpulldownLoading: function(y, time) {\n\t\t\ttypeof y === 'undefined' && (y = this.options.down.height); //默认高度\n\t\t\tthis.scrollTo(0, y, time, this.options.bounceEasing);\n\t\t\tif (this.loading) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//\t\t\tif (!this.pulldown) {\n\t\t\tthis._initPulldownRefresh();\n\t\t\t//\t\t\t}\n\t\t\tthis._setCaption(this.options.down.contentrefresh);\n\t\t\tthis.loading = true;\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade(0);\n\t\t\t});\n\t\t\tvar callback = this.options.down.callback;\n\t\t\tcallback && callback.call(this);\n\t\t},\n\t\tendPulldownToRefresh: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.topPocket && self.loading && this.pulldown) {\n\t\t\t\tself.scrollTo(0, 0, self.options.bounceTime, self.options.bounceEasing);\n\t\t\t\tself.loading = false;\n\t\t\t\tself._setCaption(self.options.down.contentdown, true);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.loading || self.topPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t}, 350);\n\t\t\t}\n\t\t},\n\t\tpullupLoading: function(callback, x, time) {\n\t\t\tx = x || 0;\n\t\t\tthis.scrollTo(x, this.maxScrollY, time, this.options.bounceEasing);\n\t\t\tif (this.loading) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._initPullupRefresh();\n\t\t\tthis._setCaption(this.options.up.contentrefresh);\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade(0);\n\t\t\t});\n\t\t\tthis.loading = true;\n\t\t\tcallback = callback || this.options.up.callback;\n\t\t\tcallback && callback.call(this);\n\t\t},\n\t\tendPullupToRefresh: function(finished) {\n\t\t\tvar self = this;\n\t\t\tif (self.bottomPocket) { // && self.loading && !this.pulldown\n\t\t\t\tself.loading = false;\n\t\t\t\tif (finished) {\n\t\t\t\t\tthis.finished = true;\n\t\t\t\t\tself._setCaption(self.options.up.contentnomore);\n\t\t\t\t\t//\t\t\t\t\tself.bottomPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t\t//\t\t\t\t\tself.bottomPocket.classList.add(CLASS_HIDDEN);\n\t\t\t\t\tself.wrapper.removeEventListener('scrollbottom', self);\n\t\t\t\t} else {\n\t\t\t\t\tself._setCaption(self.options.up.contentdown);\n\t\t\t\t\t//\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.loading || self.bottomPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t\t//\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdisablePullupToRefresh: function() {\n\t\t\tthis._initPullupRefresh();\n\t\t\tthis.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\n\t\t\tthis.wrapper.removeEventListener('scrollbottom', this);\n\t\t},\n\t\tenablePullupToRefresh: function() {\n\t\t\tthis._initPullupRefresh();\n\t\t\tthis.bottomPocket.classList.remove(CLASS_HIDDEN);\n\t\t\tthis._setCaption(this.options.up.contentdown);\n\t\t\tthis.wrapper.addEventListener('scrollbottom', this);\n\t\t},\n\t\trefresh: function(isReset) {\n\t\t\tif (isReset && this.finished) {\n\t\t\t\tthis.enablePullupToRefresh();\n\t\t\t\tthis.finished = false;\n\t\t\t}\n\t\t\tthis._super();\n\t\t},\n\t}, $.PullRefresh));\n\t$.fn.pullRefresh = function(options) {\n\t\tif (this.length === 1) {\n\t\t\tvar self = this[0];\n\t\t\tvar pullRefreshApi = null;\n\t\t\toptions = options || {};\n\t\t\tvar id = self.getAttribute('data-pullrefresh');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = pullRefreshApi = new PullRefresh(self, options);\n\t\t\t\tself.setAttribute('data-pullrefresh', id);\n\t\t\t} else {\n\t\t\t\tpullRefreshApi = $.data[id];\n\t\t\t}\n\t\t\tif (options.down && options.down.auto) { //如果设置了auto，则自动下拉一次\n\t\t\t\tpullRefreshApi.pulldownLoading(options.down.autoY);\n\t\t\t} else if (options.up && options.up.auto) { //如果设置了auto，则自动上拉一次\n\t\t\t\tpullRefreshApi.pullupLoading();\n\t\t\t}\n\t\t\t//暂不提供这种调用方式吧\t\t\t\n\t\t\t//\t\t\tif (typeof options === 'string') {\n\t\t\t//\t\t\t\tvar methodValue = pullRefreshApi[options].apply(pullRefreshApi, $.slice.call(arguments, 1));\n\t\t\t//\t\t\t\tif (methodValue !== undefined) {\n\t\t\t//\t\t\t\t\treturn methodValue;\n\t\t\t//\t\t\t\t}\n\t\t\t//\t\t\t}\n\t\t\treturn pullRefreshApi;\n\t\t}\n\t};\n})(mui, window, document);\n/**\n * snap 重构\n * @param {Object} $\n * @param {Object} window\n */\n(function($, window) {\n\tvar CLASS_SLIDER = 'mui-slider';\n\tvar CLASS_SLIDER_GROUP = 'mui-slider-group';\n\tvar CLASS_SLIDER_LOOP = 'mui-slider-loop';\n\tvar CLASS_SLIDER_INDICATOR = 'mui-slider-indicator';\n\tvar CLASS_ACTION_PREVIOUS = 'mui-action-previous';\n\tvar CLASS_ACTION_NEXT = 'mui-action-next';\n\tvar CLASS_SLIDER_ITEM = 'mui-slider-item';\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\tvar SELECTOR_SLIDER_ITEM = '.' + CLASS_SLIDER_ITEM;\n\tvar SELECTOR_SLIDER_INDICATOR = '.' + CLASS_SLIDER_INDICATOR;\n\tvar SELECTOR_SLIDER_PROGRESS_BAR = '.mui-slider-progress-bar';\n\n\tvar Slider = $.Slider = $.Scroll.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis._super(element, $.extend(true, {\n\t\t\t\tfingers: 1,\n\t\t\t\tinterval: 0, //设置为0，则不定时轮播\n\t\t\t\tscrollY: false,\n\t\t\t\tscrollX: true,\n\t\t\t\tindicators: false,\n\t\t\t\tscrollTime: 1000,\n\t\t\t\tstartX: false,\n\t\t\t\tslideTime: 0, //滑动动画时间\n\t\t\t\tsnap: SELECTOR_SLIDER_ITEM\n\t\t\t}, options));\n\t\t\tif (this.options.startX) {\n\t\t\t\t//\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._reInit();\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.scrollerStyle = this.scroller.style;\n\t\t\t\tthis.progressBar = this.wrapper.querySelector(SELECTOR_SLIDER_PROGRESS_BAR);\n\t\t\t\tif (this.progressBar) {\n\t\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\n\t\t\t\t\tthis.progressBarStyle = this.progressBar.style;\n\t\t\t\t}\n\t\t\t\t//忘记这个代码是干什么的了？\n\t\t\t\t//\t\t\t\tthis.x = this._getScroll();\n\t\t\t\t//\t\t\t\tif (this.options.startX === false) {\n\t\t\t\t//\t\t\t\t\tthis.options.startX = this.x;\n\t\t\t\t//\t\t\t\t}\n\t\t\t\t//根据active修正startX\n\n\t\t\t\tthis._super();\n\t\t\t\tthis._initTimer();\n\t\t\t}\n\t\t},\n\t\t_triggerSlide: function() {\n\t\t\tvar self = this;\n\t\t\tself.isInTransition = false;\n\t\t\tvar page = self.currentPage;\n\t\t\tself.slideNumber = self._fixedSlideNumber();\n\t\t\tif (self.loop) {\n\t\t\t\tif (self.slideNumber === 0) {\n\t\t\t\t\tself.setTranslate(self.pages[1][0].x, 0);\n\t\t\t\t} else if (self.slideNumber === self.itemLength - 3) {\n\t\t\t\t\tself.setTranslate(self.pages[self.itemLength - 2][0].x, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (self.lastSlideNumber != self.slideNumber) {\n\t\t\t\tself.lastSlideNumber = self.slideNumber;\n\t\t\t\tself.lastPage = self.currentPage;\n\t\t\t\t$.trigger(self.wrapper, 'slide', {\n\t\t\t\t\tslideNumber: self.slideNumber\n\t\t\t\t});\n\t\t\t}\n\t\t\tself._initTimer();\n\t\t},\n\t\t_handleSlide: function(e) {\n\t\t\tvar self = this;\n\t\t\tif (e.target !== self.wrapper) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tdetail.slideNumber = detail.slideNumber || 0;\n\t\t\tvar temps = self.scroller.querySelectorAll(SELECTOR_SLIDER_ITEM);\n\t\t\tvar items = [];\n\t\t\tfor (var i = 0, len = temps.length; i < len; i++) {\n\t\t\t\tvar item = temps[i];\n\t\t\t\tif (item.parentNode === self.scroller) {\n\t\t\t\t\titems.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar _slideNumber = detail.slideNumber;\n\t\t\tif (self.loop) {\n\t\t\t\t_slideNumber += 1;\n\t\t\t}\n\t\t\tif (!self.wrapper.classList.contains('mui-segmented-control')) {\n\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tif (item.parentNode === self.scroller) {\n\t\t\t\t\t\tif (i === _slideNumber) {\n\t\t\t\t\t\t\titem.classList.add(CLASS_ACTIVE);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.classList.remove(CLASS_ACTIVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar indicatorWrap = self.wrapper.querySelector('.mui-slider-indicator');\n\t\t\tif (indicatorWrap) {\n\t\t\t\tif (indicatorWrap.getAttribute('data-scroll')) { //scroll\n\t\t\t\t\t$(indicatorWrap).scroll().gotoPage(detail.slideNumber);\n\t\t\t\t}\n\t\t\t\tvar indicators = indicatorWrap.querySelectorAll('.mui-indicator');\n\t\t\t\tif (indicators.length > 0) { //图片轮播\n\t\t\t\t\tfor (var i = 0, len = indicators.length; i < len; i++) {\n\t\t\t\t\t\tindicators[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar number = indicatorWrap.querySelector('.mui-number span');\n\t\t\t\t\tif (number) { //图文表格\n\t\t\t\t\t\tnumber.innerText = (detail.slideNumber + 1);\n\t\t\t\t\t} else { //segmented controls\n\t\t\t\t\t\tvar controlItems = indicatorWrap.querySelectorAll('.mui-control-item');\n\t\t\t\t\t\tfor (var i = 0, len = controlItems.length; i < len; i++) {\n\t\t\t\t\t\t\tcontrolItems[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t},\n\t\t_handleTabShow: function(e) {\n\t\t\tvar self = this;\n\t\t\tself.gotoItem((e.detail.tabNumber || 0), self.options.slideTime);\n\t\t},\n\t\t_handleIndicatorTap: function(event) {\n\t\t\tvar self = this;\n\t\t\tvar target = event.target;\n\t\t\tif (target.classList.contains(CLASS_ACTION_PREVIOUS) || target.classList.contains(CLASS_ACTION_NEXT)) {\n\t\t\t\tself[target.classList.contains(CLASS_ACTION_PREVIOUS) ? 'prevItem' : 'nextItem']();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\t_initEvent: function(detach) {\n\t\t\tvar self = this;\n\t\t\tself._super(detach);\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\tself.wrapper[action]('slide', this);\n\t\t\tself.wrapper[action]($.eventName('shown', 'tab'), this);\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tthis._super(e);\n\t\t\tswitch (e.type) {\n\t\t\t\tcase 'slide':\n\t\t\t\t\tthis._handleSlide(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.eventName('shown', 'tab'):\n\t\t\t\t\tif (~this.snaps.indexOf(e.target)) { //避免嵌套监听错误的tab show\n\t\t\t\t\t\tthis._handleTabShow(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t_scrollend: function(e) {\n\t\t\tthis._super(e);\n\t\t\tthis._triggerSlide(e);\n\t\t},\n\t\t_drag: function(e) {\n\t\t\tthis._super(e);\n\t\t\tvar direction = e.detail.direction;\n\t\t\tif (direction === 'left' || direction === 'right') {\n\t\t\t\t//拖拽期间取消定时\n\t\t\t\tvar slidershowTimer = this.wrapper.getAttribute('data-slidershowTimer');\n\t\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\n\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t},\n\t\t_initTimer: function() {\n\t\t\tvar self = this;\n\t\t\tvar slider = self.wrapper;\n\t\t\tvar interval = self.options.interval;\n\t\t\tvar slidershowTimer = slider.getAttribute('data-slidershowTimer');\n\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\n\t\t\tif (interval) {\n\t\t\t\tslidershowTimer = window.setTimeout(function() {\n\t\t\t\t\tif (!slider) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t//仅slider显示状态进行自动轮播\n\t\t\t\t\tif (!!(slider.offsetWidth || slider.offsetHeight)) {\n\t\t\t\t\t\tself.nextItem(true);\n\t\t\t\t\t\t//下一个\n\t\t\t\t\t}\n\t\t\t\t\tself._initTimer();\n\t\t\t\t}, interval);\n\t\t\t\tslider.setAttribute('data-slidershowTimer', slidershowTimer);\n\t\t\t}\n\t\t},\n\n\t\t_fixedSlideNumber: function(page) {\n\t\t\tpage = page || this.currentPage;\n\t\t\tvar slideNumber = page.pageX;\n\t\t\tif (this.loop) {\n\t\t\t\tif (page.pageX === 0) {\n\t\t\t\t\tslideNumber = this.itemLength - 3;\n\t\t\t\t} else if (page.pageX === (this.itemLength - 1)) {\n\t\t\t\t\tslideNumber = 0;\n\t\t\t\t} else {\n\t\t\t\t\tslideNumber = page.pageX - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn slideNumber;\n\t\t},\n\t\t_reLayout: function() {\n\t\t\tthis.hasHorizontalScroll = true;\n\t\t\tthis.loop = this.scroller.classList.contains(CLASS_SLIDER_LOOP);\n\t\t\tthis._super();\n\t\t},\n\t\t_getScroll: function() {\n\t\t\tvar result = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\n\t\t\treturn result ? result.x : 0;\n\t\t},\n\t\t_transitionEnd: function(e) {\n\t\t\tif (e.target !== this.scroller || !this.isInTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._transitionTime();\n\t\t\tthis.isInTransition = false;\n\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t},\n\t\t_flick: function(e) {\n\t\t\tif (!this.moved) { //无moved\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tvar direction = detail.direction;\n\t\t\tthis._clearRequestAnimationFrame();\n\t\t\tthis.isInTransition = true;\n\t\t\t//\t\t\tif (direction === 'up' || direction === 'down') {\n\t\t\t//\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tif (e.type === 'flick') {\n\t\t\t\tif (detail.deltaTime < 200) { //flick，太容易触发，额外校验一下deltaTime\n\t\t\t\t\tthis.x = this._getPage((this.slideNumber + (direction === 'right' ? -1 : 1)), true).x;\n\t\t\t\t}\n\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t} else if (e.type === 'dragend' && !detail.flick) {\n\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t},\n\t\t_initSnap: function() {\n\t\t\tthis.scrollerWidth = this.itemLength * this.scrollerWidth;\n\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\n\t\t\tthis._super();\n\t\t\tif (!this.currentPage.x) {\n\t\t\t\t//当slider处于隐藏状态时，导致snap计算是错误的，临时先这么判断一下，后续要考虑解决所有scroll在隐藏状态下初始化属性不正确的问题\n\t\t\t\tvar currentPage = this.pages[this.loop ? 1 : 0];\n\t\t\t\tcurrentPage = currentPage || this.pages[0];\n\t\t\t\tif (!currentPage) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.currentPage = currentPage[0];\n\t\t\t\tthis.slideNumber = 0;\n\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? 0 : this.lastSlideNumber;\n\t\t\t} else {\n\t\t\t\tthis.slideNumber = this._fixedSlideNumber();\n\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? this.slideNumber : this.lastSlideNumber;\n\t\t\t}\n\t\t\tthis.options.startX = this.currentPage.x || 0;\n\t\t},\n\t\t_getSnapX: function(offsetLeft) {\n\t\t\treturn Math.max(-offsetLeft, this.maxScrollX);\n\t\t},\n\t\t_getPage: function(slideNumber, isFlick) {\n\t\t\tif (this.loop) {\n\t\t\t\tif (slideNumber > (this.itemLength - (isFlick ? 2 : 3))) {\n\t\t\t\t\tslideNumber = 1;\n\t\t\t\t\ttime = 0;\n\t\t\t\t} else if (slideNumber < (isFlick ? -1 : 0)) {\n\t\t\t\t\tslideNumber = this.itemLength - 2;\n\t\t\t\t\ttime = 0;\n\t\t\t\t} else {\n\t\t\t\t\tslideNumber += 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!isFlick) {\n\t\t\t\t\tif (slideNumber > (this.itemLength - 1)) {\n\t\t\t\t\t\tslideNumber = 0;\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t} else if (slideNumber < 0) {\n\t\t\t\t\t\tslideNumber = this.itemLength - 1;\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tslideNumber = Math.min(Math.max(0, slideNumber), this.itemLength - 1);\n\t\t\t}\n\t\t\treturn this.pages[slideNumber][0];\n\t\t},\n\t\t_gotoItem: function(slideNumber, time) {\n\t\t\tthis.currentPage = this._getPage(slideNumber, true); //此处传true。可保证程序切换时，动画与人手操作一致(第一张，最后一张的切换动画)\n\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\n\t\t\tif (time === 0) {\n\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t//API\n\t\tsetTranslate: function(x, y) {\n\t\t\tthis._super(x, y);\n\t\t\tvar progressBar = this.progressBar;\n\t\t\tif (progressBar) {\n\t\t\t\tthis.progressBarStyle.webkitTransform = this._getTranslateStr((-x * (this.progressBarWidth / this.wrapperWidth)), 0);\n\t\t\t}\n\t\t},\n\t\tresetPosition: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tif (this.x > 0) {\n\t\t\t\tthis.x = 0;\n\t\t\t} else if (this.x < this.maxScrollX) {\n\t\t\t\tthis.x = this.maxScrollX;\n\t\t\t}\n\t\t\tthis.currentPage = this._nearestSnap(this.x);\n\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\n\t\t\treturn true;\n\t\t},\n\t\tgotoItem: function(slideNumber, time) {\n\t\t\tthis._gotoItem(slideNumber, typeof time === 'undefined' ? this.options.scrollTime : time);\n\t\t},\n\t\tnextItem: function() {\n\t\t\tthis._gotoItem(this.slideNumber + 1, this.options.scrollTime);\n\t\t},\n\t\tprevItem: function() {\n\t\t\tthis._gotoItem(this.slideNumber - 1, this.options.scrollTime);\n\t\t},\n\t\tgetSlideNumber: function() {\n\t\t\treturn this.slideNumber || 0;\n\t\t},\n\t\t_reInit: function() {\n\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SLIDER_GROUP);\n\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\n\t\t\t\tif (groups[i].parentNode === this.wrapper) {\n\t\t\t\t\tthis.scroller = groups[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\tif (this.progressBar) {\n\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\n\t\t\t\tthis.progressBarStyle = this.progressBar.style;\n\t\t\t}\n\t\t},\n\t\trefresh: function(options) {\n\t\t\tif (options) {\n\t\t\t\t$.extend(this.options, options);\n\t\t\t\tthis._super();\n\t\t\t\tthis._initTimer();\n\t\t\t} else {\n\t\t\t\tthis._super();\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis._initEvent(true); //detach\n\t\t\tdelete $.data[this.wrapper.getAttribute('data-slider')];\n\t\t\tthis.wrapper.setAttribute('data-slider', '');\n\t\t}\n\t});\n\t$.fn.slider = function(options) {\n\t\tvar slider = null;\n\t\tthis.each(function() {\n\t\t\tvar sliderElement = this;\n\t\t\tif (!this.classList.contains(CLASS_SLIDER)) {\n\t\t\t\tsliderElement = this.querySelector('.' + CLASS_SLIDER);\n\t\t\t}\n\t\t\tif (sliderElement && sliderElement.querySelector(SELECTOR_SLIDER_ITEM)) {\n\t\t\t\tvar id = sliderElement.getAttribute('data-slider');\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\t$.data[id] = slider = new Slider(sliderElement, options);\n\t\t\t\t\tsliderElement.setAttribute('data-slider', id);\n\t\t\t\t} else {\n\t\t\t\t\tslider = $.data[id];\n\t\t\t\t\tif (slider && options) {\n\t\t\t\t\t\tslider.refresh(options);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn slider;\n\t};\n\t$.ready(function() {\n\t\t//\t\tsetTimeout(function() {\n\t\t$('.mui-slider').slider();\n\t\t$('.mui-scroll-wrapper.mui-slider-indicator.mui-segmented-control').scroll({\n\t\t\tscrollY: false,\n\t\t\tscrollX: true,\n\t\t\tindicators: false,\n\t\t\tsnap: '.mui-control-item'\n\t\t});\n\t\t//\t\t}, 500); //临时处理slider宽度计算不正确的问题(初步确认是scrollbar导致的)\n\n\t});\n})(mui, window);\n/**\n * pullRefresh 5+\n * @param {type} $\n * @returns {undefined}\n */\n(function($, document) {\n    if (!($.os.plus && $.os.android)) { //仅在5+android支持多webview的使用\n        return;\n    }\n    $.plusReady(function() {\n        if (window.__NWin_Enable__ === false) { //不支持多webview，则不用5+下拉刷新\n            return;\n        }\n        var CLASS_PLUS_PULLREFRESH = 'mui-plus-pullrefresh';\n        var CLASS_VISIBILITY = 'mui-visibility';\n        var CLASS_HIDDEN = 'mui-hidden';\n        var CLASS_BLOCK = 'mui-block';\n\n        var CLASS_PULL_CAPTION = 'mui-pull-caption';\n        var CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\n        var CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\n        var CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\n\n        var PlusPullRefresh = $.Class.extend({\n            init: function(element, options) {\n                this.element = element;\n                this.options = options;\n                this.wrapper = this.scroller = element;\n                this._init();\n                this._initPulldownRefreshEvent();\n            },\n            _init: function() {\n                var self = this;\n                //document.addEventListener('plusscrollbottom', this);\n                window.addEventListener('dragup', self);\n                document.addEventListener(\"plusscrollbottom\", self);\n                self.scrollInterval = window.setInterval(function() {\n                    if (self.isScroll && !self.loading) {\n                        if (window.pageYOffset + window.innerHeight + 10 >= document.documentElement.scrollHeight) {\n                            self.isScroll = false; //放在这里是因为快速滚动的话，有可能检测时，还没到底，所以只要有滚动，没到底之前一直检测高度变化\n                            if (self.bottomPocket) {\n                                self.pullupLoading();\n                            }\n                        }\n                    }\n                }, 100);\n            },\n            _initPulldownRefreshEvent: function() {\n                var self = this;\n                if (self.topPocket && self.options.webviewId) {\n                    $.plusReady(function() {\n                        var webview = plus.webview.getWebviewById(self.options.webviewId);\n                        if (!webview) {\n                            return;\n                        }\n                        self.options.webview = webview;\n                        var downOptions = self.options.down;\n                        var height = downOptions.height;\n                        webview.addEventListener('close', function() {\n                            var attrWebviewId = self.options.webviewId && self.options.webviewId.replace(/\\//g, \"_\"); //替换所有\"/\" \n                            self.element.removeAttribute('data-pullrefresh-plus-' + attrWebviewId);\n                        });\n                        webview.addEventListener(\"dragBounce\", function(e) {\n                            if (!self.pulldown) {\n                                self._initPulldownRefresh();\n                            } else {\n                                self.pullPocket.classList.add(CLASS_BLOCK);\n                            }\n                            switch (e.status) {\n                                case \"beforeChangeOffset\": //下拉可刷新状态\n                                    self._setCaption(downOptions.contentdown);\n                                    break;\n                                case \"afterChangeOffset\": //松开可刷新状态\n                                    self._setCaption(downOptions.contentover);\n                                    break;\n                                case \"dragEndAfterChangeOffset\": //正在刷新状态\n                                    //执行下拉刷新所在webview的回调函数\n                                    webview.evalJS(\"mui&&mui.options.pullRefresh.down.callback()\");\n                                    self._setCaption(downOptions.contentrefresh);\n                                    break;\n                                default:\n                                    break;\n                            }\n                        }, false);\n                        webview.setBounce({\n                            position: {\n                                top: height * 2 + 'px'\n                            },\n                            changeoffset: {\n                                top: height + 'px'\n                            }\n                        });\n                    });\n                }\n            },\n            handleEvent: function(e) {\n                var self = this;\n                if (self.stopped) {\n                    return;\n                }\n                //5+的plusscrollbottom当页面内容较少时，不触发\n                //          if (e.type === 'plusscrollbottom') {\n                //              if (this.bottomPocket) {\n                //                  this.pullupLoading();\n                //              }\n                //          }\n                self.isScroll = false;\n                if (e.type === 'dragup' || e.type === 'plusscrollbottom') {\n                    self.isScroll = true;\n                    setTimeout(function() {\n                        self.isScroll = false;\n                    }, 1000);\n                }\n            }\n        }).extend($.extend({\n            setStopped: function(stopped) { //该方法是子页面调用的\n                this.stopped = !!stopped;\n                //TODO 此处需要设置当前webview的bounce为none,目前5+有BUG\n                var webview = plus.webview.currentWebview();\n                if (this.stopped) {\n                    webview.setStyle({\n                        bounce: 'none'\n                    });\n                    webview.setBounce({\n                        position: {\n                            top: 'none'\n                        }\n                    });\n                } else {\n                    var height = this.options.down.height;\n                    webview.setStyle({\n                        bounce: 'vertical'\n                    });\n                    webview.setBounce({\n                        position: {\n                            top: height * 2 + 'px'\n                        },\n                        changeoffset: {\n                            top: height + 'px'\n                        }\n                    });\n                }\n            },\n            pulldownLoading: function() { //该方法是子页面调用的\n                $.plusReady(function() {\n                    plus.webview.currentWebview().setBounce({\n                        offset: {\n                            top: this.options.down.height + \"px\"\n                        }\n                    });\n                }.bind(this));\n            },\n            _pulldownLoading: function() { //该方法是父页面调用的\n                var self = this;\n                $.plusReady(function() {\n                    var childWebview = plus.webview.getWebviewById(self.options.webviewId);\n                    childWebview.setBounce({\n                        offset: {\n                            top: self.options.down.height + \"px\"\n                        }\n                    });\n                });\n            },\n            endPulldownToRefresh: function() { //该方法是子页面调用的\n                var webview = plus.webview.currentWebview();\n                webview.parent().evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + JSON.stringify({\n                    webviewId: webview.id\n                }) + \"')._endPulldownToRefresh()\");\n            },\n            _endPulldownToRefresh: function() { //该方法是父页面调用的\n                var self = this;\n                if (self.topPocket && self.options.webview) {\n                    self.options.webview.endPullToRefresh(); //下拉刷新所在webview回弹\n                    self.loading = false;\n                    self._setCaption(self.options.down.contentdown, true);\n                    setTimeout(function() {\n                        self.loading || self.topPocket.classList.remove(CLASS_BLOCK);\n                    }, 350);\n                }\n            },\n            pullupLoading: function(callback) {\n                var self = this;\n                if (self.isLoading) return;\n                self.isLoading = true;\n                if (self.pulldown !== false) {\n                    self._initPullupRefresh();\n                } else {\n                    this.pullPocket.classList.add(CLASS_BLOCK);\n                }\n                setTimeout(function() {\n                    self.pullLoading.classList.add(CLASS_VISIBILITY);\n                    self.pullLoading.classList.remove(CLASS_HIDDEN);\n                    self.pullCaption.innerHTML = ''; //修正5+里边第一次加载时，文字显示的bug(还会显示出来个“多”,猜测应该是渲染问题导致的)\n                    self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH;\n                    self.pullCaption.innerHTML = self.options.up.contentrefresh;\n                    callback = callback || self.options.up.callback;\n                    callback && callback.call(self);\n                }, 300);\n            },\n            endPullupToRefresh: function(finished) {\n                var self = this;\n                if (self.pullLoading) {\n                    self.pullLoading.classList.remove(CLASS_VISIBILITY);\n                    self.pullLoading.classList.add(CLASS_HIDDEN);\n                    self.isLoading = false;\n                    if (finished) {\n                        self.finished = true;\n                        self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\n                        self.pullCaption.innerHTML = self.options.up.contentnomore;\n                        //                  self.bottomPocket.classList.remove(CLASS_BLOCK);\n                        //                  self.bottomPocket.classList.add(CLASS_HIDDEN);\n                        //取消5+的plusscrollbottom事件\n                        document.removeEventListener('plusscrollbottom', self);\n                        window.removeEventListener('dragup', self);\n                    } else { //初始化时隐藏，后续不再隐藏\n                        self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n                        self.pullCaption.innerHTML = self.options.up.contentdown;\n                        //                  setTimeout(function() {\n                        //                      self.loading || self.bottomPocket.classList.remove(CLASS_BLOCK);\n                        //                  }, 350);\n                    }\n                }\n            },\n            disablePullupToRefresh: function() {\n                this._initPullupRefresh();\n                this.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\n                window.removeEventListener('dragup', this);\n            },\n            enablePullupToRefresh: function() {\n                this._initPullupRefresh();\n                this.bottomPocket.classList.remove(CLASS_HIDDEN);\n                this.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n                this.pullCaption.innerHTML = this.options.up.contentdown;\n                document.addEventListener(\"plusscrollbottom\", this);\n                window.addEventListener('dragup', this);\n            },\n            scrollTo: function(x, y, time) {\n                $.scrollTo(y, time);\n            },\n            scrollToBottom: function(time) {\n                $.scrollTo(document.documentElement.scrollHeight, time);\n            },\n            refresh: function(isReset) {\n                if (isReset && this.finished) {\n                    this.enablePullupToRefresh();\n                    this.finished = false;\n                }\n            }\n        }, $.PullRefresh));\n\n        //override h5 pullRefresh\n        $.fn.pullRefresh = function(options) {\n            var self;\n            if (this.length === 0) {\n                self = document.createElement('div');\n                self.className = 'mui-content';\n                document.body.appendChild(self);\n            } else {\n                self = this[0];\n            }\n            var args = options;\n            //一个父需要支持多个子下拉刷新\n            options = options || {}\n            if (typeof options === 'string') {\n                options = $.parseJSON(options);\n            };\n            !options.webviewId && (options.webviewId = (plus.webview.currentWebview().id || plus.webview.currentWebview().getURL()));\n            var pullRefreshApi = null;\n            var attrWebviewId = options.webviewId && options.webviewId.replace(/\\//g, \"_\"); //替换所有\"/\"\n            var id = self.getAttribute('data-pullrefresh-plus-' + attrWebviewId);\n            if (!id && typeof args === 'undefined') {\n                return false;\n            }\n            if (!id) { //避免重复初始化5+ pullrefresh\n                id = ++$.uuid;\n                self.setAttribute('data-pullrefresh-plus-' + attrWebviewId, id);\n                document.body.classList.add(CLASS_PLUS_PULLREFRESH);\n                $.data[id] = pullRefreshApi = new PlusPullRefresh(self, options);\n            } else {\n                pullRefreshApi = $.data[id];\n            }\n            if (options.down && options.down.auto) { //如果设置了auto，则自动下拉一次\n                pullRefreshApi._pulldownLoading(); //parent webview\n            } else if (options.up && options.up.auto) { //如果设置了auto，则自动上拉一次\n                pullRefreshApi.pullupLoading();\n            }\n            return pullRefreshApi;\n        };\n    });\n\n})(mui, document);\n/**\n * off-canvas\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} action\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\tvar CLASS_OFF_CANVAS_LEFT = 'mui-off-canvas-left';\n\tvar CLASS_OFF_CANVAS_RIGHT = 'mui-off-canvas-right';\n\tvar CLASS_ACTION_BACKDROP = 'mui-off-canvas-backdrop';\n\tvar CLASS_OFF_CANVAS_WRAP = 'mui-off-canvas-wrap';\n\n\tvar CLASS_SLIDE_IN = 'mui-slide-in';\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\n\tvar CLASS_TRANSITIONING = 'mui-transitioning';\n\n\tvar SELECTOR_INNER_WRAP = '.mui-inner-wrap';\n\n\n\tvar OffCanvas = $.Class.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis.wrapper = this.element = element;\n\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\tthis.classList = this.wrapper.classList;\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.options = $.extend(true, {\n\t\t\t\t\tdragThresholdX: 10,\n\t\t\t\t\tscale: 0.8,\n\t\t\t\t\topacity: 0.1,\n\t\t\t\t\tpreventDefaultException: {\n\t\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\n\t\t\t\t\t},\n\t\t\t\t}, options);\n\t\t\t\tdocument.body.classList.add('mui-fullscreen'); //fullscreen\n\t\t\t\tthis.refresh();\n\t\t\t\tthis.initEvent();\n\t\t\t}\n\t\t},\n\t\t_preventDefaultException: function(el, exceptions) {\n\t\t\tfor (var i in exceptions) {\n\t\t\t\tif (exceptions[i].test(el[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\trefresh: function(offCanvas) {\n\t\t\t//\t\t\toffCanvas && !offCanvas.classList.contains(CLASS_ACTIVE) && this.classList.remove(CLASS_ACTIVE);\n\t\t\tthis.slideIn = this.classList.contains(CLASS_SLIDE_IN);\n\t\t\tthis.scalable = this.classList.contains('mui-scalable') && !this.slideIn;\n\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\t//\t\t\t!offCanvas && this.scroller.classList.remove(CLASS_TRANSITIONING);\n\t\t\t//\t\t\t!offCanvas && this.scroller.setAttribute('style', '');\n\t\t\tthis.offCanvasLefts = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_LEFT);\n\t\t\tthis.offCanvasRights = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_RIGHT);\n\t\t\tif (offCanvas) {\n\t\t\t\tif (offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\n\t\t\t\t\tthis.offCanvasLeft = offCanvas;\n\t\t\t\t} else if (offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\n\t\t\t\t\tthis.offCanvasRight = offCanvas;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.offCanvasRight = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT);\n\t\t\t\tthis.offCanvasLeft = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT);\n\t\t\t}\n\t\t\tthis.offCanvasRightWidth = this.offCanvasLeftWidth = 0;\n\t\t\tthis.offCanvasLeftSlideIn = this.offCanvasRightSlideIn = false;\n\t\t\tif (this.offCanvasRight) {\n\t\t\t\tthis.offCanvasRightWidth = this.offCanvasRight.offsetWidth;\n\t\t\t\tthis.offCanvasRightSlideIn = this.slideIn && (this.offCanvasRight.parentNode === this.wrapper);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.classList.remove(CLASS_ACTIVE);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.setAttribute('style', '');\n\t\t\t}\n\t\t\tif (this.offCanvasLeft) {\n\t\t\t\tthis.offCanvasLeftWidth = this.offCanvasLeft.offsetWidth;\n\t\t\t\tthis.offCanvasLeftSlideIn = this.slideIn && (this.offCanvasLeft.parentNode === this.wrapper);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.classList.remove(CLASS_ACTIVE);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.setAttribute('style', '');\n\t\t\t}\n\t\t\tthis.backdrop = this.scroller.querySelector('.' + CLASS_ACTION_BACKDROP);\n\n\t\t\tthis.options.dragThresholdX = this.options.dragThresholdX || 10;\n\n\t\t\tthis.visible = false;\n\t\t\tthis.startX = null;\n\t\t\tthis.lastX = null;\n\t\t\tthis.offsetX = null;\n\t\t\tthis.lastTranslateX = null;\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tswitch (e.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\te.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'webkitTransitionEnd': //有个bug需要处理，需要考虑假设没有触发webkitTransitionEnd的情况\n\t\t\t\t\tif (e.target === this.scroller) {\n\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'drag':\n\t\t\t\t\tvar detail = e.detail;\n\t\t\t\t\tif (!this.startX) {\n\t\t\t\t\t\tthis.startX = detail.center.x;\n\t\t\t\t\t\tthis.lastX = this.startX;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.lastX = detail.center.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.isDragging && Math.abs(this.lastX - this.startX) > this.options.dragThresholdX && (detail.direction === 'left' || (detail.direction === 'right'))) {\n\t\t\t\t\t\tif (this.slideIn) {\n\t\t\t\t\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\tif (this.offCanvasRight && this.offCanvasRight.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (detail.direction === 'left' && this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t} else if (detail.direction === 'right' && this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.scroller = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\tif (detail.direction === 'left') {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (detail.direction === 'right') {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.offCanvas && this.scroller) {\n\t\t\t\t\t\t\tthis.startX = this.lastX;\n\t\t\t\t\t\t\tthis.isDragging = true;\n\n\t\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\n\t\t\t\t\t\t\tthis.offCanvas.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\tthis.scroller.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\tthis.offsetX = this.getTranslateX();\n\t\t\t\t\t\t\tthis._initOffCanvasVisible();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isDragging) {\n\t\t\t\t\t\tthis.updateTranslate(this.offsetX + (this.lastX - this.startX));\n\t\t\t\t\t\tdetail.gesture.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tif (this.isDragging) {\n\t\t\t\t\t\tvar detail = e.detail;\n\t\t\t\t\t\tvar direction = detail.direction;\n\t\t\t\t\t\tthis.isDragging = false;\n\t\t\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\t\tvar ratio = 0;\n\t\t\t\t\t\tvar x = this.getTranslateX();\n\t\t\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasLeftWidth && (x / this.offCanvasLeftWidth)) || 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasRightWidth && (x / this.offCanvasRightWidth)) || 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 0) {\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\tthis._dispatchEvent(); //此处不触发webkitTransitionEnd,所以手动dispatch\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (direction === 'right' && ratio >= 0 && (ratio >= 0.5 || detail.swipe)) { //右滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0 && (ratio > -0.5 || detail.swipe)) { //右滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio < 0.5) { //右滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0.5) { //右滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio <= 0 && (ratio <= -0.5 || detail.swipe)) { //左滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0 && (ratio <= 0.5 || detail.swipe)) { //左滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && ratio >= -0.5) { //左滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0.5) { //左滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else { //默认关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1) { //此处不触发webkitTransitionEnd,所以手动dispatch\n\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasRightWidth && (x / this.offCanvasRightWidth)) || 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasLeftWidth && (x / this.offCanvasLeftWidth)) || 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (direction === 'right' && ratio <= 0 && (ratio >= -0.5 || detail.swipe)) { //右滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && (ratio >= 0.5 || detail.swipe)) { //右滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio <= -0.5) { //右滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio <= 0.5) { //右滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0 && (ratio <= 0.5 || detail.swipe)) { //左滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && (ratio <= -0.5 || detail.swipe)) { //左滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0.5) { //左滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= -0.5 && ratio < 0) { //左滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1 || ratio === 0) {\n\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t_dispatchEvent: function() {\n\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t$.trigger(this.wrapper, 'shown', this);\n\t\t\t} else {\n\t\t\t\t$.trigger(this.wrapper, 'hidden', this);\n\t\t\t}\n\t\t},\n\t\t_initOffCanvasVisible: function() {\n\t\t\tif (!this.visible) {\n\t\t\t\tthis.visible = true;\n\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\tthis.offCanvasLeft.style.visibility = 'visible';\n\t\t\t\t}\n\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\tthis.offCanvasRight.style.visibility = 'visible';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinitEvent: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.backdrop) {\n\t\t\t\tself.backdrop.addEventListener('tap', function(e) {\n\t\t\t\t\tself.close();\n\t\t\t\t\te.detail.gesture.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.classList.contains('mui-draggable')) {\n\t\t\t\tthis.wrapper.addEventListener($.EVENT_START, this); //临时处理\n\t\t\t\tthis.wrapper.addEventListener('drag', this);\n\t\t\t\tthis.wrapper.addEventListener('dragend', this);\n\t\t\t}\n\t\t\tthis.wrapper.addEventListener('webkitTransitionEnd', this);\n\t\t},\n\t\topenPercentage: function(percentage) {\n\t\t\tvar p = percentage / 100;\n\t\t\tif (!this.slideIn) {\n\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\n\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\n\t\t\t\t\tthis.offCanvasLeft.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\n\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\n\t\t\t\t\tthis.offCanvasRight.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tthis.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t} else {\n\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\n\t\t\t\t\tp = p === 0 ? -1 : 0;\n\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\n\t\t\t\t\tthis.offCanvasLeft.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\n\t\t\t\t\tp = p === 0 ? 1 : 0;\n\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\n\t\t\t\t\tthis.offCanvasRight.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tthis.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t}\n\t\t},\n\t\tupdateTranslate: function(x) {\n\t\t\tif (x !== this.lastTranslateX) {\n\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\tif ((!this.offCanvasLeft && x > 0) || (!this.offCanvasRight && x < 0)) {\n\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.leftShowing && x > this.offCanvasLeftWidth) {\n\t\t\t\t\t\tthis.setTranslateX(this.offCanvasLeftWidth);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.rightShowing && x < -this.offCanvasRightWidth) {\n\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasRightWidth);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.setTranslateX(x);\n\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\tthis.leftShowing = true;\n\t\t\t\t\t\tthis.rightShowing = false;\n\t\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t$.each(this.offCanvasLefts, function(index, offCanvas) {\n\t\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = 0;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\t\t\tthis.offCanvasRight.style.zIndex = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.rightShowing = true;\n\t\t\t\t\t\tthis.leftShowing = false;\n\t\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\t\t$.each(this.offCanvasRights, function(index, offCanvas) {\n\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = 0;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\n\t\t\t\t\t\tif (x < 0) {\n\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (x > this.offCanvasRightWidth) {\n\t\t\t\t\t\t\tthis.setTranslateX(this.offCanvasRightWidth);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (x < -this.offCanvasLeftWidth) {\n\t\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasLeftWidth);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.setTranslateX(x);\n\t\t\t\t}\n\t\t\t\tthis.lastTranslateX = x;\n\t\t\t}\n\t\t},\n\t\tsetTranslateX: $.animationFrame(function(x) {\n\t\t\tif (this.scroller) {\n\t\t\t\tif (this.scalable && this.offCanvas.parentNode === this.wrapper) {\n\t\t\t\t\tvar percent = Math.abs(x) / this.offCanvasWidth;\n\t\t\t\t\tvar zoomOutScale = 1 - (1 - this.options.scale) * percent;\n\t\t\t\t\tvar zoomInScale = this.options.scale + (1 - this.options.scale) * percent;\n\t\t\t\t\tvar zoomOutOpacity = 1 - (1 - this.options.opacity) * percent;\n\t\t\t\t\tvar zoomInOpacity = this.options.opacity + (1 - this.options.opacity) * percent;\n\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '-100%';\n\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'left';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '200%';\n\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'right';\n\t\t\t\t\t}\n\t\t\t\t\tthis.offCanvas.style.opacity = zoomInOpacity;\n\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(0,0,0) scale(' + zoomInScale + ')';\n\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0) scale(' + zoomOutScale + ')';\n\t\t\t\t} else {\n\t\t\t\t\tif (this.slideIn) {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tgetTranslateX: function() {\n\t\t\tif (this.offCanvas) {\n\t\t\t\tvar scroller = this.slideIn ? this.offCanvas : this.scroller;\n\t\t\t\tvar result = $.parseTranslateMatrix($.getStyles(scroller, 'webkitTransform'));\n\t\t\t\treturn (result && result.x) || 0;\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\t\tisShown: function(direction) {\n\t\t\tvar shown = false;\n\t\t\tif (!this.slideIn) {\n\t\t\t\tvar x = this.getTranslateX();\n\t\t\t\tif (direction === 'right') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x < 0;\n\t\t\t\t} else if (direction === 'left') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x > 0;\n\t\t\t\t} else {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x !== 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (direction === 'left') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\n\t\t\t\t} else if (direction === 'right') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE);\n\t\t\t\t} else {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && (this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn shown;\n\t\t},\n\t\tclose: function() {\n\t\t\tthis._initOffCanvasVisible();\n\t\t\tthis.offCanvas = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\n\t\t\tthis.offCanvasWidth = this.offCanvas.offsetWidth;\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.offCanvas.offsetHeight;\n\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.openPercentage(0);\n\t\t\t}\n\t\t},\n\t\tshow: function(direction) {\n\t\t\tthis._initOffCanvasVisible();\n\t\t\tif (this.isShown(direction)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!direction) {\n\t\t\t\tdirection = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT) ? 'right' : 'left';\n\t\t\t}\n\t\t\tif (direction === 'right') {\n\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t} else {\n\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t}\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.offCanvas.offsetHeight;\n\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.openPercentage(direction === 'left' ? 100 : -100);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\ttoggle: function(directionOrOffCanvas) {\n\t\t\tvar direction = directionOrOffCanvas;\n\t\t\tif (directionOrOffCanvas && directionOrOffCanvas.classList) {\n\t\t\t\tdirection = directionOrOffCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT) ? 'left' : 'right';\n\t\t\t\tthis.refresh(directionOrOffCanvas);\n\t\t\t}\n\t\t\tif (!this.show(direction)) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t}\n\t});\n\n\t//hash to offcanvas\n\tvar findOffCanvasContainer = function(target) {\n\t\tparentNode = target.parentNode;\n\t\tif (parentNode) {\n\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\treturn parentNode;\n\t\t\t} else {\n\t\t\t\tparentNode = parentNode.parentNode;\n\t\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\t\treturn parentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\tvar offcanvas = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif (offcanvas) {\n\t\t\t\tvar container = findOffCanvasContainer(offcanvas);\n\t\t\t\tif (container) {\n\t\t\t\t\t$.targets._container = container;\n\t\t\t\t\treturn offcanvas;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 60,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\twindow.addEventListener('tap', function(e) {\n\t\tif (!$.targets.offcanvas) {\n\t\t\treturn;\n\t\t}\n\t\t//TODO 此处类型的代码后续考虑统一优化(target机制)，现在的实现费力不讨好\n\t\tvar target = e.target;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.tagName === 'A' && target.hash && target.hash === ('#' + $.targets.offcanvas.id)) {\n\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\t\t$($.targets._container).offCanvas().toggle($.targets.offcanvas);\n\t\t\t\t$.targets.offcanvas = $.targets._container = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\n\t$.fn.offCanvas = function(options) {\n\t\tvar offCanvasApis = [];\n\t\tthis.each(function() {\n\t\t\tvar offCanvasApi = null;\n\t\t\tvar self = this;\n\t\t\t//hack old version\n\t\t\tif (!self.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\tself = findOffCanvasContainer(self);\n\t\t\t}\n\t\t\tvar id = self.getAttribute('data-offCanvas');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = offCanvasApi = new OffCanvas(self, options);\n\t\t\t\tself.setAttribute('data-offCanvas', id);\n\t\t\t} else {\n\t\t\t\toffCanvasApi = $.data[id];\n\t\t\t}\n\t\t\tif (options === 'show' || options === 'close' || options === 'toggle') {\n\t\t\t\toffCanvasApi.toggle();\n\t\t\t}\n\t\t\toffCanvasApis.push(offCanvasApi);\n\t\t});\n\t\treturn offCanvasApis.length === 1 ? offCanvasApis[0] : offCanvasApis;\n\t};\n\t$.ready(function() {\n\t\t$('.mui-off-canvas-wrap').offCanvas();\n\t});\n})(mui, window, document, 'offcanvas');\n/**\n * actions\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar CLASS_ACTION = 'mui-action';\n\n\tvar handle = function(event, target) {\n\t\tvar className = target.className || '';\n\t\tif (typeof className !== 'string') { //svg className(SVGAnimatedString)\n\t\t\tclassName = '';\n\t\t}\n\t\tif (className && ~className.indexOf(CLASS_ACTION)) {\n\t\t\tif (target.classList.contains('mui-action-back')) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\treturn target;\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 50,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisContinue: true\n\t});\n\n})(mui, 'action');\n/**\n * Modals\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} name\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\tvar CLASS_MODAL = 'mui-modal';\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\tvar modal = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif (modal && modal.classList.contains(CLASS_MODAL)) {\n\t\t\t\treturn modal;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 50,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\twindow.addEventListener('tap', function(event) {\n\t\tif ($.targets.modal) {\n\t\t\tevent.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\t$.targets.modal.classList.toggle('mui-active');\n\t\t}\n\t});\n})(mui, window, document, 'modal');\n/**\n * Popovers\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} name\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\n\tvar CLASS_POPOVER = 'mui-popover';\n\tvar CLASS_POPOVER_ARROW = 'mui-popover-arrow';\n\tvar CLASS_ACTION_POPOVER = 'mui-popover-action';\n\tvar CLASS_BACKDROP = 'mui-backdrop';\n\tvar CLASS_BAR_POPOVER = 'mui-bar-popover';\n\tvar CLASS_BAR_BACKDROP = 'mui-bar-backdrop';\n\tvar CLASS_ACTION_BACKDROP = 'mui-backdrop-action';\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_BOTTOM = 'mui-bottom';\n\n\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\t$.targets._popover = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif ($.targets._popover && $.targets._popover.classList.contains(CLASS_POPOVER)) {\n\t\t\t\treturn target;\n\t\t\t} else {\n\t\t\t\t$.targets._popover = null;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 60,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\tvar onPopoverShown = function(e) {\n\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverShown);\n\t\tthis.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t$.trigger(this, 'shown', this);\n\t}\n\tvar onPopoverHidden = function(e) {\n\t\tsetStyle(this, 'none');\n\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\tthis.removeEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t$.trigger(this, 'hidden', this);\n\t};\n\n\tvar backdrop = (function() {\n\t\tvar element = document.createElement('div');\n\t\telement.classList.add(CLASS_BACKDROP);\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\telement.addEventListener('tap', function(e) {\n\t\t\tvar popover = $.targets._popover;\n\t\t\tif (popover) {\n\t\t\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t\tpopover.classList.remove(CLASS_ACTIVE);\n\t\t\t\tremoveBackdrop(popover);\n\t\t\t}\n\t\t});\n\n\t\treturn element;\n\t}());\n\tvar removeBackdropTimer;\n\tvar removeBackdrop = function(popover) {\n\t\tbackdrop.setAttribute('style', 'opacity:0');\n\t\t$.targets.popover = $.targets._popover = null; //reset\n\t\tremoveBackdropTimer = $.later(function() {\n\t\t\tif (!popover.classList.contains(CLASS_ACTIVE) && backdrop.parentNode && backdrop.parentNode === document.body) {\n\t\t\t\tdocument.body.removeChild(backdrop);\n\t\t\t}\n\t\t}, 350);\n\t};\n\twindow.addEventListener('tap', function(e) {\n\t\tif (!$.targets.popover) {\n\t\t\treturn;\n\t\t}\n\t\tvar toggle = false;\n\t\tvar target = e.target;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target === $.targets.popover) {\n\t\t\t\ttoggle = true;\n\t\t\t}\n\t\t}\n\t\tif (toggle) {\n\t\t\te.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\ttogglePopover($.targets._popover, $.targets.popover);\n\t\t}\n\n\t});\n\n\tvar togglePopover = function(popover, anchor, state) {\n\t\tif ((state === 'show' && popover.classList.contains(CLASS_ACTIVE)) || (state === 'hide' && !popover.classList.contains(CLASS_ACTIVE))) {\n\t\t\treturn;\n\t\t}\n\t\tremoveBackdropTimer && removeBackdropTimer.cancel(); //取消remove的timer\n\t\t//remove一遍，以免来回快速切换，导致webkitTransitionEnd不触发，无法remove\n\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverShown);\n\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\tbackdrop.classList.remove(CLASS_BAR_BACKDROP);\n\t\tbackdrop.classList.remove(CLASS_ACTION_BACKDROP);\n\t\tvar _popover = document.querySelector('.mui-popover.mui-active');\n\t\tif (_popover) {\n\t\t\t//\t\t\t_popover.setAttribute('style', '');\n\t\t\t_popover.addEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t_popover.classList.remove(CLASS_ACTIVE);\n\t\t\t//\t\t\t_popover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t//同一个弹出则直接返回，解决同一个popover的toggle\n\t\t\tif (popover === _popover) {\n\t\t\t\tremoveBackdrop(_popover);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tvar isActionSheet = false;\n\t\tif (popover.classList.contains(CLASS_BAR_POPOVER) || popover.classList.contains(CLASS_ACTION_POPOVER)) { //navBar\n\t\t\tif (popover.classList.contains(CLASS_ACTION_POPOVER)) { //action sheet popover\n\t\t\t\tisActionSheet = true;\n\t\t\t\tbackdrop.classList.add(CLASS_ACTION_BACKDROP);\n\t\t\t} else { //bar popover\n\t\t\t\tbackdrop.classList.add(CLASS_BAR_BACKDROP);\n\t\t\t\t//\t\t\t\tif (anchor) {\n\t\t\t\t//\t\t\t\t\tif (anchor.parentNode) {\n\t\t\t\t//\t\t\t\t\t\tvar offsetWidth = anchor.offsetWidth;\n\t\t\t\t//\t\t\t\t\t\tvar offsetLeft = anchor.offsetLeft;\n\t\t\t\t//\t\t\t\t\t\tvar innerWidth = window.innerWidth;\n\t\t\t\t//\t\t\t\t\t\tpopover.style.left = (Math.min(Math.max(offsetLeft, defaultPadding), innerWidth - offsetWidth - defaultPadding)) + \"px\";\n\t\t\t\t//\t\t\t\t\t} else {\n\t\t\t\t//\t\t\t\t\t\t//TODO anchor is position:{left,top,bottom,right}\n\t\t\t\t//\t\t\t\t\t}\n\t\t\t\t//\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetStyle(popover, 'block'); //actionsheet transform\n\t\tpopover.offsetHeight;\n\t\tpopover.classList.add(CLASS_ACTIVE);\n\t\tbackdrop.setAttribute('style', '');\n\t\tdocument.body.appendChild(backdrop);\n\t\tcalPosition(popover, anchor, isActionSheet); //position\n\t\tbackdrop.classList.add(CLASS_ACTIVE);\n\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverShown);\n\t};\n\tvar setStyle = function(popover, display, top, left) {\n\t\tvar style = popover.style;\n\t\tif (typeof display !== 'undefined')\n\t\t\tstyle.display = display;\n\t\tif (typeof top !== 'undefined')\n\t\t\tstyle.top = top + 'px';\n\t\tif (typeof left !== 'undefined')\n\t\t\tstyle.left = left + 'px';\n\t};\n\tvar calPosition = function(popover, anchor, isActionSheet) {\n\t\tif (!popover || !anchor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isActionSheet) { //actionsheet\n\t\t\tsetStyle(popover, 'block')\n\t\t\treturn;\n\t\t}\n\n\t\tvar wWidth = window.innerWidth;\n\t\tvar wHeight = window.innerHeight;\n\n\t\tvar pWidth = popover.offsetWidth;\n\t\tvar pHeight = popover.offsetHeight;\n\n\t\tvar aWidth = anchor.offsetWidth;\n\t\tvar aHeight = anchor.offsetHeight;\n\t\tvar offset = $.offset(anchor);\n\n\t\tvar arrow = popover.querySelector('.' + CLASS_POPOVER_ARROW);\n\t\tif (!arrow) {\n\t\t\tarrow = document.createElement('div');\n\t\t\tarrow.className = CLASS_POPOVER_ARROW;\n\t\t\tpopover.appendChild(arrow);\n\t\t}\n\t\tvar arrowSize = arrow && arrow.offsetWidth / 2 || 0;\n\n\n\n\t\tvar pTop = 0;\n\t\tvar pLeft = 0;\n\t\tvar diff = 0;\n\t\tvar arrowLeft = 0;\n\t\tvar defaultPadding = popover.classList.contains(CLASS_ACTION_POPOVER) ? 0 : 5;\n\n\t\tvar position = 'top';\n\t\tif ((pHeight + arrowSize) < (offset.top - window.pageYOffset)) { //top\n\t\t\tpTop = offset.top - pHeight - arrowSize;\n\t\t} else if ((pHeight + arrowSize) < (wHeight - (offset.top - window.pageYOffset) - aHeight)) { //bottom\n\t\t\tposition = 'bottom';\n\t\t\tpTop = offset.top + aHeight + arrowSize;\n\t\t} else { //middle\n\t\t\tposition = 'middle';\n\t\t\tpTop = Math.max((wHeight - pHeight) / 2 + window.pageYOffset, 0);\n\t\t\tpLeft = Math.max((wWidth - pWidth) / 2 + window.pageXOffset, 0);\n\t\t}\n\t\tif (position === 'top' || position === 'bottom') {\n\t\t\tpLeft = aWidth / 2 + offset.left - pWidth / 2;\n\t\t\tdiff = pLeft;\n\t\t\tif (pLeft < defaultPadding) pLeft = defaultPadding;\n\t\t\tif (pLeft + pWidth > wWidth) pLeft = wWidth - pWidth - defaultPadding;\n\n\t\t\tif (arrow) {\n\t\t\t\tif (position === 'top') {\n\t\t\t\t\tarrow.classList.add(CLASS_BOTTOM);\n\t\t\t\t} else {\n\t\t\t\t\tarrow.classList.remove(CLASS_BOTTOM);\n\t\t\t\t}\n\t\t\t\tdiff = diff - pLeft;\n\t\t\t\tarrowLeft = (pWidth / 2 - arrowSize / 2 + diff);\n\t\t\t\tarrowLeft = Math.max(Math.min(arrowLeft, pWidth - arrowSize * 2 - 6), 6);\n\t\t\t\tarrow.setAttribute('style', 'left:' + arrowLeft + 'px');\n\t\t\t}\n\t\t} else if (position === 'middle') {\n\t\t\tarrow.setAttribute('style', 'display:none');\n\t\t}\n\t\tsetStyle(popover, 'block', pTop, pLeft);\n\t};\n\n\t$.createMask = function(callback) {\n\t\tvar element = document.createElement('div');\n\t\telement.classList.add(CLASS_BACKDROP);\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\telement.addEventListener('tap', function() {\n\t\t\tmask.close();\n\t\t});\n\t\tvar mask = [element];\n\t\tmask._show = false;\n\t\tmask.show = function() {\n\t\t\tmask._show = true;\n\t\t\telement.setAttribute('style', 'opacity:1');\n\t\t\tdocument.body.appendChild(element);\n\t\t\treturn mask;\n\t\t};\n\t\tmask._remove = function() {\n\t\t\tif (mask._show) {\n\t\t\t\tmask._show = false;\n\t\t\t\telement.setAttribute('style', 'opacity:0');\n\t\t\t\t$.later(function() {\n\t\t\t\t\tvar body = document.body;\n\t\t\t\t\telement.parentNode === body && body.removeChild(element);\n\t\t\t\t}, 350);\n\t\t\t}\n\t\t\treturn mask;\n\t\t};\n\t\tmask.close = function() {\n\t\t\tif (callback) {\n\t\t\t\tif (callback() !== false) {\n\t\t\t\t\tmask._remove();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmask._remove();\n\t\t\t}\n\t\t};\n\t\treturn mask;\n\t};\n\t$.fn.popover = function() {\n\t\tvar args = arguments;\n\t\tthis.each(function() {\n\t\t\t$.targets._popover = this;\n\t\t\tif (args[0] === 'show' || args[0] === 'hide' || args[0] === 'toggle') {\n\t\t\t\ttogglePopover(this, args[1], args[0]);\n\t\t\t}\n\t\t});\n\t};\n\n})(mui, window, document, 'popover');\n/**\n * segmented-controllers\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, document, name, undefined) {\n\n\tvar CLASS_CONTROL_ITEM = 'mui-control-item';\n\tvar CLASS_SEGMENTED_CONTROL = 'mui-segmented-control';\n\tvar CLASS_SEGMENTED_CONTROL_VERTICAL = 'mui-segmented-control-vertical';\n\tvar CLASS_CONTROL_CONTENT = 'mui-control-content';\n\tvar CLASS_TAB_BAR = 'mui-bar-tab';\n\tvar CLASS_TAB_ITEM = 'mui-tab-item';\n\tvar CLASS_SLIDER_ITEM = 'mui-slider-item';\n\n\tvar handle = function(event, target) {\n\t\tif (target.classList && (target.classList.contains(CLASS_CONTROL_ITEM) || target.classList.contains(CLASS_TAB_ITEM))) {\n\t\t\tif (target.parentNode && target.parentNode.classList && target.parentNode.classList.contains(CLASS_SEGMENTED_CONTROL_VERTICAL)) {\n\t\t\t\t//vertical 如果preventDefault会导致无法滚动\n\t\t\t} else {\n\t\t\t\tevent.preventDefault(); //stop hash change\t\t\t\t\n\t\t\t}\n\t\t\t//\t\t\tif (target.hash) {\n\t\t\treturn target;\n\t\t\t//\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 80,\n\t\thandle: handle,\n\t\ttarget: false\n\t});\n\n\twindow.addEventListener('tap', function(e) {\n\n\t\tvar targetTab = $.targets.tab;\n\t\tif (!targetTab) {\n\t\t\treturn;\n\t\t}\n\t\tvar activeTab;\n\t\tvar activeBodies;\n\t\tvar targetBody;\n\t\tvar className = 'mui-active';\n\t\tvar classSelector = '.' + className;\n\t\tvar segmentedControl = targetTab.parentNode;\n\n\t\tfor (; segmentedControl && segmentedControl !== document; segmentedControl = segmentedControl.parentNode) {\n\t\t\tif (segmentedControl.classList.contains(CLASS_SEGMENTED_CONTROL)) {\n\t\t\t\tactiveTab = segmentedControl.querySelector(classSelector + '.' + CLASS_CONTROL_ITEM);\n\t\t\t\tbreak;\n\t\t\t} else if (segmentedControl.classList.contains(CLASS_TAB_BAR)) {\n\t\t\t\tactiveTab = segmentedControl.querySelector(classSelector + '.' + CLASS_TAB_ITEM);\n\t\t\t}\n\t\t}\n\n\t\tif (activeTab) {\n\t\t\tactiveTab.classList.remove(className);\n\t\t}\n\n\t\tvar isLastActive = targetTab === activeTab;\n\t\tif (targetTab) {\n\t\t\ttargetTab.classList.add(className);\n\t\t}\n\n\t\tif (!targetTab.hash) {\n\t\t\treturn;\n\t\t}\n\t\ttargetBody = document.getElementById(targetTab.hash.replace('#', ''));\n\n\t\tif (!targetBody) {\n\t\t\treturn;\n\t\t}\n\t\tif (!targetBody.classList.contains(CLASS_CONTROL_CONTENT)) { //tab bar popover\n\t\t\ttargetTab.classList[isLastActive ? 'remove' : 'add'](className);\n\t\t\treturn;\n\t\t}\n\t\tif (isLastActive) { //same\n\t\t\treturn;\n\t\t}\n\t\tvar parentNode = targetBody.parentNode;\n\t\tactiveBodies = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT + classSelector);\n\t\tfor (var i = 0; i < activeBodies.length; i++) {\n\t\t\tvar activeBody = activeBodies[i];\n\t\t\tactiveBody.parentNode === parentNode && activeBody.classList.remove(className);\n\t\t}\n\n\t\ttargetBody.classList.add(className);\n\n\t\tvar contents = [];\n\t\tvar _contents = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT);\n\t\tfor (var i = 0; i < _contents.length; i++) { //查找直属子节点\n\t\t\t_contents[i].parentNode === parentNode && (contents.push(_contents[i]));\n\t\t}\n\t\t$.trigger(targetBody, $.eventName('shown', name), {\n\t\t\ttabNumber: Array.prototype.indexOf.call(contents, targetBody)\n\t\t});\n\t\te.detail && e.detail.gesture.preventDefault(); //fixed hashchange\n\t});\n\n})(mui, window, document, 'tab');\n/**\n * Toggles switch\n * @param {type} $\n * @param {type} window\n * @param {type} name\n * @returns {undefined}\n */\n(function($, window, name) {\n\n\tvar CLASS_SWITCH = 'mui-switch';\n\tvar CLASS_SWITCH_HANDLE = 'mui-switch-handle';\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_DRAGGING = 'mui-dragging';\n\n\tvar CLASS_DISABLED = 'mui-disabled';\n\n\tvar SELECTOR_SWITCH_HANDLE = '.' + CLASS_SWITCH_HANDLE;\n\n\tvar handle = function(event, target) {\n\t\tif (target.classList && target.classList.contains(CLASS_SWITCH)) {\n\t\t\treturn target;\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 100,\n\t\thandle: handle,\n\t\ttarget: false\n\t});\n\n\n\tvar Toggle = function(element) {\n\t\tthis.element = element;\n\t\tthis.classList = this.element.classList;\n\t\tthis.handle = this.element.querySelector(SELECTOR_SWITCH_HANDLE);\n\t\tthis.init();\n\t\tthis.initEvent();\n\t};\n\tToggle.prototype.init = function() {\n\t\tthis.toggleWidth = this.element.offsetWidth;\n\t\tthis.handleWidth = this.handle.offsetWidth;\n\t\tthis.handleX = this.toggleWidth - this.handleWidth - 3;\n\t};\n\tToggle.prototype.initEvent = function() {\n\t\tthis.element.addEventListener($.EVENT_START, this);\n\t\tthis.element.addEventListener('drag', this);\n\t\tthis.element.addEventListener('swiperight', this);\n\t\tthis.element.addEventListener($.EVENT_END, this);\n\t\tthis.element.addEventListener($.EVENT_CANCEL, this);\n\n\t};\n\tToggle.prototype.handleEvent = function(e) {\n\t\tif (this.classList.contains(CLASS_DISABLED)) {\n\t\t\treturn;\n\t\t}\n\t\tswitch (e.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tthis.start(e);\n\t\t\t\tbreak;\n\t\t\tcase 'drag':\n\t\t\t\tthis.drag(e);\n\t\t\t\tbreak;\n\t\t\tcase 'swiperight':\n\t\t\t\tthis.swiperight();\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tthis.end(e);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\tToggle.prototype.start = function(e) {\n\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\n\t\tthis.classList.add(CLASS_DRAGGING);\n\t\tif (this.toggleWidth === 0 || this.handleWidth === 0) { //当switch处于隐藏状态时，width为0，需要重新初始化\n\t\t\tthis.init();\n\t\t}\n\t};\n\tToggle.prototype.drag = function(e) {\n\t\tvar detail = e.detail;\n\t\tif (!this.isDragging) {\n\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\n\t\t\t\tthis.isDragging = true;\n\t\t\t\tthis.lastChanged = undefined;\n\t\t\t\tthis.initialState = this.classList.contains(CLASS_ACTIVE);\n\t\t\t}\n\t\t}\n\t\tif (this.isDragging) {\n\t\t\tthis.setTranslateX(detail.deltaX);\n\t\t\te.stopPropagation();\n\t\t\tdetail.gesture.preventDefault();\n\t\t}\n\t};\n\tToggle.prototype.swiperight = function(e) {\n\t\tif (this.isDragging) {\n\t\t\te.stopPropagation();\n\t\t}\n\t};\n\tToggle.prototype.end = function(e) {\n\t\tthis.classList.remove(CLASS_DRAGGING);\n\t\tif (this.isDragging) {\n\t\t\tthis.isDragging = false;\n\t\t\te.stopPropagation();\n\t\t\t$.trigger(this.element, 'toggle', {\n\t\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\n\t\t\t});\n\t\t} else {\n\t\t\tthis.toggle();\n\t\t}\n\t};\n\tToggle.prototype.toggle = function(animate) {\n\t\tvar classList = this.classList;\n\t\tif (animate === false) {\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '0s';\n\t\t} else {\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\n\t\t}\n\t\tif (classList.contains(CLASS_ACTIVE)) {\n\t\t\tclassList.remove(CLASS_ACTIVE);\n\t\t\tthis.handle.style.webkitTransform = 'translate(0,0)';\n\t\t} else {\n\t\t\tclassList.add(CLASS_ACTIVE);\n\t\t\tthis.handle.style.webkitTransform = 'translate(' + this.handleX + 'px,0)';\n\t\t}\n\t\t$.trigger(this.element, 'toggle', {\n\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\n\t\t});\n\t};\n\tToggle.prototype.setTranslateX = $.animationFrame(function(x) {\n\t\tif (!this.isDragging) {\n\t\t\treturn;\n\t\t}\n\t\tvar isChanged = false;\n\t\tif ((this.initialState && -x > (this.handleX / 2)) || (!this.initialState && x > (this.handleX / 2))) {\n\t\t\tisChanged = true;\n\t\t}\n\t\tif (this.lastChanged !== isChanged) {\n\t\t\tif (isChanged) {\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? 0 : this.handleX) + 'px,0)';\n\t\t\t\tthis.classList[this.initialState ? 'remove' : 'add'](CLASS_ACTIVE);\n\t\t\t} else {\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? this.handleX : 0) + 'px,0)';\n\t\t\t\tthis.classList[this.initialState ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t}\n\t\t\tthis.lastChanged = isChanged;\n\t\t}\n\n\t});\n\n\t$.fn['switch'] = function(options) {\n\t\tvar switchApis = [];\n\t\tthis.each(function() {\n\t\t\tvar switchApi = null;\n\t\t\tvar id = this.getAttribute('data-switch');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = new Toggle(this);\n\t\t\t\tthis.setAttribute('data-switch', id);\n\t\t\t} else {\n\t\t\t\tswitchApi = $.data[id];\n\t\t\t}\n\t\t\tswitchApis.push(switchApi);\n\t\t});\n\t\treturn switchApis.length > 1 ? switchApis : switchApis[0];\n\t};\n\t$.ready(function() {\n\t\t$('.' + CLASS_SWITCH)['switch']();\n\t});\n})(mui, window, 'toggle');\n/**\n * Tableviews\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @returns {undefined}\n */\n(function($, window, document) {\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_SELECTED = 'mui-selected';\n\tvar CLASS_GRID_VIEW = 'mui-grid-view';\n\tvar CLASS_RADIO_VIEW = 'mui-table-view-radio';\n\tvar CLASS_TABLE_VIEW_CELL = 'mui-table-view-cell';\n\tvar CLASS_COLLAPSE_CONTENT = 'mui-collapse-content';\n\tvar CLASS_DISABLED = 'mui-disabled';\n\tvar CLASS_TOGGLE = 'mui-switch';\n\tvar CLASS_BTN = 'mui-btn';\n\n\tvar CLASS_SLIDER_HANDLE = 'mui-slider-handle';\n\tvar CLASS_SLIDER_LEFT = 'mui-slider-left';\n\tvar CLASS_SLIDER_RIGHT = 'mui-slider-right';\n\tvar CLASS_TRANSITIONING = 'mui-transitioning';\n\n\n\tvar SELECTOR_SLIDER_HANDLE = '.' + CLASS_SLIDER_HANDLE;\n\tvar SELECTOR_SLIDER_LEFT = '.' + CLASS_SLIDER_LEFT;\n\tvar SELECTOR_SLIDER_RIGHT = '.' + CLASS_SLIDER_RIGHT;\n\tvar SELECTOR_SELECTED = '.' + CLASS_SELECTED;\n\tvar SELECTOR_BUTTON = '.' + CLASS_BTN;\n\tvar overFactor = 0.8;\n\tvar cell, a;\n\n\tvar isMoved = isOpened = openedActions = progress = false;\n\tvar sliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\n\tvar timer = translateX = lastTranslateX = sliderActionLeftWidth = sliderActionRightWidth = 0;\n\n\n\n\tvar toggleActive = function(isActive) {\n\t\tif (isActive) {\n\t\t\tif (a) {\n\t\t\t\ta.classList.add(CLASS_ACTIVE);\n\t\t\t} else if (cell) {\n\t\t\t\tcell.classList.add(CLASS_ACTIVE);\n\t\t\t}\n\t\t} else {\n\t\t\ttimer && timer.cancel();\n\t\t\tif (a) {\n\t\t\t\ta.classList.remove(CLASS_ACTIVE);\n\t\t\t} else if (cell) {\n\t\t\t\tcell.classList.remove(CLASS_ACTIVE);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar updateTranslate = function() {\n\t\tif (translateX !== lastTranslateX) {\n\t\t\tif (buttonsRight && buttonsRight.length > 0) {\n\t\t\t\tprogress = translateX / sliderActionRightWidth;\n\t\t\t\tif (translateX < -sliderActionRightWidth) {\n\t\t\t\t\ttranslateX = -sliderActionRightWidth - Math.pow(-translateX - sliderActionRightWidth, overFactor);\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\n\t\t\t\t\tvar buttonRight = buttonsRight[i];\n\t\t\t\t\tif (typeof buttonRight._buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\n\t\t\t\t\t}\n\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\n\t\t\t\t\tsetTranslate(buttonRight, (translateX - buttonOffset * (1 + Math.max(progress, -1))));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (buttonsLeft && buttonsLeft.length > 0) {\n\t\t\t\tprogress = translateX / sliderActionLeftWidth;\n\t\t\t\tif (translateX > sliderActionLeftWidth) {\n\t\t\t\t\ttranslateX = sliderActionLeftWidth + Math.pow(translateX - sliderActionLeftWidth, overFactor);\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\n\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\n\t\t\t\t\tif (typeof buttonLeft._buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\n\t\t\t\t\tif (buttonsLeft.length > 1) {\n\t\t\t\t\t\tbuttonLeft.style.zIndex = buttonsLeft.length - i;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonLeft, (translateX + buttonOffset * (1 - Math.min(progress, 1))));\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTranslate(sliderHandle, translateX);\n\t\t\tlastTranslateX = translateX;\n\t\t}\n\t\tsliderRequestAnimationFrame = requestAnimationFrame(function() {\n\t\t\tupdateTranslate();\n\t\t});\n\t};\n\tvar setTranslate = function(element, x) {\n\t\tif (element) {\n\t\t\telement.style.webkitTransform = 'translate(' + x + 'px,0)';\n\t\t}\n\t};\n\n\twindow.addEventListener($.EVENT_START, function(event) {\n\t\tif (cell) {\n\t\t\ttoggleActive(false);\n\t\t}\n\t\tcell = a = false;\n\t\tisMoved = isOpened = openedActions = false;\n\t\tvar target = event.target;\n\t\tvar isDisabled = false;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.classList) {\n\t\t\t\tvar classList = target.classList;\n\t\t\t\tif ((target.tagName === 'INPUT' && target.type !== 'radio' && target.type !== 'checkbox') || target.tagName === 'BUTTON' || classList.contains(CLASS_TOGGLE) || classList.contains(CLASS_BTN) || classList.contains(CLASS_DISABLED)) {\n\t\t\t\t\tisDisabled = true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(CLASS_COLLAPSE_CONTENT)) { //collapse content\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(CLASS_TABLE_VIEW_CELL)) {\n\t\t\t\t\tcell = target;\n\t\t\t\t\t//TODO swipe to delete close\n\t\t\t\t\tvar selected = cell.parentNode.querySelector(SELECTOR_SELECTED);\n\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_RADIO_VIEW) && selected && selected !== cell) {\n\t\t\t\t\t\t$.swipeoutClose(selected);\n\t\t\t\t\t\tcell = isDisabled = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_GRID_VIEW)) {\n\t\t\t\t\t\tvar link = cell.querySelector('a');\n\t\t\t\t\t\tif (link && link.parentNode === cell) { //li>a\n\t\t\t\t\t\t\ta = link;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar handle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\n\t\t\t\t\tif (handle) {\n\t\t\t\t\t\ttoggleEvents(cell);\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tif (!isDisabled) {\n\t\t\t\t\t\tif (handle) {\n\t\t\t\t\t\t\tif (timer) {\n\t\t\t\t\t\t\t\ttimer.cancel();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttimer = $.later(function() {\n\t\t\t\t\t\t\t\ttoggleActive(true);\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoggleActive(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\twindow.addEventListener($.EVENT_MOVE, function(event) {\n\t\ttoggleActive(false);\n\t});\n\n\tvar handleEvent = {\n\t\thandleEvent: function(event) {\n\t\t\tswitch (event.type) {\n\t\t\t\tcase 'drag':\n\t\t\t\t\tthis.drag(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis.dragend(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'flick':\n\t\t\t\t\tthis.flick(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swiperight':\n\t\t\t\t\tthis.swiperight(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swipeleft':\n\t\t\t\t\tthis.swipeleft(event);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tdrag: function(event) {\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isMoved) { //init\n\t\t\t\tsliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\n\t\t\t\tsliderHandle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\n\t\t\t\tif (sliderHandle) {\n\t\t\t\t\tsliderActionLeft = cell.querySelector(SELECTOR_SLIDER_LEFT);\n\t\t\t\t\tsliderActionRight = cell.querySelector(SELECTOR_SLIDER_RIGHT);\n\t\t\t\t\tif (sliderActionLeft) {\n\t\t\t\t\t\tsliderActionLeftWidth = sliderActionLeft.offsetWidth;\n\t\t\t\t\t\tbuttonsLeft = sliderActionLeft.querySelectorAll(SELECTOR_BUTTON);\n\t\t\t\t\t}\n\t\t\t\t\tif (sliderActionRight) {\n\t\t\t\t\t\tsliderActionRightWidth = sliderActionRight.offsetWidth;\n\t\t\t\t\t\tbuttonsRight = sliderActionRight.querySelectorAll(SELECTOR_BUTTON);\n\t\t\t\t\t}\n\t\t\t\t\tcell.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\tisOpened = cell.classList.contains(CLASS_SELECTED);\n\t\t\t\t\tif (isOpened) {\n\t\t\t\t\t\topenedActions = cell.querySelector(SELECTOR_SLIDER_LEFT + SELECTOR_SELECTED) ? 'left' : 'right';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar detail = event.detail;\n\t\t\tvar direction = detail.direction;\n\t\t\tvar angle = detail.angle;\n\t\t\tif (direction === 'left' && (angle > 150 || angle < -150)) {\n\t\t\t\tif (buttonsRight || (buttonsLeft && isOpened)) { //存在右侧按钮或存在左侧按钮且是已打开状态\n\t\t\t\t\tisMoved = true;\n\t\t\t\t}\n\t\t\t} else if (direction === 'right' && (angle > -30 && angle < 30)) {\n\t\t\t\tif (buttonsLeft || (buttonsRight && isOpened)) { //存在左侧按钮或存在右侧按钮且是已打开状态\n\t\t\t\t\tisMoved = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t\tvar translate = event.detail.deltaX;\n\t\t\t\tif (isOpened) {\n\t\t\t\t\tif (openedActions === 'right') {\n\t\t\t\t\t\ttranslate = translate - sliderActionRightWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttranslate = translate + sliderActionLeftWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((translate > 0 && !buttonsLeft) || (translate < 0 && !buttonsRight)) {\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttranslate = 0;\n\t\t\t\t}\n\t\t\t\tif (translate < 0) {\n\t\t\t\t\tsliderDirection = 'toLeft';\n\t\t\t\t} else if (translate > 0) {\n\t\t\t\t\tsliderDirection = 'toRight';\n\t\t\t\t} else {\n\t\t\t\t\tif (!sliderDirection) {\n\t\t\t\t\t\tsliderDirection = 'toLeft';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!sliderRequestAnimationFrame) {\n\t\t\t\t\tupdateTranslate();\n\t\t\t\t}\n\t\t\t\ttranslateX = translate;\n\t\t\t}\n\t\t},\n\t\tflick: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tswipeleft: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tswiperight: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tdragend: function(event) {\n\t\t\tif (!isMoved) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tevent.stopPropagation();\n\t\t\tif (sliderRequestAnimationFrame) {\n\t\t\t\tcancelAnimationFrame(sliderRequestAnimationFrame);\n\t\t\t\tsliderRequestAnimationFrame = null;\n\t\t\t}\n\t\t\tvar detail = event.detail;\n\t\t\tisMoved = false;\n\t\t\tvar action = 'close';\n\t\t\tvar actionsWidth = sliderDirection === 'toLeft' ? sliderActionRightWidth : sliderActionLeftWidth;\n\t\t\tvar isToggle = detail.swipe || (Math.abs(translateX) > actionsWidth / 2);\n\t\t\tif (isToggle) {\n\t\t\t\tif (!isOpened) {\n\t\t\t\t\taction = 'open';\n\t\t\t\t} else if (detail.direction === 'left' && openedActions === 'right') {\n\t\t\t\t\taction = 'open';\n\t\t\t\t} else if (detail.direction === 'right' && openedActions === 'left') {\n\t\t\t\t\taction = 'open';\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tcell.classList.add(CLASS_TRANSITIONING);\n\t\t\tvar buttons;\n\t\t\tif (action === 'open') {\n\t\t\t\tvar newTranslate = sliderDirection === 'toLeft' ? -actionsWidth : actionsWidth;\n\t\t\t\tsetTranslate(sliderHandle, newTranslate);\n\t\t\t\tbuttons = sliderDirection === 'toLeft' ? buttonsRight : buttonsLeft;\n\t\t\t\tif (typeof buttons !== 'undefined') {\n\t\t\t\t\tvar button = null;\n\t\t\t\t\tfor (var i = 0; i < buttons.length; i++) {\n\t\t\t\t\t\tbutton = buttons[i];\n\t\t\t\t\t\tsetTranslate(button, newTranslate);\n\t\t\t\t\t}\n\t\t\t\t\tbutton.parentNode.classList.add(CLASS_SELECTED);\n\t\t\t\t\tcell.classList.add(CLASS_SELECTED);\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\t$.trigger(cell, sliderDirection === 'toLeft' ? 'slideleft' : 'slideright');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTranslate(sliderHandle, 0);\n\t\t\t\tsliderActionLeft && sliderActionLeft.classList.remove(CLASS_SELECTED);\n\t\t\t\tsliderActionRight && sliderActionRight.classList.remove(CLASS_SELECTED);\n\t\t\t\tcell.classList.remove(CLASS_SELECTED);\n\t\t\t}\n\t\t\tvar buttonOffset;\n\t\t\tif (buttonsLeft && buttonsLeft.length > 0 && buttonsLeft !== buttons) {\n\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\n\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\n\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\n\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonLeft, buttonOffset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (buttonsRight && buttonsRight.length > 0 && buttonsRight !== buttons) {\n\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\n\t\t\t\t\tvar buttonRight = buttonsRight[i];\n\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\n\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonRight, -buttonOffset);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction toggleEvents(element, isRemove) {\n\t\tvar method = !!isRemove ? 'removeEventListener' : 'addEventListener';\n\t\telement[method]('drag', handleEvent);\n\t\telement[method]('dragend', handleEvent);\n\t\telement[method]('swiperight', handleEvent);\n\t\telement[method]('swipeleft', handleEvent);\n\t\telement[method]('flick', handleEvent);\n\t};\n\t/**\n\t * 打开滑动菜单\n\t * @param {Object} el\n\t * @param {Object} direction\n\t */\n\t$.swipeoutOpen = function(el, direction) {\n\t\tif (!el) return;\n\t\tvar classList = el.classList;\n\t\tif (classList.contains(CLASS_SELECTED)) return;\n\t\tif (!direction) {\n\t\t\tif (el.querySelector(SELECTOR_SLIDER_RIGHT)) {\n\t\t\t\tdirection = 'right';\n\t\t\t} else {\n\t\t\t\tdirection = 'left';\n\t\t\t}\n\t\t}\n\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\n\t\tif (!swipeoutAction) return;\n\t\tswipeoutAction.classList.add(CLASS_SELECTED);\n\t\tclassList.add(CLASS_SELECTED);\n\t\tclassList.remove(CLASS_TRANSITIONING);\n\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\n\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\n\t\tvar translate = (direction === 'right') ? -swipeoutWidth : swipeoutWidth;\n\t\tvar length = buttons.length;\n\t\tvar button;\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tbutton = buttons[i];\n\t\t\tif (direction === 'right') {\n\t\t\t\tsetTranslate(button, -button.offsetLeft);\n\t\t\t} else {\n\t\t\t\tsetTranslate(button, (swipeoutWidth - button.offsetWidth - button.offsetLeft));\n\t\t\t}\n\t\t}\n\t\tclassList.add(CLASS_TRANSITIONING);\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsetTranslate(buttons[i], translate);\n\t\t}\n\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), translate);\n\t};\n\t/**\n\t * 关闭滑动菜单\n\t * @param {Object} el\n\t */\n\t$.swipeoutClose = function(el) {\n\t\tif (!el) return;\n\t\tvar classList = el.classList;\n\t\tif (!classList.contains(CLASS_SELECTED)) return;\n\t\tvar direction = el.querySelector(SELECTOR_SLIDER_RIGHT + SELECTOR_SELECTED) ? 'right' : 'left';\n\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\n\t\tif (!swipeoutAction) return;\n\t\tswipeoutAction.classList.remove(CLASS_SELECTED);\n\t\tclassList.remove(CLASS_SELECTED);\n\t\tclassList.add(CLASS_TRANSITIONING);\n\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\n\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\n\t\tvar length = buttons.length;\n\t\tvar button;\n\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), 0);\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tbutton = buttons[i];\n\t\t\tif (direction === 'right') {\n\t\t\t\tsetTranslate(button, (-button.offsetLeft));\n\t\t\t} else {\n\t\t\t\tsetTranslate(button, (swipeoutWidth - button.offsetWidth - button.offsetLeft));\n\t\t\t}\n\t\t}\n\t};\n\n\twindow.addEventListener($.EVENT_END, function(event) { //使用touchend来取消高亮，避免一次点击既不触发tap，doubletap，longtap的事件\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\ttoggleActive(false);\n\t\tsliderHandle && toggleEvents(cell, true);\n\t});\n\twindow.addEventListener($.EVENT_CANCEL, function(event) { //使用touchcancel来取消高亮，避免一次点击既不触发tap，doubletap，longtap的事件\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\ttoggleActive(false);\n\t\tsliderHandle && toggleEvents(cell, true);\n\t});\n\tvar radioOrCheckboxClick = function(event) {\n\t\tvar type = event.target && event.target.type || '';\n\t\tif (type === 'radio' || type === 'checkbox') {\n\t\t\treturn;\n\t\t}\n\t\tvar classList = cell.classList;\n\t\tif (classList.contains('mui-radio')) {\n\t\t\tvar input = cell.querySelector('input[type=radio]');\n\t\t\tif (input) {\n\t\t\t\t//\t\t\t\tinput.click();\n\t\t\t\tif (!input.disabled && !input.readOnly) {\n\t\t\t\t\tinput.checked = !input.checked;\n\t\t\t\t\t$.trigger(input, 'change');\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (classList.contains('mui-checkbox')) {\n\t\t\tvar input = cell.querySelector('input[type=checkbox]');\n\t\t\tif (input) {\n\t\t\t\t//\t\t\t\tinput.click();\n\t\t\t\tif (!input.disabled && !input.readOnly) {\n\t\t\t\t\tinput.checked = !input.checked;\n\t\t\t\t\t$.trigger(input, 'change');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t//fixed hashchange(android)\n\twindow.addEventListener($.EVENT_CLICK, function(e) {\n\t\tif (cell && cell.classList.contains('mui-collapse')) {\n\t\t\te.preventDefault();\n\t\t}\n\t});\n\twindow.addEventListener('doubletap', function(event) {\n\t\tif (cell) {\n\t\t\tradioOrCheckboxClick(event);\n\t\t}\n\t});\n\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\n\twindow.addEventListener('tap', function(event) {\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\tvar isExpand = false;\n\t\tvar classList = cell.classList;\n\t\tvar ul = cell.parentNode;\n\t\tif (ul && ul.classList.contains(CLASS_RADIO_VIEW)) {\n\t\t\tif (classList.contains(CLASS_SELECTED)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar selected = ul.querySelector('li' + SELECTOR_SELECTED);\n\t\t\tif (selected) {\n\t\t\t\tselected.classList.remove(CLASS_SELECTED);\n\t\t\t}\n\t\t\tclassList.add(CLASS_SELECTED);\n\t\t\t$.trigger(cell, 'selected', {\n\t\t\t\tel: cell\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tif (classList.contains('mui-collapse') && !cell.parentNode.classList.contains('mui-unfold')) {\n\t\t\tif (!preventDefaultException.test(event.target.tagName)) {\n\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t}\n\n\t\t\tif (!classList.contains(CLASS_ACTIVE)) { //展开时,需要收缩其他同类\n\t\t\t\tvar collapse = cell.parentNode.querySelector('.mui-collapse.mui-active');\n\t\t\t\tif (collapse) {\n\t\t\t\t\tcollapse.classList.remove(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tisExpand = true;\n\t\t\t}\n\t\t\tclassList.toggle(CLASS_ACTIVE);\n\t\t\tif (isExpand) {\n\t\t\t\t//触发展开事件\n\t\t\t\t$.trigger(cell, 'expand');\n\n\t\t\t\t//scroll\n\t\t\t\t//暂不滚动\n\t\t\t\t// var offsetTop = $.offset(cell).top;\n\t\t\t\t// var scrollTop = document.body.scrollTop;\n\t\t\t\t// var height = window.innerHeight;\n\t\t\t\t// var offsetHeight = cell.offsetHeight;\n\t\t\t\t// var cellHeight = (offsetTop - scrollTop + offsetHeight);\n\t\t\t\t// if (offsetHeight > height) {\n\t\t\t\t// \t$.scrollTo(offsetTop, 300);\n\t\t\t\t// } else if (cellHeight > height) {\n\t\t\t\t// \t$.scrollTo(cellHeight - height + scrollTop, 300);\n\t\t\t\t// }\n\t\t\t}\n\t\t} else {\n\t\t\tradioOrCheckboxClick(event);\n\t\t}\n\t});\n})(mui, window, document);\n(function($, window) {\n\t/**\n\t * 警告消息框\n\t */\n\t$.alert = function(message, title, btnValue, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnValue = '确定';\n\t\t\t\t} else if (typeof btnValue === 'function') {\n\t\t\t\t\tcallback = btnValue;\n\t\t\t\t\tbtnValue = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.alert(message, callback, title, btnValue);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//TODO H5版本\n\t\t\twindow.alert(message);\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\t/**\n\t * 确认消息框\n\t */\n\t$.confirm = function(message, title, btnArray, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.confirm(message, callback, title, btnArray);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//H5版本，0为确认，1为取消\n\t\t\tif (window.confirm(message)) {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 0\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 1\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\t/**\n\t * 输入对话框\n\t */\n\t$.prompt = function(text, defaultText, title, btnArray, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\n\t\t\t\tif (typeof defaultText === 'function') {\n\t\t\t\t\tcallback = defaultText;\n\t\t\t\t\tdefaultText = null;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.prompt(text, callback, title, defaultText, btnArray);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//H5版本(确认index为0，取消index为1)\n\t\t\tvar result = window.prompt(text);\n\t\t\tif (result) {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 0,\n\t\t\t\t\tvalue: result\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 1,\n\t\t\t\t\tvalue: ''\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\tvar CLASS_ACTIVE = 'mui-active';\n\t/**\n\t * 自动消失提示框\n\t */\n\t$.toast = function(message,options) {\n\t\tvar durations = {\n\t\t    'long': 3500,\n\t\t    'short': 2000\n\t\t};\n\n\t\t//计算显示时间\n\t\t options = $.extend({\n\t        duration: 'short'\n\t    }, options || {});\n\n\n\t\tif ($.os.plus && options.type !== 'div') {\n\t\t\t//默认显示在底部；\n\t\t\t$.plusReady(function() {\n\t\t\t\tplus.nativeUI.toast(message, {\n\t\t\t\t\tverticalAlign: 'bottom',\n\t\t\t\t\tduration:options.duration\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tif (typeof options.duration === 'number') {\n\t\t        duration = options.duration>0 ? options.duration:durations['short'];\n\t\t    } else {\n\t\t        duration = durations[options.duration];\n\t\t    }\n\t\t    if (!duration) {\n\t\t        duration = durations['short'];\n\t\t    }\n\t\t\tvar toast = document.createElement('div');\n\t\t\ttoast.classList.add('mui-toast-container');\n\t\t\ttoast.innerHTML = '<div class=\"' + 'mui-toast-message' + '\">' + message + '</div>';\n\t\t\ttoast.addEventListener('webkitTransitionEnd', function() {\n\t\t\t\tif (!toast.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\ttoast.parentNode.removeChild(toast);\n\t\t\t\t\ttoast = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t//点击则自动消失\n\t\t\ttoast.addEventListener('click', function() {\n\t\t        toast.parentNode.removeChild(toast);\n\t\t        toast = null;\n\t\t    });\n\t\t\tdocument.body.appendChild(toast);\n\t\t\ttoast.offsetHeight;\n\t\t\ttoast.classList.add(CLASS_ACTIVE);\n\t\t\tsetTimeout(function() {\n\t\t\t\ttoast && toast.classList.remove(CLASS_ACTIVE);\n\t\t\t}, duration);\n\t\t\t\n\t\t\treturn {\n\t\t        isVisible: function() {return !!toast;}\n\t\t    }\n\t\t}   \n\t};\n\n})(mui, window);\n/**\n * Popup(alert,confirm,prompt)  \n * @param {Object} $\n * @param {Object} window\n * @param {Object} document\n */\n(function($, window, document) {\n    var CLASS_POPUP = 'mui-popup';\n    var CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\n    var CLASS_POPUP_IN = 'mui-popup-in';\n    var CLASS_POPUP_OUT = 'mui-popup-out';\n    var CLASS_POPUP_INNER = 'mui-popup-inner';\n    var CLASS_POPUP_TITLE = 'mui-popup-title';\n    var CLASS_POPUP_TEXT = 'mui-popup-text';\n    var CLASS_POPUP_INPUT = 'mui-popup-input';\n    var CLASS_POPUP_BUTTONS = 'mui-popup-buttons';\n    var CLASS_POPUP_BUTTON = 'mui-popup-button';\n    var CLASS_POPUP_BUTTON_BOLD = 'mui-popup-button-bold';\n    var CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\n    var CLASS_ACTIVE = 'mui-active';\n\n    var popupStack = [];\n    var backdrop = (function() {\n        var element = document.createElement('div');\n        element.classList.add(CLASS_POPUP_BACKDROP);\n        element.addEventListener($.EVENT_MOVE, $.preventDefault);\n        element.addEventListener('webkitTransitionEnd', function() {\n            if (!this.classList.contains(CLASS_ACTIVE)) {\n                element.parentNode && element.parentNode.removeChild(element);\n            }\n        });\n        return element;\n    }());\n\n    var createInput = function(placeholder) {\n        return '<div class=\"' + CLASS_POPUP_INPUT + '\"><input type=\"text\" autofocus placeholder=\"' + (placeholder || '') + '\"/></div>';\n    };\n    var createInner = function(message, title, extra) {\n        return '<div class=\"' + CLASS_POPUP_INNER + '\"><div class=\"' + CLASS_POPUP_TITLE + '\">' + title + '</div><div class=\"' + CLASS_POPUP_TEXT + '\">' + message.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\") + '</div>' + (extra || '') + '</div>';\n    };\n    var createButtons = function(btnArray) {\n        var length = btnArray.length;\n        var btns = [];\n        for (var i = 0; i < length; i++) {\n            btns.push('<span class=\"' + CLASS_POPUP_BUTTON + (i === length - 1 ? (' ' + CLASS_POPUP_BUTTON_BOLD) : '') + '\">' + btnArray[i] + '</span>');\n        }\n        return '<div class=\"' + CLASS_POPUP_BUTTONS + '\">' + btns.join('') + '</div>';\n    };\n\n    var createPopup = function(html, callback) {\n        var popupElement = document.createElement('div');\n        popupElement.className = CLASS_POPUP;\n        popupElement.innerHTML = html;\n        var removePopupElement = function() {\n            popupElement.parentNode && popupElement.parentNode.removeChild(popupElement);\n            popupElement = null;\n        };\n        popupElement.addEventListener($.EVENT_MOVE, $.preventDefault);\n        popupElement.addEventListener('webkitTransitionEnd', function(e) {\n            if (popupElement && e.target === popupElement && popupElement.classList.contains(CLASS_POPUP_OUT)) {\n                removePopupElement();\n            }\n        });\n        popupElement.style.display = 'block';\n        document.body.appendChild(popupElement);\n        popupElement.offsetHeight;\n        popupElement.classList.add(CLASS_POPUP_IN);\n\n        if (!backdrop.classList.contains(CLASS_ACTIVE)) {\n            backdrop.style.display = 'block';\n            document.body.appendChild(backdrop);\n            backdrop.offsetHeight;\n            backdrop.classList.add(CLASS_ACTIVE);\n        }\n        var btns = $.qsa('.' + CLASS_POPUP_BUTTON, popupElement);\n        var input = popupElement.querySelector('.' + CLASS_POPUP_INPUT + ' input');\n        var popup = {\n            element: popupElement,\n            close: function(index, animate) {\n                if (popupElement) {\n                    var result = callback && callback({\n                        index: index || 0,\n                        value: input && input.value || ''\n                    });\n                    if (result === false) { //返回false则不关闭当前popup\n                        return;\n                    }\n                    if (animate !== false) {\n                        popupElement.classList.remove(CLASS_POPUP_IN);\n                        popupElement.classList.add(CLASS_POPUP_OUT);\n                    } else {\n                        removePopupElement();\n                    }\n                    popupStack.pop();\n                    //如果还有其他popup，则不remove backdrop\n                    if (popupStack.length) {\n                        popupStack[popupStack.length - 1]['show'](animate);\n                    } else {\n                        backdrop.classList.remove(CLASS_ACTIVE);\n                    }\n                }\n            }\n        };\n        var handleEvent = function(e) {\n            popup.close(btns.indexOf(e.target));\n        };\n        $(popupElement).on('tap', '.' + CLASS_POPUP_BUTTON, handleEvent);\n        if (popupStack.length) {\n            popupStack[popupStack.length - 1]['hide']();\n        }\n        popupStack.push({\n            close: popup.close,\n            show: function(animate) {\n                popupElement.style.display = 'block';\n                popupElement.offsetHeight;\n                popupElement.classList.add(CLASS_POPUP_IN);\n            },\n            hide: function() {\n                popupElement.style.display = 'none';\n                popupElement.classList.remove(CLASS_POPUP_IN);\n            }\n        });\n        return popup;\n    };\n    var createAlert = function(message, title, btnValue, callback, type) {\n        if (typeof message === 'undefined') {\n            return;\n        } else {\n            if (typeof title === 'function') {\n                callback = title;\n                type = btnValue;\n                title = null;\n                btnValue = null;\n            } else if (typeof btnValue === 'function') {\n                type = callback;\n                callback = btnValue;\n                btnValue = null;\n            }\n        }\n        if (!$.os.plus || type === 'div') {\n            return createPopup(createInner(message, title || '提示') + createButtons([btnValue || '确定']), callback);\n        }\n        return plus.nativeUI.alert(message, callback, title || '提示', btnValue || '确定');\n    };\n    var createConfirm = function(message, title, btnArray, callback, type) {\n        if (typeof message === 'undefined') {\n            return;\n        } else {\n            if (typeof title === 'function') {\n                callback = title;\n                type = btnArray;\n                title = null;\n                btnArray = null;\n            } else if (typeof btnArray === 'function') {\n                type = callback;\n                callback = btnArray;\n                btnArray = null;\n            }\n        }\n        if (!$.os.plus || type === 'div') {\n            return createPopup(createInner(message, title || '提示') + createButtons(btnArray || ['取消', '确认']), callback);\n        }\n        return plus.nativeUI.confirm(message, callback, title, btnArray || ['取消', '确认']);\n    };\n    var createPrompt = function(message, placeholder, title, btnArray, callback, type) {\n        if (typeof message === 'undefined') {\n            return;\n        } else {\n            if (typeof placeholder === 'function') {\n                callback = placeholder;\n                type = title;\n                placeholder = null;\n                title = null;\n                btnArray = null;\n            } else if (typeof title === 'function') {\n                callback = title;\n                type = btnArray;\n                title = null;\n                btnArray = null;\n            } else if (typeof btnArray === 'function') {\n                type = callback;\n                callback = btnArray;\n                btnArray = null;\n            }\n        }\n        if (!$.os.plus || type === 'div') {\n            return createPopup(createInner(message, title || '提示', createInput(placeholder)) + createButtons(btnArray || ['取消', '确认']), callback);\n        }\n        return plus.nativeUI.prompt(message, callback, title || '提示', placeholder, btnArray || ['取消', '确认']);\n    };\n    var closePopup = function() {\n        if (popupStack.length) {\n            popupStack[popupStack.length - 1]['close']();\n            return true;\n        } else {\n            return false;\n        }\n    };\n    var closePopups = function() {\n        while (popupStack.length) {\n            popupStack[popupStack.length - 1]['close']();\n        }\n    };\n\n    $.closePopup = closePopup;\n    $.closePopups = closePopups;\n    $.alert = createAlert;\n    $.confirm = createConfirm;\n    $.prompt = createPrompt;\n})(mui, window, document);\n(function($, document) {\n\tvar CLASS_PROGRESSBAR = 'mui-progressbar';\n\tvar CLASS_PROGRESSBAR_IN = 'mui-progressbar-in';\n\tvar CLASS_PROGRESSBAR_OUT = 'mui-progressbar-out';\n\tvar CLASS_PROGRESSBAR_INFINITE = 'mui-progressbar-infinite';\n\n\tvar SELECTOR_PROGRESSBAR = '.mui-progressbar';\n\n\tvar _findProgressbar = function(container) {\n\t\tcontainer = $(container || 'body');\n\t\tif (container.length === 0) return;\n\t\tcontainer = container[0];\n\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\n\t\t\treturn container;\n\t\t}\n\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR);\n\t\tif (progressbars) {\n\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\n\t\t\t\tvar progressbar = progressbars[i];\n\t\t\t\tif (progressbar.parentNode === container) {\n\t\t\t\t\treturn progressbar;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * 创建并显示进度条 \n\t * @param {Object} container  可选，默认body，支持selector,DOM Node,mui wrapper\n\t * @param {Object} progress 可选，undefined表示循环，数字表示具体进度\n\t * @param {Object} color 可选，指定颜色样式(目前暂未提供实际样式，可暂时不暴露此参数)\n\t */\n\tvar showProgressbar = function(container, progress, color) {\n\t\tif (typeof container === 'number') {\n\t\t\tcolor = progress;\n\t\t\tprogress = container;\n\t\t\tcontainer = 'body';\n\t\t}\n\t\tcontainer = $(container || 'body');\n\t\tif (container.length === 0) return;\n\t\tcontainer = container[0];\n\t\tvar progressbar;\n\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\n\t\t\tprogressbar = container;\n\t\t} else {\n\t\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR + ':not(.' + CLASS_PROGRESSBAR_OUT + ')');\n\t\t\tif (progressbars) {\n\t\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\n\t\t\t\t\tvar _progressbar = progressbars[i];\n\t\t\t\t\tif (_progressbar.parentNode === container) {\n\t\t\t\t\t\tprogressbar = _progressbar;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!progressbar) {\n\t\t\t\tprogressbar = document.createElement('span');\n\t\t\t\tprogressbar.className = CLASS_PROGRESSBAR + ' ' + CLASS_PROGRESSBAR_IN + (typeof progress !== 'undefined' ? '' : (' ' + CLASS_PROGRESSBAR_INFINITE)) + (color ? (' ' + CLASS_PROGRESSBAR + '-' + color) : '');\n\t\t\t\tif (typeof progress !== 'undefined') {\n\t\t\t\t\tprogressbar.innerHTML = '<span></span>';\n\t\t\t\t}\n\t\t\t\tcontainer.appendChild(progressbar);\n\t\t\t} else {\n\t\t\t\tprogressbar.classList.add(CLASS_PROGRESSBAR_IN);\n\t\t\t}\n\t\t}\n\t\tif (progress) setProgressbar(container, progress);\n\t\treturn progressbar;\n\t};\n\t/**\n\t * 关闭进度条 \n\t * @param {Object} container 可选，默认body，支持selector,DOM Node,mui wrapper\n\t */\n\tvar hideProgressbar = function(container) {\n\t\tvar progressbar = _findProgressbar(container);\n\t\tif (!progressbar) {\n\t\t\treturn;\n\t\t}\n\t\tvar classList = progressbar.classList;\n\t\tif (!classList.contains(CLASS_PROGRESSBAR_IN) || classList.contains(CLASS_PROGRESSBAR_OUT)) {\n\t\t\treturn;\n\t\t}\n\t\tclassList.remove(CLASS_PROGRESSBAR_IN);\n\t\tclassList.add(CLASS_PROGRESSBAR_OUT);\n\t\tprogressbar.addEventListener('webkitAnimationEnd', function() {\n\t\t\tprogressbar.parentNode && progressbar.parentNode.removeChild(progressbar);\n\t\t\tprogressbar = null;\n\t\t});\n\t\treturn;\n\t};\n\t/**\n\t * 设置指定进度条进度 \n\t * @param {Object} container  可选，默认body，支持selector,DOM Node,mui wrapper\n\t * @param {Object} progress 可选，默认0 取值范围[0-100]\n\t * @param {Object} speed 进度条动画时间\n\t */\n\tvar setProgressbar = function(container, progress, speed) {\n\t\tif (typeof container === 'number') {\n\t\t\tspeed = progress;\n\t\t\tprogress = container;\n\t\t\tcontainer = false;\n\t\t}\n\t\tvar progressbar = _findProgressbar(container);\n\t\tif (!progressbar || progressbar.classList.contains(CLASS_PROGRESSBAR_INFINITE)) {\n\t\t\treturn;\n\t\t}\n\t\tif (progress) progress = Math.min(Math.max(progress, 0), 100);\n\t\tprogressbar.offsetHeight;\n\t\tvar span = progressbar.querySelector('span');\n\t\tif (span) {\n\t\t\tvar style = span.style;\n\t\t\tstyle.webkitTransform = 'translate3d(' + (-100 + progress) + '%,0,0)';\n\t\t\tif (typeof speed !== 'undefined') {\n\t\t\t\tstyle.webkitTransitionDuration = speed + 'ms';\n\t\t\t} else {\n\t\t\t\tstyle.webkitTransitionDuration = '';\n\t\t\t}\n\t\t}\n\t\treturn progressbar;\n\t};\n\t$.fn.progressbar = function(options) {\n\t\tvar progressbarApis = [];\n\t\toptions = options || {};\n\t\tthis.each(function() {\n\t\t\tvar self = this;\n\t\t\tvar progressbarApi = self.mui_plugin_progressbar;\n\t\t\tif (!progressbarApi) {\n\t\t\t\tself.mui_plugin_progressbar = progressbarApi = {\n\t\t\t\t\toptions: options,\n\t\t\t\t\tsetOptions: function(options) {\n\t\t\t\t\t\tthis.options = options;\n\t\t\t\t\t},\n\t\t\t\t\tshow: function() {\n\t\t\t\t\t\treturn showProgressbar(self, this.options.progress, this.options.color);\n\t\t\t\t\t},\n\t\t\t\t\tsetProgress: function(progress) {\n\t\t\t\t\t\treturn setProgressbar(self, progress);\n\t\t\t\t\t},\n\t\t\t\t\thide: function() {\n\t\t\t\t\t\treturn hideProgressbar(self);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else if (options) {\n\t\t\t\tprogressbarApi.setOptions(options);\n\t\t\t}\n\t\t\tprogressbarApis.push(progressbarApi);\n\t\t});\n\t\treturn progressbarApis.length === 1 ? progressbarApis[0] : progressbarApis;\n\t};\n\t//\t$.setProgressbar = setProgressbar;\n\t//\t$.showProgressbar = showProgressbar;\n\t//\t$.hideProgressbar = hideProgressbar;\n})(mui, document);\n/**\n * Input(TODO resize)\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @returns {undefined}\n */\n(function($, window, document) {\n\tvar CLASS_ICON = 'mui-icon';\n\tvar CLASS_ICON_CLEAR = 'mui-icon-clear';\n\tvar CLASS_ICON_SPEECH = 'mui-icon-speech';\n\tvar CLASS_ICON_SEARCH = 'mui-icon-search';\n\tvar CLASS_ICON_PASSWORD = 'mui-icon-eye';\n\tvar CLASS_INPUT_ROW = 'mui-input-row';\n\tvar CLASS_PLACEHOLDER = 'mui-placeholder';\n\tvar CLASS_TOOLTIP = 'mui-tooltip';\n\tvar CLASS_HIDDEN = 'mui-hidden';\n\tvar CLASS_FOCUSIN = 'mui-focusin';\n\tvar SELECTOR_ICON_CLOSE = '.' + CLASS_ICON_CLEAR;\n\tvar SELECTOR_ICON_SPEECH = '.' + CLASS_ICON_SPEECH;\n\tvar SELECTOR_ICON_PASSWORD = '.' + CLASS_ICON_PASSWORD;\n\tvar SELECTOR_PLACEHOLDER = '.' + CLASS_PLACEHOLDER;\n\tvar SELECTOR_TOOLTIP = '.' + CLASS_TOOLTIP;\n\n\tvar findRow = function(target) {\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.classList && target.classList.contains(CLASS_INPUT_ROW)) {\n\t\t\t\treturn target;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\tvar Input = function(element, options) {\n\t\tthis.element = element;\n\t\tthis.options = options || {\n\t\t\tactions: 'clear'\n\t\t};\n\t\tif (~this.options.actions.indexOf('slider')) { //slider\n\t\t\tthis.sliderActionClass = CLASS_TOOLTIP + ' ' + CLASS_HIDDEN;\n\t\t\tthis.sliderActionSelector = SELECTOR_TOOLTIP;\n\t\t} else { //clear,speech,search\n\t\t\tif (~this.options.actions.indexOf('clear')) {\n\t\t\t\tthis.clearActionClass = CLASS_ICON + ' ' + CLASS_ICON_CLEAR + ' ' + CLASS_HIDDEN;\n\t\t\t\tthis.clearActionSelector = SELECTOR_ICON_CLOSE;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('speech')) { //only for 5+\n\t\t\t\tthis.speechActionClass = CLASS_ICON + ' ' + CLASS_ICON_SPEECH;\n\t\t\t\tthis.speechActionSelector = SELECTOR_ICON_SPEECH;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('search')) {\n\t\t\t\tthis.searchActionClass = CLASS_PLACEHOLDER;\n\t\t\t\tthis.searchActionSelector = SELECTOR_PLACEHOLDER;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('password')) {\n\t\t\t\tthis.passwordActionClass = CLASS_ICON + ' ' + CLASS_ICON_PASSWORD;\n\t\t\t\tthis.passwordActionSelector = SELECTOR_ICON_PASSWORD;\n\t\t\t}\n\t\t}\n\t\tthis.init();\n\t};\n\tInput.prototype.init = function() {\n\t\tthis.initAction();\n\t\tthis.initElementEvent();\n\t};\n\tInput.prototype.initAction = function() {\n\t\tvar self = this;\n\n\t\tvar row = self.element.parentNode;\n\t\tif (row) {\n\t\t\tif (self.sliderActionClass) {\n\t\t\t\tself.sliderAction = self.createAction(row, self.sliderActionClass, self.sliderActionSelector);\n\t\t\t} else {\n\t\t\t\tif (self.searchActionClass) {\n\t\t\t\t\tself.searchAction = self.createAction(row, self.searchActionClass, self.searchActionSelector);\n\t\t\t\t\tself.searchAction.addEventListener('tap', function(e) {\n\t\t\t\t\t\t$.focus(self.element);\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.speechActionClass) {\n\t\t\t\t\tself.speechAction = self.createAction(row, self.speechActionClass, self.speechActionSelector);\n\t\t\t\t\tself.speechAction.addEventListener('click', $.stopPropagation);\n\t\t\t\t\tself.speechAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.speechActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.clearActionClass) {\n\t\t\t\t\tself.clearAction = self.createAction(row, self.clearActionClass, self.clearActionSelector);\n\t\t\t\t\tself.clearAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.clearActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.passwordActionClass) {\n\t\t\t\t\tself.passwordAction = self.createAction(row, self.passwordActionClass, self.passwordActionSelector);\n\t\t\t\t\tself.passwordAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.passwordActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tInput.prototype.createAction = function(row, actionClass, actionSelector) {\n\t\tvar action = row.querySelector(actionSelector);\n\t\tif (!action) {\n\t\t\tvar action = document.createElement('span');\n\t\t\taction.className = actionClass;\n\t\t\tif (actionClass === this.searchActionClass) {\n\t\t\t\taction.innerHTML = '<span class=\"' + CLASS_ICON + ' ' + CLASS_ICON_SEARCH + '\"></span><span>' + this.element.getAttribute('placeholder') + '</span>';\n\t\t\t\tthis.element.setAttribute('placeholder', '');\n\t\t\t\tif (this.element.value.trim()) {\n\t\t\t\t\trow.classList.add('mui-active');\n\t\t\t\t}\n\t\t\t}\n\t\t\trow.insertBefore(action, this.element.nextSibling);\n\t\t}\n\t\treturn action;\n\t};\n\tInput.prototype.initElementEvent = function() {\n\t\tvar element = this.element;\n\n\t\tif (this.sliderActionClass) {\n\t\t\tvar tooltip = this.sliderAction;\n\t\t\tvar timer = null;\n\t\t\tvar showTip = function() { //每次重新计算是因为控件可能被隐藏，初始化时计算是不正确的\n\t\t\t\ttooltip.classList.remove(CLASS_HIDDEN);\n\t\t\t\tvar offsetLeft = element.offsetLeft;\n\t\t\t\tvar width = element.offsetWidth - 28;\n\t\t\t\tvar tooltipWidth = tooltip.offsetWidth;\n\t\t\t\tvar distince = Math.abs(element.max - element.min);\n\t\t\t\tvar scaleWidth = (width / distince) * Math.abs(element.value - element.min);\n\t\t\t\ttooltip.style.left = (14 + offsetLeft + scaleWidth - tooltipWidth / 2) + 'px';\n\t\t\t\ttooltip.innerText = element.value;\n\t\t\t\tif (timer) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\ttooltip.classList.add(CLASS_HIDDEN);\n\t\t\t\t}, 1000);\n\t\t\t};\n\t\t\telement.addEventListener('input', showTip);\n\t\t\telement.addEventListener('tap', showTip);\n\t\t\telement.addEventListener($.EVENT_MOVE, function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.clearActionClass) {\n\t\t\t\tvar action = this.clearAction;\n\t\t\t\tif (!action) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.each(['keyup', 'change', 'input', 'focus', 'cut', 'paste'], function(index, type) {\n\t\t\t\t\t(function(type) {\n\t\t\t\t\t\telement.addEventListener(type, function() {\n\t\t\t\t\t\t\taction.classList[element.value.trim() ? 'remove' : 'add'](CLASS_HIDDEN);\n\t\t\t\t\t\t});\n\t\t\t\t\t})(type);\n\t\t\t\t});\n\t\t\t\telement.addEventListener('blur', function() {\n\t\t\t\t\taction.classList.add(CLASS_HIDDEN);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.searchActionClass) {\n\t\t\t\telement.addEventListener('focus', function() {\n\t\t\t\t\telement.parentNode.classList.add('mui-active');\n\t\t\t\t});\n\t\t\t\telement.addEventListener('blur', function() {\n\t\t\t\t\tif (!element.value.trim()) {\n\t\t\t\t\t\telement.parentNode.classList.remove('mui-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\tInput.prototype.setPlaceholder = function(text) {\n\t\tif (this.searchActionClass) {\n\t\t\tvar placeholder = this.element.parentNode.querySelector(SELECTOR_PLACEHOLDER);\n\t\t\tplaceholder && (placeholder.getElementsByTagName('span')[1].innerText = text);\n\t\t} else {\n\t\t\tthis.element.setAttribute('placeholder', text);\n\t\t}\n\t};\n\tInput.prototype.passwordActionClick = function(event) {\n\t\tif (this.element.type === 'text') {\n\t\t\tthis.element.type = 'password';\n\t\t} else {\n\t\t\tthis.element.type = 'text';\n\t\t}\n\t\tthis.passwordAction.classList.toggle('mui-active');\n\t\tevent.preventDefault();\n\t};\n\tInput.prototype.clearActionClick = function(event) {\n\t\tvar self = this;\n\t\tself.element.value = '';\n\t\t$.focus(self.element);\n\t\tself.clearAction.classList.add(CLASS_HIDDEN);\n\t\tevent.preventDefault();\n\t};\n\tInput.prototype.speechActionClick = function(event) {\n\t\tif (window.plus) {\n\t\t\tvar self = this;\n\t\t\tvar oldValue = self.element.value;\n\t\t\tself.element.value = '';\n\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\n\t\t\tplus.speech.startRecognize({\n\t\t\t\tengine: 'iFly'\n\t\t\t}, function(s) {\n\t\t\t\tself.element.value += s;\n\t\t\t\t$.focus(self.element);\n\t\t\t\tplus.speech.stopRecognize();\n\t\t\t\t$.trigger(self.element, 'recognized', {\n\t\t\t\t\tvalue: self.element.value\n\t\t\t\t});\n\t\t\t\tif (oldValue !== self.element.value) {\n\t\t\t\t\t$.trigger(self.element, 'change');\n\t\t\t\t\t$.trigger(self.element, 'input');\n\t\t\t\t}\n\t\t\t\t// document.body.classList.remove(CLASS_FOCUSIN);\n\t\t\t}, function(e) {\n\t\t\t\tdocument.body.classList.remove(CLASS_FOCUSIN);\n\t\t\t});\n\t\t} else {\n\t\t\talert('only for 5+');\n\t\t}\n\t\tevent.preventDefault();\n\t};\n\t$.fn.input = function(options) {\n\t\tvar inputApis = [];\n\t\tthis.each(function() {\n\t\t\tvar inputApi = null;\n\t\t\tvar actions = [];\n\t\t\tvar row = findRow(this.parentNode);\n\t\t\tif (this.type === 'range' && row.classList.contains('mui-input-range')) {\n\t\t\t\tactions.push('slider');\n\t\t\t} else {\n\t\t\t\tvar classList = this.classList;\n\t\t\t\tif (classList.contains('mui-input-clear')) {\n\t\t\t\t\tactions.push('clear');\n\t\t\t\t}\n\t\t\t\tif (!($.os.android && $.os.stream) && classList.contains('mui-input-speech')) {\n\t\t\t\t\tactions.push('speech');\n\t\t\t\t}\n\t\t\t\tif (classList.contains('mui-input-password')) {\n\t\t\t\t\tactions.push('password');\n\t\t\t\t}\n\t\t\t\tif (this.type === 'search' && row.classList.contains('mui-search')) {\n\t\t\t\t\tactions.push('search');\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar id = this.getAttribute('data-input-' + actions[0]);\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\tinputApi = $.data[id] = new Input(this, {\n\t\t\t\t\tactions: actions.join(',')\n\t\t\t\t});\n\t\t\t\tfor (var i = 0, len = actions.length; i < len; i++) {\n\t\t\t\t\tthis.setAttribute('data-input-' + actions[i], id);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinputApi = $.data[id];\n\t\t\t}\n\t\t\tinputApis.push(inputApi);\n\t\t});\n\t\treturn inputApis.length === 1 ? inputApis[0] : inputApis;\n\t};\n\t$.ready(function() {\n\t\t$('.mui-input-row input').input();\n\t});\n})(mui, window, document);\n(function($, window) {\n    var CLASS_ACTIVE = 'mui-active';\n    var rgbaRegex = /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d*(?:\\.\\d+)?)\\)$/;\n    var getColor = function(colorStr) {\n        var matches = colorStr.match(rgbaRegex);\n        if (matches && matches.length === 5) {\n            return [\n                matches[1],\n                matches[2],\n                matches[3],\n                matches[4]\n            ];\n        }\n        return [];\n    };\n    var Transparent = function(element, options) {\n        this.element = element;\n        this.options = $.extend({\n            top: 0, //距离顶部高度(到达该高度即触发)\n            offset: 150, //滚动透明距离档设定top值后offset也会随着top向下延伸\n            duration: 16, //过渡时间\n            scrollby: window\n        }, options || {});\n\n        this.scrollByElem = this.options.scrollby || window;\n        if (!this.scrollByElem) {\n            throw new Error(\"监听滚动的元素不存在\");\n        }\n        this.isNativeScroll = false;\n        if (this.scrollByElem === window) {\n            this.isNativeScroll = true;\n        } else if (!~this.scrollByElem.className.indexOf('mui-scroll-wrapper')) {\n            this.isNativeScroll = true;\n        }\n\n        this._style = this.element.style;\n        this._bgColor = this._style.backgroundColor;\n        var color = getColor(mui.getStyles(this.element, 'backgroundColor'));\n        if (color.length) {\n            this._R = color[0];\n            this._G = color[1];\n            this._B = color[2];\n            this._A = parseFloat(color[3]);\n            this.lastOpacity = this._A;\n            this._bufferFn = $.buffer(this.handleScroll, this.options.duration, this);\n            this.initEvent();\n        } else {\n            throw new Error(\"元素背景颜色必须为RGBA\");\n        }\n    };\n\n    Transparent.prototype.initEvent = function() {\n        this.scrollByElem.addEventListener('scroll', this._bufferFn);\n        if (this.isNativeScroll) { //原生scroll\n            this.scrollByElem.addEventListener($.EVENT_MOVE, this._bufferFn);\n        }\n    }\n    Transparent.prototype.handleScroll = function(e) {\n        var y = window.scrollY;\n        if (!this.isNativeScroll && e && e.detail) {\n            y = -e.detail.y;\n        }\n        var opacity = (y - this.options.top) / this.options.offset + this._A;\n        opacity = Math.min(Math.max(this._A, opacity), 1);\n        this._style.backgroundColor = 'rgba(' + this._R + ',' + this._G + ',' + this._B + ',' + opacity + ')';\n        if (opacity > this._A) {\n            this.element.classList.add(CLASS_ACTIVE);\n        } else {\n            this.element.classList.remove(CLASS_ACTIVE);\n        }\n        if (this.lastOpacity !== opacity) {\n            $.trigger(this.element, 'alpha', {\n                alpha: opacity\n            });\n            this.lastOpacity = opacity;\n        }\n    };\n    Transparent.prototype.destory = function() {\n        this.scrollByElem.removeEventListener('scroll', this._bufferFn);\n        this.scrollByElem.removeEventListener($.EVENT_MOVE, this._bufferFn);\n        this.element.style.backgroundColor = this._bgColor;\n        this.element.mui_plugin_transparent = null;\n    };\n    $.fn.transparent = function(options) {\n        options = options || {};\n        var transparentApis = [];\n        this.each(function() {\n            var transparentApi = this.mui_plugin_transparent;\n            if (!transparentApi) {\n                var top = this.getAttribute('data-top');\n                var offset = this.getAttribute('data-offset');\n                var duration = this.getAttribute('data-duration');\n                var scrollby = this.getAttribute('data-scrollby');\n                if (top !== null && typeof options.top === 'undefined') {\n                    options.top = top;\n                }\n                if (offset !== null && typeof options.offset === 'undefined') {\n                    options.offset = offset;\n                }\n                if (duration !== null && typeof options.duration === 'undefined') {\n                    options.duration = duration;\n                }\n                if (scrollby !== null && typeof options.scrollby === 'undefined') {\n                    options.scrollby = document.querySelector(scrollby) || window;\n                }\n                transparentApi = this.mui_plugin_transparent = new Transparent(this, options);\n            }\n            transparentApis.push(transparentApi);\n        });\n        return transparentApis.length === 1 ? transparentApis[0] : transparentApis;\n    };\n    $.ready(function() {\n        $('.mui-bar-transparent').transparent();\n    });\n})(mui, window);\n/**\n * 数字输入框\n * varstion 1.0.1\n * by Houfeng\n * Houfeng@DCloud.io\n */\n\n(function($) {\n\n    var touchSupport = ('ontouchstart' in document);\n    var tapEventName = touchSupport ? 'tap' : 'click';\n    var changeEventName = 'change';\n    var holderClassName = 'mui-numbox';\n    var plusClassSelector = '.mui-btn-numbox-plus,.mui-numbox-btn-plus';\n    var minusClassSelector = '.mui-btn-numbox-minus,.mui-numbox-btn-minus';\n    var inputClassSelector = '.mui-input-numbox,.mui-numbox-input';\n\n    var Numbox = $.Numbox = $.Class.extend({\n        /**\n         * 构造函数\n         **/\n        init: function(holder, options) {\n            var self = this;\n            if (!holder) {\n                throw \"构造 numbox 时缺少容器元素\";\n            }\n            self.holder = holder;\n            options = options || {};\n            options.step = parseInt(options.step || 1);\n            self.options = options;\n            self.input = $.qsa(inputClassSelector, self.holder)[0];\n            self.plus = $.qsa(plusClassSelector, self.holder)[0];\n            self.minus = $.qsa(minusClassSelector, self.holder)[0];\n            self.checkValue();\n            self.initEvent();\n        },\n        /**\n         * 初始化事件绑定\n         **/\n        initEvent: function() {\n            var self = this;\n            self.plus.addEventListener(tapEventName, function(event) {\n                var val = parseInt(self.input.value) + self.options.step;\n                self.input.value = val.toString();\n                $.trigger(self.input, changeEventName, null);\n            });\n            self.minus.addEventListener(tapEventName, function(event) {\n                var val = parseInt(self.input.value) - self.options.step;\n                self.input.value = val.toString();\n                $.trigger(self.input, changeEventName, null);\n            });\n            self.input.addEventListener(changeEventName, function(event) {\n                self.checkValue();\n                var val = parseInt(self.input.value);\n                //触发顶层容器\n                $.trigger(self.holder, changeEventName, {\n                    value: val\n                });\n            });\n        },\n        /**\n         * 获取当前值\n         **/\n        getValue: function() {\n            var self = this;\n            return parseInt(self.input.value);\n        },\n        /**\n         * 验证当前值是法合法\n         **/\n        checkValue: function() {\n            var self = this;\n            var val = self.input.value;\n            if (val == null || val == '' || isNaN(val)) {\n                self.input.value = self.options.min || 0;\n                self.minus.disabled = self.options.min != null;\n            } else {\n                var val = parseInt(val);\n                if (self.options.max != null && !isNaN(self.options.max) && val >= parseInt(self.options.max)) {\n                    val = self.options.max;\n                    self.plus.disabled = true;\n                } else {\n                    self.plus.disabled = false;\n                }\n                if (self.options.min != null && !isNaN(self.options.min) && val <= parseInt(self.options.min)) {\n                    val = self.options.min;\n                    self.minus.disabled = true;\n                } else {\n                    self.minus.disabled = false;\n                }\n                self.input.value = val;\n            }\n        },\n        /**\n         * 更新选项\n         **/\n        setOption: function(name, value) {\n            var self = this;\n            self.options[name] = value;\n        },\n        /**\n         * 动态设置新值\n         **/\n        setValue: function(value) {\n            this.input.value = value;\n            this.checkValue();\n        }\n    });\n\n    $.fn.numbox = function(options) {\n        var instanceArray = [];\n        //遍历选择的元素\n        this.each(function(i, element) {\n            if (element.numbox) {\n                return;\n            }\n            if (options) {\n                element.numbox = new Numbox(element, options);\n            } else {\n                var optionsText = element.getAttribute('data-numbox-options');\n                var options = optionsText ? JSON.parse(optionsText) : {};\n                options.step = element.getAttribute('data-numbox-step') || options.step;\n                options.min = element.getAttribute('data-numbox-min') || options.min;\n                options.max = element.getAttribute('data-numbox-max') || options.max;\n                element.numbox = new Numbox(element, options);\n            }\n        });\n        return this[0] ? this[0].numbox : null;\n    }\n\n    //自动处理 class='mui-locker' 的 dom\n    $.ready(function() {\n        $('.' + holderClassName).numbox();\n    });\n\n}(mui));\n/**\n * Button\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @returns {undefined}\n */\n(function($, window, document) {\n    var CLASS_ICON = 'mui-icon';\n    var CLASS_DISABLED = 'mui-disabled';\n\n    var STATE_RESET = 'reset';\n    var STATE_LOADING = 'loading';\n\n    var defaultOptions = {\n        loadingText: 'Loading...', //文案\n        loadingIcon: 'mui-spinner' + ' ' + 'mui-spinner-white', //图标，可为空\n        loadingIconPosition: 'left' //图标所处位置，仅支持left|right\n    };\n\n    var Button = function(element, options) {\n        this.element = element;\n        this.options = $.extend({}, defaultOptions, options);\n        if (!this.options.loadingText) {\n            this.options.loadingText = defaultOptions.loadingText;\n        }\n        if (this.options.loadingIcon === null) {\n            this.options.loadingIcon = 'mui-spinner';\n            if ($.getStyles(this.element, 'color') === 'rgb(255, 255, 255)') {\n                this.options.loadingIcon += ' ' + 'mui-spinner-white';\n            }\n        }\n        this.isInput = this.element.tagName === 'INPUT';\n        this.resetHTML = this.isInput ? this.element.value : this.element.innerHTML;\n        this.state = '';\n    };\n    Button.prototype.loading = function() {\n        this.setState(STATE_LOADING);\n    };\n    Button.prototype.reset = function() {\n        this.setState(STATE_RESET);\n    };\n    Button.prototype.setState = function(state) {\n        if (this.state === state) {\n            return false;\n        }\n        this.state = state;\n        if (state === STATE_RESET) {\n            this.element.disabled = false;\n            this.element.classList.remove(CLASS_DISABLED);\n            this.setHtml(this.resetHTML);\n        } else if (state === STATE_LOADING) {\n            this.element.disabled = true;\n            this.element.classList.add(CLASS_DISABLED);\n            var html = this.isInput ? this.options.loadingText : ('<span>' + this.options.loadingText + '</span>');\n            if (this.options.loadingIcon && !this.isInput) {\n                if (this.options.loadingIconPosition === 'right') {\n                    html += '&nbsp;<span class=\"' + this.options.loadingIcon + '\"></span>';\n                } else {\n                    html = '<span class=\"' + this.options.loadingIcon + '\"></span>&nbsp;' + html;\n                }\n            }\n            this.setHtml(html);\n        }\n    };\n    Button.prototype.setHtml = function(html) {\n        if (this.isInput) {\n            this.element.value = html;\n        } else {\n            this.element.innerHTML = html;\n        }\n    }\n    $.fn.button = function(state) {\n        var buttonApis = [];\n        this.each(function() {\n            var buttonApi = this.mui_plugin_button;\n            if (!buttonApi) {\n                var loadingText = this.getAttribute('data-loading-text');\n                var loadingIcon = this.getAttribute('data-loading-icon');\n                var loadingIconPosition = this.getAttribute('data-loading-icon-position');\n                this.mui_plugin_button = buttonApi = new Button(this, {\n                    loadingText: loadingText,\n                    loadingIcon: loadingIcon,\n                    loadingIconPosition: loadingIconPosition\n                });\n            }\n            if (state === STATE_LOADING || state === STATE_RESET) {\n                buttonApi.setState(state);\n            }\n            buttonApis.push(buttonApi);\n        });\n        return buttonApis.length === 1 ? buttonApis[0] : buttonApis;\n    };\n})(mui, window, document);\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/mui.js","<template>\n\t<div id=\"app\">\n\t\t<!--头部-->\n\t\t<header class=\"header mui-bar mui-bar-nav\">\n\t\t\t<a class=\"mui-action-back iconfont mui-pull-left\">&#xe638;</a>\n\t\t\t<h1 class=\"mui-title\">健康管理</h1>\n\t\t</header>\n\t\t<!--底部-->\n\t\t<nav class=\"mui-bar mui-bar-tab footer\">\n\t\t\t<a id=\"goHome\" class=\"mui-tab-item\" href=\"javascript:void(0)\">\n\t\t\t\t<span class=\"iconfont\">&#xe63e;</span>\n\t\t\t\t<span class=\"\">线上诊室</span>\n\t\t\t</a>\n\t\t\t<a id=\"chart\" class=\"mui-tab-item\" href=\"javascript:void(0)\">\n\t\t\t\t<span class=\"iconfont\">&#xe642;</span>\n\t\t\t\t<span class=\"\">健康档案</span>\n\t\t\t</a>\n\t\t</nav>\n\t\t<!--内容-->\n\t\t<div id=\"muiContent\" class=\"mui-content\">\n\t\t\t<!--手表列表-->\n\t\t\t<div class=\"watchList\">\n\t\t\t\t<div class=\"watchList_item active\">\n\t\t\t\t\t<a href=\"javascript:void(0)\">自己手表</a>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"watchList_item\">\n\t\t\t\t\t<a href=\"javascript:void(0)\">妈妈手表</a>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"watchList_item\">\n\t\t\t\t\t<a href=\"javascript:void(0)\">爸爸手表</a>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"more\">\n\t\t\t\t\t<a href=\"javascript:void(0)\" class=\"iconfont\" @click='More'>&#xe630;</a>\n\t\t\t\t\t<div class=\"isMore\" v-if='isMore'>\n\t\t\t\t\t\t<div class=\"watchList_item active\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">自己手表</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"watchList_item\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">自己手表</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"watchList_item\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">自己手表</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!--健康分类 计步 心率 血压 睡眠监测-->\n\t\t\t<div class=\"health\">\n\t\t\t\t<!--心率-->\n\t\t\t\t<div id=\"_xinlv1\" class=\"healthList\">\n\t\t\t\t\t<div class=\"healthList_top_wrap\">\n\t\t\t\t\t\t<div class=\"healthList_top\">\n\t\t\t\t\t\t\t<div class=\"div_1\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" class=\"iconfont\">&#xe688;</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"div_2\">\n\t\t\t\t\t\t\t\t<p class=\"p_1\">心率<span class=\"iconfont\">&#xe63f;</span></p>\n\t\t\t\t\t\t\t\t<p class=\"p_2\">bpm(次/分钟)</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"div_3\">\n\t\t\t\t\t\t\t\t<p class=\"p_1\">2017/5/16</p>\n\t\t\t\t\t\t\t\t<p class=\"p_2\">查看更多</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"healthCenter\">\n\t\t\t\t\t\t<div class=\"healthCenter_top\">\n\t\t\t\t\t\t\t<span>当前时间</span>\n\t\t\t\t\t\t\t<span>心率</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!--计步-->\n\t\t\t\t<div id=\"_jibu1\" class=\"healthList none\">\n\t\t\t\t\t<div class=\"healthList_top_wrap\">\n\t\t\t\t\t\t<div class=\"healthList_top\">\n\t\t\t\t\t\t\t<div class=\"div_1\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" class=\"iconfont\">&#xe635;</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"div_2\">\n\t\t\t\t\t\t\t\t<p class=\"p_1\">计步<span class=\"iconfont\">&#xe63f;</span></p>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"div_3\">\n\t\t\t\t\t\t\t\t<p class=\"p_1\">2017/5/16</p>\n\t\t\t\t\t\t\t\t<p class=\"p_2\">查看更多</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"healthCenter jibu\">\n\t\t\t\t\t\t<div class=\"healthCenter_top\">\n\t\t\t\t\t\t\t<span>步数</span>\n\t\t\t\t\t\t\t<span>消耗热量</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!--血压-->\n\t\t\t\t<div id=\"_xueya1\" class=\"healthList none\">\n\t\t\t\t\t<div class=\"healthList_top_wrap\">\n\t\t\t\t\t\t<div class=\"healthList_top\">\n\t\t\t\t\t\t\t<div class=\"div_1\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" class=\"iconfont\">&#xe7fa;</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"div_2\">\n\t\t\t\t\t\t\t\t<p class=\"p_1\">血压<span class=\"iconfont\">&#xe63f;</span></p>\n\t\t\t\t\t\t\t\t<p class=\"p_2\">mmhg</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"div_3\">\n\t\t\t\t\t\t\t\t<p class=\"p_1\">2017/5/16</p>\n\t\t\t\t\t\t\t\t<p class=\"p_2\">查看更多</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"healthCenter\">\n\t\t\t\t\t\t<div class=\"healthCenter_top\">\n\t\t\t\t\t\t\t<span>当前时间</span>\n\t\t\t\t\t\t\t<span>心率</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!--计步，心率，血压tab切换-->\n\t\t\t<div class=\"tabList\">\n\t\t\t\t<a id=\"_xinlv\" href=\"javascript:void(0);\" class=\"active\">\n\t\t\t\t\t<span class=\"iconfont\">&#xe688;</span>\n\t\t\t\t\t<span>心率</span>\n\t\t\t\t</a>\n\t\t\t\t<a id=\"_jibu\" href=\"javascript:void(0);\">\n\t\t\t\t\t<span class=\"iconfont\">&#xe635;</span>\n\t\t\t\t\t<span>计步</span>\n\t\t\t\t</a>\n\t\t\t\t<a id=\"_xueya\" href=\"javascript:void(0);\">\n\t\t\t\t\t<span class=\"iconfont\">&#xe7fa;</span>\n\t\t\t\t\t<span>血压</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport 'common/css/mui.css';\n\timport './css/health.css';\n\timport mui from 'common/js/mui.js'\n\tmui.ready(function() {\n\t\t//心率，计步，血压 切换\n\t\tmui(document).on('tap','#_xinlv',function(){\n\t\t\tthis.className='active';\n\t\t\tmui('#_jibu')[0].className='';\n\t\t\tmui('#_xueya')[0].className='';\n\t\t\tmui('#_xinlv1')[0].className='healthList';\n\t\t\tmui('#_jibu1')[0].className='healthList none';\n\t\t\tmui('#_xueya1')[0].className='healthList none';\n\t\t});\n\t\tmui(document).on('tap','#_jibu',function(){\n\t\t\tthis.className='active'\n\t\t\tmui('#_xinlv')[0].className='';\n\t\t\tmui('#_xueya')[0].className='';\n\t\t\tmui('#_xinlv1')[0].className='healthList none';\n\t\t\tmui('#_jibu1')[0].className='healthList';\n\t\t\tmui('#_xueya1')[0].className='healthList none';\n\t\t});\n\t\tmui(document).on('tap','#_xueya',function(){\n\t\t\tthis.className='active'\n\t\t\tmui('#_jibu')[0].className='';\n\t\t\tmui('#_xinlv')[0].className='';\n\t\t\tmui('#_xinlv1')[0].className='healthList none';\n\t\t\tmui('#_jibu1')[0].className='healthList none';\n\t\t\tmui('#_xueya1')[0].className='healthList';\n\t\t});\n\t\t//手表切换\n\t\tmui(document).on('tap','.watchList_item',function(){\n\t\t\tmui('.watchList_item').each(function(index,value){\n\t\t\t\tvalue.className='watchList_item';\n\t\t\t});\n\t\t\tthis.className='watchList_item active';\n\t\t\t\n\t\t});\n\t});\n\texport default {\n\t\tname: 'app',\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisMore: false,\n\t\t\t\timg: {\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tMore: function() {\n\t\t\t\treturn this.isMore = !this.isMore;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t#app {\n\t\tfont-family: 'Microsoft YaHei', 'Avenir', Helvetica, Arial, sans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\ttext-align: center;\n\t\tcolor: #333;\n\t}\n</style>\n\n\n// WEBPACK FOOTER //\n// App.vue?9f2a7a70","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-41b89f8a!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-41b89f8a!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/health/App.vue\n// module id = 109\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('div', {\n    staticClass: \"mui-content\",\n    attrs: {\n      \"id\": \"muiContent\"\n    }\n  }, [_c('div', {\n    staticClass: \"watchList\"\n  }, [_vm._m(2), _vm._v(\" \"), _vm._m(3), _vm._v(\" \"), _vm._m(4), _vm._v(\" \"), _c('div', {\n    staticClass: \"more\"\n  }, [_c('a', {\n    staticClass: \"iconfont\",\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    },\n    on: {\n      \"click\": _vm.More\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), (_vm.isMore) ? _c('div', {\n    staticClass: \"isMore\"\n  }, [_vm._m(5), _vm._v(\" \"), _vm._m(6), _vm._v(\" \"), _vm._m(7)]) : _vm._e()])]), _vm._v(\" \"), _vm._m(8), _vm._v(\" \"), _vm._m(9)])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('header', {\n    staticClass: \"header mui-bar mui-bar-nav\"\n  }, [_c('a', {\n    staticClass: \"mui-action-back iconfont mui-pull-left\"\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('h1', {\n    staticClass: \"mui-title\"\n  }, [_vm._v(\"健康管理\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('nav', {\n    staticClass: \"mui-bar mui-bar-tab footer\"\n  }, [_c('a', {\n    staticClass: \"mui-tab-item\",\n    attrs: {\n      \"id\": \"goHome\",\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_c('span', {\n    staticClass: \"iconfont\"\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', {}, [_vm._v(\"线上诊室\")])]), _vm._v(\" \"), _c('a', {\n    staticClass: \"mui-tab-item\",\n    attrs: {\n      \"id\": \"chart\",\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_c('span', {\n    staticClass: \"iconfont\"\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', {}, [_vm._v(\"健康档案\")])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"watchList_item active\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_vm._v(\"自己手表\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"watchList_item\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_vm._v(\"妈妈手表\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"watchList_item\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_vm._v(\"爸爸手表\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"watchList_item active\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_vm._v(\"自己手表\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"watchList_item\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_vm._v(\"自己手表\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"watchList_item\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_vm._v(\"自己手表\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"health\"\n  }, [_c('div', {\n    staticClass: \"healthList\",\n    attrs: {\n      \"id\": \"_xinlv1\"\n    }\n  }, [_c('div', {\n    staticClass: \"healthList_top_wrap\"\n  }, [_c('div', {\n    staticClass: \"healthList_top\"\n  }, [_c('div', {\n    staticClass: \"div_1\"\n  }, [_c('a', {\n    staticClass: \"iconfont\",\n    attrs: {\n      \"href\": \"javascript:void(0);\"\n    }\n  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"div_2\"\n  }, [_c('p', {\n    staticClass: \"p_1\"\n  }, [_vm._v(\"心率\"), _c('span', {\n    staticClass: \"iconfont\"\n  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"p_2\"\n  }, [_vm._v(\"bpm(次/分钟)\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"div_3\"\n  }, [_c('p', {\n    staticClass: \"p_1\"\n  }, [_vm._v(\"2017/5/16\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"p_2\"\n  }, [_vm._v(\"查看更多\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"healthCenter\"\n  }, [_c('div', {\n    staticClass: \"healthCenter_top\"\n  }, [_c('span', [_vm._v(\"当前时间\")]), _vm._v(\" \"), _c('span', [_vm._v(\"心率\")])]), _vm._v(\" \"), _c('ul', [_c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"healthList none\",\n    attrs: {\n      \"id\": \"_jibu1\"\n    }\n  }, [_c('div', {\n    staticClass: \"healthList_top_wrap\"\n  }, [_c('div', {\n    staticClass: \"healthList_top\"\n  }, [_c('div', {\n    staticClass: \"div_1\"\n  }, [_c('a', {\n    staticClass: \"iconfont\",\n    attrs: {\n      \"href\": \"javascript:void(0);\"\n    }\n  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"div_2\"\n  }, [_c('p', {\n    staticClass: \"p_1\"\n  }, [_vm._v(\"计步\"), _c('span', {\n    staticClass: \"iconfont\"\n  }, [_vm._v(\"\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"div_3\"\n  }, [_c('p', {\n    staticClass: \"p_1\"\n  }, [_vm._v(\"2017/5/16\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"p_2\"\n  }, [_vm._v(\"查看更多\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"healthCenter jibu\"\n  }, [_c('div', {\n    staticClass: \"healthCenter_top\"\n  }, [_c('span', [_vm._v(\"步数\")]), _vm._v(\" \"), _c('span', [_vm._v(\"消耗热量\")])]), _vm._v(\" \"), _c('ul', [_c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"healthList none\",\n    attrs: {\n      \"id\": \"_xueya1\"\n    }\n  }, [_c('div', {\n    staticClass: \"healthList_top_wrap\"\n  }, [_c('div', {\n    staticClass: \"healthList_top\"\n  }, [_c('div', {\n    staticClass: \"div_1\"\n  }, [_c('a', {\n    staticClass: \"iconfont\",\n    attrs: {\n      \"href\": \"javascript:void(0);\"\n    }\n  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"div_2\"\n  }, [_c('p', {\n    staticClass: \"p_1\"\n  }, [_vm._v(\"血压\"), _c('span', {\n    staticClass: \"iconfont\"\n  }, [_vm._v(\"\")])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"p_2\"\n  }, [_vm._v(\"mmhg\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"div_3\"\n  }, [_c('p', {\n    staticClass: \"p_1\"\n  }, [_vm._v(\"2017/5/16\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"p_2\"\n  }, [_vm._v(\"查看更多\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"healthCenter\"\n  }, [_c('div', {\n    staticClass: \"healthCenter_top\"\n  }, [_c('span', [_vm._v(\"当前时间\")]), _vm._v(\" \"), _c('span', [_vm._v(\"心率\")])]), _vm._v(\" \"), _c('ul', [_c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"1\")]), _vm._v(\" \"), _c('span', [_vm._v(\"2\")])])])])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"tabList\"\n  }, [_c('a', {\n    staticClass: \"active\",\n    attrs: {\n      \"id\": \"_xinlv\",\n      \"href\": \"javascript:void(0);\"\n    }\n  }, [_c('span', {\n    staticClass: \"iconfont\"\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', [_vm._v(\"心率\")])]), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"id\": \"_jibu\",\n      \"href\": \"javascript:void(0);\"\n    }\n  }, [_c('span', {\n    staticClass: \"iconfont\"\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', [_vm._v(\"计步\")])]), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"id\": \"_xueya\",\n      \"href\": \"javascript:void(0);\"\n    }\n  }, [_c('span', {\n    staticClass: \"iconfont\"\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('span', [_vm._v(\"血压\")])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-41b89f8a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/module/health/App.vue\n// module id = 116\n// module chunks = 4"],"sourceRoot":""}